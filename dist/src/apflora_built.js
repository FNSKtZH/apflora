function Hammer(e,t,i){function n(e){return e.touches?e.touches.length:1}function o(e){if(e=e||window.event,$){for(var t,i=[],n=0,o=e.touches.length;o>n;n++)t=e.touches[n],i.push({x:t.pageX,y:t.pageY});return i}var s=document,a=s.body;return[{x:e.pageX||e.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&s.clientLeft||0),y:e.pageY||e.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&s.clientTop||0)}]}function s(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function a(e,t){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}function r(e,t){if(2==e.length&&2==t.length){var i=a(e[0],e[1]),n=a(t[0],t[1]);return n/i}return 0}function l(e,t){if(2==e.length&&2==t.length){var i=s(e[1],e[0]),n=s(t[1],t[0]);return n-i}return 0}function h(e,t){t.touches=o(t.originalEvent),t.type=e,m(b["on"+e])&&b["on"+e].call(b,t)}function u(e){e=e||window.event,e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)}function p(){I={},S=!1,C=0,T=0,M=0,D=null}function c(i){switch(i.type){case"mousedown":case"touchstart":I.start=o(i),A=(new Date).getTime(),C=n(i),S=!0,y=i;var s=e.getBoundingClientRect(),a=e.clientTop||document.body.clientTop||0,c=e.clientLeft||document.body.clientLeft||0,d=window.pageYOffset||e.scrollTop||document.body.scrollTop,f=window.pageXOffset||e.scrollLeft||document.body.scrollLeft;F={top:s.top+d-a,left:s.left+f-c},B=!0,O.hold(i),t.prevent_default&&u(i);break;case"mousemove":case"touchmove":if(!B)return!1;k=i,I.move=o(i),O.transform(i)||O.drag(i);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!B||"transform"!=D&&i.touches&&i.touches.length>0)return!1;B=!1,x=i,O.swipe(i),"drag"==D?h("dragend",{originalEvent:i,direction:P,distance:T,angle:M}):"transform"==D?h("transformend",{originalEvent:i,position:I.center,scale:r(I.start,I.move),rotation:l(I.start,I.move)}):O.tap(y),z=D,h("release",{originalEvent:i,gesture:D}),p()}}function d(t){f(e,t.relatedTarget)||c(t)}function f(e,t){if(!t&&window.event&&window.event.toElement&&(t=window.event.toElement),e===t)return!0;if(t)for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1}function g(e,t){var i={};if(!t)return e;for(var n in e)i[n]=n in t?t[n]:e[n];return i}function m(e){return"[object Function]"==Object.prototype.toString.call(e)}function _(e,t,i){t=t.split(" ");for(var n=0,o=t.length;o>n;n++)e.addEventListener?e.addEventListener(t[n],i,!1):document.attachEvent&&e.attachEvent("on"+t[n],i)}function v(e,t,i){t=t.split(" ");for(var n=0,o=t.length;o>n;n++)e.removeEventListener?e.removeEventListener(t[n],i,!1):document.detachEvent&&e.detachEvent("on"+t[n],i)}var b=this,w={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};t=g(w,t),function(){if(!t.css_hacks)return!1;for(var i=["webkit","moz","ms","o",""],n={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},o="",s=0;s<i.length;s++)for(var a in n)o=a,i[s]&&(o=i[s]+o.substring(0,1).toUpperCase()+o.substring(1)),e.style[o]=n[a]}();var y,k,x,T=0,M=0,P=0,I={},C=0,S=!1,D=null,z=null,A=null,j={x:0,y:0},N=null,E=null,F={},B=!1,$="ontouchstart"in window;this.option=function(e,n){return n!=i&&(t[e]=n),t[e]},this.getDirectionFromAngle=function(e){var t,i,n={down:e>=45&&135>e,left:e>=135||-135>=e,up:-45>e&&e>-135,right:e>=-45&&45>=e};for(i in n)if(n[i]){t=i;break}return t},this.destroy=function(){$?v(e,"touchstart touchmove touchend touchcancel",c):(v(e,"mouseup mousedown mousemove",c),v(e,"mouseout",d))};var O={hold:function(e){t.hold&&(D="hold",clearTimeout(E),E=setTimeout(function(){"hold"==D&&h("hold",{originalEvent:e,position:I.start})},t.hold_timeout))},swipe:function(e){if(I.move){var i=I.move[0].x-I.start[0].x,n=I.move[0].y-I.start[0].y;T=Math.sqrt(i*i+n*n);var o=(new Date).getTime(),a=o-A;if(t.swipe&&t.swipe_time>a&&T>t.swipe_min_distance){M=s(I.start[0],I.move[0]),P=b.getDirectionFromAngle(M),D="swipe";var r={x:I.move[0].x-F.left,y:I.move[0].y-F.top},l={originalEvent:e,position:r,direction:P,distance:T,distanceX:i,distanceY:n,angle:M};h("swipe",l)}}},drag:function(e){var i=I.move[0].x-I.start[0].x,n=I.move[0].y-I.start[0].y;if(T=Math.sqrt(i*i+n*n),t.drag&&T>t.drag_min_distance||"drag"==D){M=s(I.start[0],I.move[0]),P=b.getDirectionFromAngle(M);var o="up"==P||"down"==P;if((o&&!t.drag_vertical||!o&&!t.drag_horizontal)&&T>t.drag_min_distance)return;D="drag";var a={x:I.move[0].x-F.left,y:I.move[0].y-F.top},r={originalEvent:e,position:a,direction:P,distance:T,distanceX:i,distanceY:n,angle:M};S&&(h("dragstart",r),S=!1),h("drag",r),u(e)}},transform:function(e){if(t.transform){if(2!=n(e))return!1;var i=l(I.start,I.move),o=r(I.start,I.move);if("drag"!=D&&("transform"==D||Math.abs(1-o)>t.scale_treshold||Math.abs(i)>t.rotation_treshold)){D="transform",I.center={x:(I.move[0].x+I.move[1].x)/2-F.left,y:(I.move[0].y+I.move[1].y)/2-F.top};var s={originalEvent:e,position:I.center,scale:o,rotation:i};return S&&(h("transformstart",s),S=!1),h("transform",s),u(e),!0}}return!1},tap:function(e){var i=(new Date).getTime(),n=i-A;if(!t.hold||t.hold&&t.hold_timeout>n){var o=function(){if(j&&t.tap_double&&"tap"==z&&A-N<t.tap_max_interval){var e=Math.abs(j[0].x-I.start[0].x),i=Math.abs(j[0].y-I.start[0].y);return j&&I.start&&Math.max(e,i)<t.tap_double_distance}return!1}();if(o)D="double_tap",N=null,h("doubletap",{originalEvent:e,position:I.start}),u(e);else{var s=I.move?Math.abs(I.move[0].x-I.start[0].x):0,a=I.move?Math.abs(I.move[0].y-I.start[0].y):0;T=Math.max(s,a),T<t.tap_max_distance&&(D="tap",N=i,j=I.start,t.tap&&(h("tap",{originalEvent:e,position:I.start}),u(e)))}}}};$?_(e,"touchstart touchmove touchend touchcancel",c):(_(e,"mouseup mousedown mousemove",c),_(e,"mouseout",d))}function ClusterIcon(e,t){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function Cluster(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,e.getStyles())}function MarkerClusterer(e,t,i){this.extend(MarkerClusterer,google.maps.OverlayView),t=t||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,void 0!==i.zoomOnClick&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,void 0!==i.averageCenter&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,void 0!==i.ignoreHidden&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==i.enableRetinaIcons&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.imagePath_=i.imagePath||MarkerClusterer.IMAGE_PATH,this.imageExtension_=i.imageExtension||MarkerClusterer.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||MarkerClusterer.IMAGE_SIZES,this.calculator_=i.calculator||MarkerClusterer.CALCULATOR,this.batchSize_=i.batchSize||MarkerClusterer.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}function inherits(e,t){function i(){}i.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new i,e.prototype.constructor=e}function MarkerLabel_(e,t){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=MarkerLabel_.getSharedCross(t)}function MarkerWithLabel(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),"undefined"==typeof e.raiseOnDrag&&(e.raiseOnDrag=!0),"undefined"==typeof e.clickable&&(e.clickable=!0),"undefined"==typeof e.draggable&&(e.draggable=!1),"undefined"==typeof e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new MarkerLabel_(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}function addruler(){var e,t,i,n,o,s,a;t=map.getCenter(),e=map.getBounds().getNorthEast(),map_sw=map.getBounds().getSouthWest(),n=map_sw.lat()+(e.lat()-t.lat())/8,o=map_sw.lng()+(t.lng()-map_sw.lng())/8,a=map_sw.lng()+(t.lng()-map_sw.lng())/8*2,i=new google.maps.LatLng(n,o),s=new google.maps.LatLng(n,a),ruler1=new google.maps.Marker({position:i,map:map,title:"Beginn Messung",draggable:!0}),ruler2=new google.maps.Marker({position:s,map:map,title:"Ende Messung",draggable:!0}),ruler1label=new Label({map:map}),ruler2label=new Label({map:map}),ruler1label.bindTo("position",ruler1,"position"),ruler2label.bindTo("position",ruler2,"position"),rulerpoly=new google.maps.Polyline({path:[ruler1.position,ruler2.position],strokeColor:"#FFFF00",strokeOpacity:.7,strokeWeight:7}),rulerpoly.setMap(map),ruler1label.set("text",distance(ruler1.getPosition().lat(),ruler1.getPosition().lng(),ruler2.getPosition().lat(),ruler2.getPosition().lng())),ruler2label.set("text",distance(ruler1.getPosition().lat(),ruler1.getPosition().lng(),ruler2.getPosition().lat(),ruler2.getPosition().lng())),google.maps.event.addListener(ruler1,"drag",function(){rulerpoly.setPath([ruler1.getPosition(),ruler2.getPosition()]),ruler1label.set("text",distance(ruler1.getPosition().lat(),ruler1.getPosition().lng(),ruler2.getPosition().lat(),ruler2.getPosition().lng())),ruler2label.set("text",distance(ruler1.getPosition().lat(),ruler1.getPosition().lng(),ruler2.getPosition().lat(),ruler2.getPosition().lng()))}),google.maps.event.addListener(ruler2,"drag",function(){rulerpoly.setPath([ruler1.getPosition(),ruler2.getPosition()]),ruler1label.set("text",distance(ruler1.getPosition().lat(),ruler1.getPosition().lng(),ruler2.getPosition().lat(),ruler2.getPosition().lng())),ruler2label.set("text",distance(ruler1.getPosition().lat(),ruler1.getPosition().lng(),ruler2.getPosition().lat(),ruler2.getPosition().lng()))})}function removeruler(){google.maps.event.clearListeners(ruler1,"drag"),ruler1.setMap(null),google.maps.event.clearListeners(ruler2,"drag"),ruler2.setMap(null),ruler1label.setMap(null),ruler2label.setMap(null),rulerpoly.setMap(null)}function distance(e,t,i,n){var o=6371,s=(i-e)*Math.PI/180,a=(n-t)*Math.PI/180,r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),h=o*l;return h>10?Math.round(h)+"km":10>=h?Math.round(1e3*h)+"m":h}function Label(e){this.setValues(e);var t=this.span_=document.createElement("span");t.style.cssText='position: relative; left: 0%; top: -8px; white-space: nowrap; border: 0px; font-family:arial; font-weight:bold;padding: 2px; background-color: #ddd; opacity: .75; filter: alpha(opacity=75); -ms-filter: "alpha(opacity=75)"; -khtml-opacity: .75; -moz-opacity: .75;';var i=this.div_=document.createElement("div");i.appendChild(t),i.style.cssText="position: absolute; display: none"}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var o,s,a,r=t.nodeName.toLowerCase();return"area"===r?(o=t.parentNode,s=o.name,t.href&&s&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap=#"+s+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function n(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function o(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(m.inline?t.parent()[0]:m.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function a(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}function r(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(){var t=this.css("position"),i="absolute"===t,n=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==t&&n.length?n:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&t(i,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,n(this,t)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,n(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}};var l=0,h=Array.prototype.slice;e.cleanData=function(t){return function(i){for(var n,o=0;null!=(n=i[o]);o++)try{e(n).triggerHandler("remove")}catch(s){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,s,a,r,l={},h=t.split(".")[0];return t=t.split(".")[1],o=h+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[h]=e[h]||{},s=e[h][t],a=e[h][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(l[t]=n)}),a.prototype=e.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix||t:t},l,{constructor:a,namespace:h,widgetName:t,widgetFullName:o}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete s._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,n,o=h.call(arguments,1),s=0,a=o.length;a>s;s++)for(i in o[s])n=o[s][i],o[s].hasOwnProperty(i)&&void 0!==n&&(t[i]=e.isPlainObject(n)?e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=h.call(arguments,1),r=this;return o=!s&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,this.each(s?function(){var i,s=e.data(this,n);return"instance"===o?(r=s,!1):s?e.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,a),i!==s&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=e.data(this,n);t?(t.option(o||{}),t._init&&t._init()):e.data(this,n,new i(o,this))}),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,s,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(o=a[t]=e.widget.extend({},this.options[t]),s=0;s<n.length-1;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,a){function r(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+s.eventNamespace,u=l[2];u?o.delegate(u,h,r):i.bind(h,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,s,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var a,r=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[r]?n[t](o):r!==t&&n[r]?n[r](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}});var u=(e.widget,!1);e(document).mouseup(function(){u=!1});e.widget("ui.mouse",{version:"1.11.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!u){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,n=1===t.which,o="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),u=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),u=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function t(e,t,i){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s,a=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,u=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return e("body").append(n),t=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),o=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return f.apply(this,arguments);o=e.extend({},o);var d,g,m,_,v,b,w=e(o.of),y=e.position.getWithinInfo(o.within),k=e.position.getScrollInfo(y),x=(o.collision||"flip").split(" "),T={};return b=n(w),w[0].preventDefault&&(o.at="left top"),g=b.width,m=b.height,_=b.offset,v=e.extend({},_),e.each(["my","at"],function(){var e,t,i=(o[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=p.exec(i[0]),t=p.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],o[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===o.at[0]?v.left+=g:"center"===o.at[0]&&(v.left+=g/2),"bottom"===o.at[1]?v.top+=m:"center"===o.at[1]&&(v.top+=m/2),d=t(T.at,g,m),v.left+=d[0],v.top+=d[1],this.each(function(){var n,h,u=e(this),p=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),M=p+f+i(this,"marginRight")+k.width,P=c+b+i(this,"marginBottom")+k.height,I=e.extend({},v),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===o.my[0]?I.left-=p:"center"===o.my[0]&&(I.left-=p/2),"bottom"===o.my[1]?I.top-=c:"center"===o.my[1]&&(I.top-=c/2),I.left+=C[0],I.top+=C[1],s||(I.left=l(I.left),I.top=l(I.top)),n={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[x[t]]&&e.ui.position[x[t]][i](I,{targetWidth:g,targetHeight:m,elemWidth:p,elemHeight:c,collisionPosition:n,collisionWidth:M,collisionHeight:P,offset:[d[0]+C[0],d[1]+C[1]],my:o.my,at:o.at,within:y,elem:u})}),o.using&&(h=function(e){var t=_.left-I.left,i=t+g-p,n=_.top-I.top,s=n+m-c,l={target:{element:w,left:_.left,top:_.top,width:g,height:m},element:{element:u,left:I.left,top:I.top,width:p,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};p>g&&r(t+i)<g&&(l.horizontal="center"),c>m&&r(n+s)<m&&(l.vertical="middle"),l.important=a(r(t),r(i))>a(r(n),r(s))?"horizontal":"vertical",o.using.call(this,e,l)}),u.offset(e.extend(I,{using:h}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=e.left-t.collisionPosition.marginLeft,l=o-r,h=r+t.collisionWidth-s-o;
t.collisionWidth>s?l>0&&0>=h?(i=e.left+l+t.collisionWidth-s-o,e.left+=l-i):e.left=h>0&&0>=l?o:l>h?o+s-t.collisionWidth:o:l>0?e.left+=l:h>0?e.left-=h:e.left=a(e.left-r,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,r=e.top-t.collisionPosition.marginTop,l=o-r,h=r+t.collisionHeight-s-o;t.collisionHeight>s?l>0&&0>=h?(i=e.top+l+t.collisionHeight-s-o,e.top+=l-i):e.top=h>0&&0>=l?o:l>h?o+s-t.collisionHeight:o:l>0?e.top+=l:h>0?e.top-=h:e.top=a(e.top-r,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,h=e.left-t.collisionPosition.marginLeft,u=h-l,p=h+t.collisionWidth-a-l,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+d+f+t.collisionWidth-a-s,(0>i||i<r(u))&&(e.left+=c+d+f)):p>0&&(n=e.left-t.collisionPosition.marginLeft+c+d+f-l,(n>0||r(n)<p)&&(e.left+=c+d+f))},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,h=e.top-t.collisionPosition.marginTop,u=h-l,p=h+t.collisionHeight-a-l,c="top"===t.my[1],d=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>u?(n=e.top+d+f+g+t.collisionHeight-a-s,e.top+d+f+g>u&&(0>n||n<r(u))&&(e.top+=d+f+g)):p>0&&(i=e.top-t.collisionPosition.marginTop+d+f+g-l,e.top+d+f+g>p&&(i>0||r(i)<p)&&(e.top+=d+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,a,r=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)t.style[a]=n[a];t.appendChild(l),i=r||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=e(l).offset().left,s=o>10&&11>o,t.innerHTML="",i.removeChild(t)}()}();e.ui.position;e.widget("ui.draggable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.document[0],n=this.options;try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(o){}return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this._removeHandleClassName(),e(this.options.handle||this.element).addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options,s=this.document[0];return this.relative_container=null,o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=e(o.containment),n=i[0],void(n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,o,s,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,h=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-a.grid[1]:o+a.grid[1]:o,s=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-a.grid[0]:s+a.grid[0]:s),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var o=n.options,s=e.extend({},i,{item:n.element});n.sortables=[],e(o.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,s))})},stop:function(t,i,n){var o=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,i,n){var o=this;e.each(n.sortables,function(){var s=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var o=e("body"),s=n.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(t,i,n){var o=n.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(t,i,n){var o=n.options;o._opacity&&e(i.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParent[0]!==i.document[0]&&"HTML"!==i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(t,i,n){var o=n.options,s=!1,a=n.document[0];n.scrollParent[0]!==a&&"HTML"!==n.scrollParent[0].tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?n.scrollParent[0].scrollTop=s=n.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-n.overflowOffset.top<o.scrollSensitivity&&(n.scrollParent[0].scrollTop=s=n.scrollParent[0].scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?n.scrollParent[0].scrollLeft=s=n.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-n.overflowOffset.left<o.scrollSensitivity&&(n.scrollParent[0].scrollLeft=s=n.scrollParent[0].scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var o=n.options;n.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var o,s,a,r,l,h,u,p,c,d,f=n.options,g=f.snapTolerance,m=i.offset.left,_=m+n.helperProportions.width,v=i.offset.top,b=v+n.helperProportions.height;for(c=n.snapElements.length-1;c>=0;c--)l=n.snapElements[c].left,h=l+n.snapElements[c].width,u=n.snapElements[c].top,p=u+n.snapElements[c].height,l-g>_||m>h+g||u-g>b||v>p+g||!e.contains(n.snapElements[c].item.ownerDocument,n.snapElements[c].item)?(n.snapElements[c].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(u-b)<=g,s=Math.abs(p-v)<=g,a=Math.abs(l-_)<=g,r=Math.abs(h-m)<=g,o&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top-n.margins.top),s&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left-n.margins.left),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left)),d=o||s||a||r,"outer"!==f.snapMode&&(o=Math.abs(u-v)<=g,s=Math.abs(p-b)<=g,a=Math.abs(l-m)<=g,r=Math.abs(h-_)<=g,o&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top-n.margins.top),s&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left-n.margins.left),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[c].snapping&&(o||s||a||r||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=o||s||a||r||d)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var o,s=n.options,a=e.makeArray(e(s.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});a.length&&(o=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(t,i,n){var o=n.options;o._zIndex&&e(i.helper).css("zIndex",o._zIndex)}});e.ui.draggable;e.widget("ui.droppable",{version:"1.11.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e(this).droppable("instance");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,n){if(!i.offset)return!1;var o,s,a=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=a+t.helperProportions.width,h=r+t.helperProportions.height,u=i.offset.left,p=i.offset.top,c=u+i.proportions().width,d=p+i.proportions().height;switch(n){case"fit":return a>=u&&c>=l&&r>=p&&d>=h;case"intersect":return u<a+t.helperProportions.width/2&&l-t.helperProportions.width/2<c&&p<r+t.helperProportions.height/2&&h-t.helperProportions.height/2<d;case"pointer":return o=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,s=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(s,p,i.proportions().height)&&e(o,u,i.proportions().width);case"touch":return(r>=p&&d>=r||h>=p&&d>=h||p>r&&h>d)&&(a>=u&&c>=a||l>=u&&c>=l||u>a&&l>c);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,o,s=e.ui.ddmanager.droppables[t.options.scope]||[],a=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(o=0;o<r.length;o++)if(r[o]===s[n].element[0]){s[n].proportions().height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===a&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,a=e.ui.intersect(t,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o}),s.length&&(n=e(s[0]).droppable("instance"),n.greedyChild="isover"===r)),n&&"isover"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),n&&"isout"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}};e.ui.droppable;e.widget("ui.resizable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return t[n]>0?!0:(t[n]=1,o=t[n]>0,t[n]=0,o)},_create:function(){var t,i,n,o,s,a=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),s="ui-resizable-"+n,o=e("<div class='ui-resizable-handle "+s+"'></div>"),o.css({zIndex:r.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(t){var i,n,o,s;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,s),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var i,n,o,s=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,n+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:i,top:n},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0
},_mouseDrag:function(t){var i,n=this.helper,o={},s=this.originalMousePosition,a=this.axis,r=t.pageX-s.left||0,l=t.pageY-s.top||0,h=this._change[a];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},h?(i=h.apply(this,[t,r,l]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==this.prevPosition.top&&(o.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(o.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(o.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(o)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,o,s,a,r,l,h=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,s=n?0:u.sizeDiff.width,a={width:u.helper.width()-s,height:u.helper.height()-o},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,h.animate||this.element.css(e.extend(a,{top:l,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!h.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,n,o,s,a=this.options;s={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),a&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&h&&(e.left=r-t.minWidth),n&&h&&(e.left=r-t.maxWidth),a&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,o,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);o.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),a=s&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&h?{top:u,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,o,s,a,r,l=e(this).resizable("instance"),h=l.options,u=l.element,p=h.containment,c=p instanceof e?p.get(0):/parent/.test(p)?u.parent().get(0):p;c&&(l.containerElement=e(c),/document/.test(p)||p===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,o=l.containerSize.height,s=l.containerSize.width,a=l._hasScroll(c,"left")?c.scrollWidth:s,r=l._hasScroll(c)?c.scrollHeight:o,l.parentData={element:c,left:n.left,top:n.top,width:a,height:r}))},resize:function(t,i){var n,o,s,a,r=e(this).resizable("instance"),l=r.options,h=r.containerOffset,u=r.position,p=r._aspectRatio||t.shiftKey,c={top:0,left:0},d=r.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=h),u.left<(r._helper?h.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-h.left:r.position.left-c.left),p&&(r.size.height=r.size.width/r.aspectRatio,f=!1),r.position.left=l.helper?h.left:0),u.top<(r._helper?h.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-h.top:r.position.top),p&&(r.size.width=r.size.height*r.aspectRatio,f=!1),r.position.top=r._helper?h.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,n=Math.abs((r._helper?r.offset.left-c.left:r.offset.left-h.left)+r.sizeDiff.width),o=Math.abs((r._helper?r.offset.top-c.top:r.offset.top-h.top)+r.sizeDiff.height),s=r.containerElement.get(0)===r.element.parent().get(0),a=/relative|absolute/.test(r.containerElement.css("position")),s&&a&&(n-=Math.abs(r.parentData.left)),n+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-n,p&&(r.size.height=r.size.width/r.aspectRatio,f=!1)),o+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-o,p&&(r.size.width=r.size.height*r.aspectRatio,f=!1)),f||(r.position.left=i.prevPosition.left,r.position.top=i.prevPosition.top,r.size.width=i.prevSize.width,r.size.height=i.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,o=t.containerPosition,s=t.containerElement,a=e(t.helper),r=a.offset(),l=a.outerWidth()-t.sizeDiff.width,h=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:r.left-o.left-n.left,width:l,height:h}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:r.left-o.left-n.left,width:l,height:h})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).resizable("instance"),o=n.options,s=n.originalSize,a=n.originalPosition,r={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(t,n){e(t).each(function(){var t=e(this),o=e(this).data("ui-resizable-alsoresize"),s={},a=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(o[t]||0)+(r[t]||0);i&&i>=0&&(s[t]=i||null)}),t.css(s)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):e.each(o.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size,o=t.originalSize,s=t.originalPosition,a=t.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,u=Math.round((n.width-o.width)/l)*l,p=Math.round((n.height-o.height)/h)*h,c=o.width+u,d=o.height+p,f=i.maxWidth&&i.maxWidth<c,g=i.maxHeight&&i.maxHeight<d,m=i.minWidth&&i.minWidth>c,_=i.minHeight&&i.minHeight>d;i.grid=r,m&&(c+=l),_&&(d+=h),f&&(c-=l),g&&(d-=h),/^(se|s|e)$/.test(a)?(t.size.width=c,t.size.height=d):/^(ne)$/.test(a)?(t.size.width=c,t.size.height=d,t.position.top=s.top-p):/^(sw)$/.test(a)?(t.size.width=c,t.size.height=d,t.position.left=s.left-u):(d-h>0?(t.size.height=d,t.position.top=s.top-p):(t.size.height=h,t.position.top=s.top+o.height-h),c-l>0?(t.size.width=c,t.position.left=s.left-u):(t.size.width=l,t.position.left=s.left+o.width-l))}});e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,o=e.data(this,"selectable-item");return o?(n=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",t,{selecting:o.element}):i._trigger("unselecting",t,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,s=this.opos[0],a=this.opos[1],r=t.pageX,l=t.pageY;return s>r&&(i=r,r=s,s=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:s,top:a,width:r-s,height:l-a}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?h=!(i.left>r||i.right<s||i.top>l||i.bottom<a):"fit"===o.tolerance&&(h=i.left>s&&i.right<r&&i.top>a&&i.bottom<l),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,o=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(n=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var o,s,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(s)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,s,a=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,a={};s&&"x"!==s||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=e.left,a=s+e.width,r=e.top,l=r+e.height,h=this.offset.click.top,u=this.offset.click.left,p="x"===this.options.axis||n+h>r&&l>n+h,c="y"===this.options.axis||t+u>s&&a>t+u,d=p&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return n?this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var n,o,s,a,r=[],l=[],h=this._connectWith();if(h&&t)for(n=h.length-1;n>=0;n--)for(s=e(h[n]),o=s.length-1;o>=0;o--)a=e.data(s[o],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,s,a,r,l,h,u=this.items,p=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(o=e(c[i]),n=o.length-1;n>=0;n--)s=e.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(p.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=p.length-1;i>=0;i--)for(a=p[i][1],r=p[i][0],n=0,h=r.length;h>n;n++)l=e(r[n]),l.data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,n,o,s,a,r,l,h,u,p,c=null,d=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(o=1e4,s=null,u=c.floating||this._isFloating(this.currentItem),a=u?"left":"top",r=u?"width":"height",p=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],h=!1,t[p]-l>this.items[n][r]/2&&(h=!0),Math.abs(t[p]-l)<o&&(o=Math.abs(t[p]-l),s=this.items[n],this.direction=h?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[d].element,!0),this._trigger("change",t,this._uiHash()),this.containers[d]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n
},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,s=t.pageX,a=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<o.length;n++)o[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<o.length;n++)o[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,o=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,n=i.heightStyle,o=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),o=n.uniqueId().attr("id");t.attr("aria-controls",o),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=o.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o[0]===n[0],a=s&&i.collapsible,r=a?e():o.next(),l=n.next(),h={oldHeader:n,oldPanel:l,newHeader:a?e():o,newPanel:r};t.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",t,h)===!1||(i.active=a?!1:this.headers.index(o),this.active=s?e():o,this._toggle(h),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,i){var n,o,s,a=this,r=0,l=e.length&&(!t.length||e.index()<t.index()),h=this.options.animate||{},u=l&&h.down||h,p=function(){a._toggleComplete(i)};return"number"==typeof u&&(s=u),"string"==typeof u&&(o=u),o=o||u.easing||h.easing,s=s||u.duration||h.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:o,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?r+=i.now:"content"!==a.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-r),r=0)}})):t.animate(this.hideProps,s,o,p):e.animate(this.showProps,s,o,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,o,s,a,r,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,o=this.previousFilter||"",s=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),s===o?a=!0:s=o+s,r=new RegExp("^"+i(s),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return r.test(e(this).text())}),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(t.keyCode),r=new RegExp("^"+i(s),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return r.test(e(this).text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,n=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),n=e("<span>").addClass("ui-menu-icon ui-icon "+o).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),t=s.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,o,s,a,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=t.outerHeight(),0>o?this.activeMenu.scrollTop(s+o):o+r>a&&this.activeMenu.scrollTop(s+o-a+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-o<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+o>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}});e.widget("ui.autocomplete",{version:"1.11.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,a="input"===o;this.isMultiLine=s?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case s.UP:t=!0,this._keyEvent("previous",o);break;case s.DOWN:t=!0,this._keyEvent("next",o);break;case s.ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,o;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(o=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:o})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(o.value),n=i.item.attr("aria-label")||o.value,void(n&&jQuery.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,o){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!n)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)
},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}});var p,c=(e.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,n=t.form,o=e([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.11.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,o=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===p&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(o)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];g(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),p=this,void t.document.one("mouseup",function(){p=null}))}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(d),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});e.ui.button;e.extend(e.ui,{datepicker:{version:"1.11.0"}});var m;e.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,o,s;n=t.nodeName.toLowerCase(),o="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),o),s.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,s):o&&this._inlineDatepicker(t,s)},_newInst:function(t,i){var n=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,o,s,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(o=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:o,title:o}):o)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,o,s=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,o=0;o<e.length;o++)e[o].length>i&&(i=e[o].length,n=o);return n},s.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,o,s){var r,l,h,u,p,c=this._dialogInst;return c||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),a(c.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,p=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,h/2-150+p]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,n=e(t),o=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var o,s,r,l,h=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):h?"all"===i?e.extend({},h.settings):this._get(h,i):null:(o=i||{},"string"==typeof i&&(o={},o[i]=n),void(h&&(this._curInst===h&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,o),null!==r&&void 0!==o.dateFormat&&void 0===o.minDate&&(h.settings.minDate=this._formatDate(h,r)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),h),this._autoSize(h),this._setDate(h,s),this._updateAlternate(h),this._updateDatepicker(h))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,o,s=e.datepicker._getInst(t.target),a=!0,r=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),o[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,o[0]),i=e.datepicker._get(s,"onSelect"),i?(n=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,o=e.datepicker._getInst(t.target);return e.datepicker._get(o,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,o,s,r,l,h,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),o=e.datepicker._get(i,"beforeShow"),s=o?o.apply(t,[t,i]):{},s!==!1&&(a(i.settings,s),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(h=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[h]?i.dpDiv.show(h,e.datepicker._get(i,"showOptions"),u):i.dpDiv[h||"show"](h?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,m=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a");var i,n=this._getNumberOfMonths(t),o=n[1],s=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",s*o+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var o=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?o-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+s>h&&h>s?Math.abs(s+r):0),i},_findPos:function(t){for(var i,n=this._getInst(t),o=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,o,s,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),o=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,o):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,s=this._get(a,"onClose"),s&&s.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var o=e(t),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(t){var i,n=e(t),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var o=e(t),s=this._getInst(o[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(t,i,n,o){var s,a=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(s=this._getInst(a[0]),s.selectedDay=s.currentDay=e("a",o).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,o=e(t),s=this._getInst(o[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,o,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),o=this.formatDate(i,n,this._getFormatConfig(t)),e(s).each(function(){e(this).val(o)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var o,s,a,r,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),p=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,c=(n?n.dayNames:null)||this._defaults.dayNames,d=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,w=function(e){var i=o+1<t.length&&t.charAt(o+1)===e;return i&&o++,i},y=function(e){var t=w(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o=new RegExp("^\\d{1,"+n+"}"),s=i.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},k=function(t,n,o){var s=-1,a=e.map(w(t)?o:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=t[0],l+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<t.length;o++)if(b)"'"!==t.charAt(o)||w("'")?x():b=!1;else switch(t.charAt(o)){case"d":_=y("d");break;case"D":k("D",p,c);break;case"o":v=y("o");break;case"m":m=y("m");break;case"M":m=k("M",d,f);break;case"y":g=y("y");break;case"@":r=new Date(y("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((y("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":w("'")?x():b=!0;break;default:x()}if(l<i.length&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),v>-1)for(m=1,_=v;;){if(s=this._getDaysInMonth(g,m-1),s>=_)break;m++,_-=s}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},h=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},p="",c=!1;if(t)for(n=0;n<e.length;n++)if(c)"'"!==e.charAt(n)||l("'")?p+=e.charAt(n):c=!1;else switch(e.charAt(n)){case"d":p+=h("d",t.getDate(),2);break;case"D":p+=u("D",t.getDay(),o,s);break;case"o":p+=h("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":p+=h("m",t.getMonth()+1,2);break;case"M":p+=u("M",t.getMonth(),a,r);break;case"y":p+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":p+=t.getTime();break;case"!":p+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?p+="'":c=!0;break;default:p+=e.charAt(n)}return p},_possibleChars:function(e){var t,i="",n=!1,o=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||o("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),s=o,a=this._getFormatConfig(e);try{s=this.parseDate(i,n,a)||o}catch(r){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var o=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=o.getFullYear(),a=o.getMonth(),r=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":a+=parseInt(h[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,a));break;case"y":case"Y":s+=parseInt(h[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,a))}h=l.exec(i)}return new Date(s,a,r)},a=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,o=e.selectedMonth,s=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),o===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,o,s,a,r,l,h,u,p,c,d,f,g,m,_,v,b,w,y,k,x,T,M,P,I,C,S,D,z,A,j,N,E,F,B,$,O,L=new Date,H=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),W=this._get(e,"isRTL"),K=this._get(e,"showButtonPanel"),R=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),V=1!==U[0]||1!==U[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Q=e.drawMonth-Y,et=e.drawYear;if(0>Q&&(Q+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-U[0]*U[1]+1,X.getDate())),t=J&&J>t?J:t;this._daylightSavingAdjust(new Date(et,Q,1))>t;)Q--,0>Q&&(Q=11,et--);for(e.drawMonth=Q,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Q-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":R?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",o=this._get(e,"nextText"),o=q?this.formatDate(o,this._daylightSavingAdjust(new Date(et,Q+G,1)),this._getFormatConfig(e)):o,s=this._canAdjustMonth(e,1,et,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>":R?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>",a=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?Z:H,a=q?this.formatDate(a,r,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",h=K?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,p=this._get(e,"showWeek"),c=this._get(e,"dayNames"),d=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",k=0;k<U[0];k++){for(x="",this.maxRows=4,T=0;T<U[1];T++){if(M=this._daylightSavingAdjust(new Date(et,Q,e.selectedDay)),P=" ui-corner-all",I="",V){if(I+="<div class='ui-datepicker-group",U[1]>1)switch(T){case 0:I+=" ui-datepicker-group-first",P=" ui-corner-"+(W?"right":"left");
break;case U[1]-1:I+=" ui-datepicker-group-last",P=" ui-corner-"+(W?"left":"right");break;default:I+=" ui-datepicker-group-middle",P=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+P+"'>"+(/all|left/.test(P)&&0===k?W?s:n:"")+(/all|right/.test(P)&&0===k?W?n:s:"")+this._generateMonthYearHeader(e,Q,et,J,X,k>0||T>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=p?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",y=0;7>y;y++)S=(y+u)%7,C+="<th scope='col'"+((y+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+c[S]+"'>"+d[S]+"</span></th>";for(I+=C+"</tr></thead><tbody>",D=this._getDaysInMonth(et,Q),et===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),z=(this._getFirstDayOfMonth(et,Q)-u+7)%7,A=Math.ceil((z+D)/7),j=V&&this.maxRows>A?this.maxRows:A,this.maxRows=j,N=this._daylightSavingAdjust(new Date(et,Q,1-z)),E=0;j>E;E++){for(I+="<tr>",F=p?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",y=0;7>y;y++)B=m?m.apply(e.input?e.input[0]:null,[N]):[!0,""],$=N.getMonth()!==Q,O=$&&!v||!B[0]||J&&J>N||X&&N>X,F+="<td class='"+((y+u+6)%7>=5?" ui-datepicker-week-end":"")+($?" ui-datepicker-other-month":"")+(N.getTime()===M.getTime()&&Q===e.selectedMonth&&e._keyEvent||b.getTime()===N.getTime()&&b.getTime()===M.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+($&&!_?"":" "+B[1]+(N.getTime()===Z.getTime()?" "+this._currentClass:"")+(N.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+($&&!_||!B[2]?"":" title='"+B[2].replace(/'/g,"&#39;")+"'")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+($&&!_?"&#xa0;":O?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===H.getTime()?" ui-state-highlight":"")+(N.getTime()===Z.getTime()?" ui-state-active":"")+($?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);I+=F+"</tr>"}Q++,Q>11&&(Q=0,et++),I+="</tbody></table>"+(V?"</div>"+(U[0]>0&&T===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=I}w+=x}return w+=h,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,o,s,a,r){var l,h,u,p,c,d,f,g,m=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,h=o&&o.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!h||u<=o.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");w+="</select>"}if(v||(b+=w+(!s&&m&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(p=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),d=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=d(p[0]),g=Math.max(f,d(p[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=o?Math.min(g,o.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),v&&(b+=(!s&&m&&_?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),o=e.drawMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,o))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,o,s)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),o=i&&i>t?i:t;return n&&o>n?n:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var o=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(0>t?t:o[0]*o[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,o=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),a=null,r=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!o||t.getTime()>=o.getTime())&&(!s||t.getTime()<=s.getTime())&&(!a||t.getFullYear()>=a)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new o,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.0";var _=(e.datepicker,e.widget("ui.dialog",{version:"1.11.0",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(o){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,o);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){o.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var o,s;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(t.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(o))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(o,s){var a=s.offset.left-i.document.scrollLeft(),r=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,o=n.resizable,s=this.uiDialog.css("position"),a="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,o){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(o))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(o,s){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._untrackInstance(),this._trackingInstances().unshift(this),this._focusedElement=e(t.target)}})},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,o={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(o[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var i,n,o=this.uiDialog;"dialogClass"===e&&o.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!t&&o.resizable("destroy"),n&&"string"==typeof t&&o.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.0",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this,i=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._setOption("width",this.options.width),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var n=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger("focus",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr("aria-activedescendant",t.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this._setOption("width",this.options.width)},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var n=this,o="";e.each(i,function(i,s){s.optgroup!==o&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(t),o=s.optgroup),n._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var n=e("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,o=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](o).eq(-1):i[e+"All"](o).eq(0),n.length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{click:"_toggle",keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&(t||(t=this.element.outerWidth()),this.button.outerWidth(t))},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,n){var o=e(n),s=o.parent("optgroup");i.push({element:o,index:t,value:o.attr("value"),label:o.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||o.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),t=o.length;i>t;t++)a.push(s);this.handles=o.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,o,s,a,r,l,h,u=this,p=this.options;return p.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(o>i||o===i&&(t===u._lastChangedValue||u.values(t)===p.min))&&(o=i,s=e(this),a=t)}),r=this._start(t,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,s.addClass("ui-state-active").focus(),l=s.offset(),h=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),s=this._valueMin()+n*o,this._trimAlignValue(s)
},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,o,s;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(o=this.values(),o[t]=i,s=this._trigger("slide",e,{handle:this.handles[t],value:i,values:o}),n=this.values(t?0:1),s!==!1&&this.values(t,i))):i!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:i}),s!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,o,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,o=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,o=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,o,s,a=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[h?"animate":"css"](u,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[h?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[h?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(n=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?(n-o)/(s-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](u,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,n,o,s,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,a),i===!1))return}switch(s=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-s)}this._slide(t,a,o)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var o=i.attr(n);void 0!==o&&o.length&&(t[n]=o)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:r(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:r(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:r(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:r(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void r(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,n;t=t.cloneNode(!1),i=t.href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(o){}try{n=decodeURIComponent(n)}catch(o){}return t.hash.length>1&&i===n}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,o){return e(o).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>o&&(t=0),0>t&&(t=o),t}for(var o=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,n){var o,s,a,r=e(n).uniqueId().attr("id"),l=e(n).closest("li"),h=l.attr("aria-controls");t._isLocal(n)?(o=n.hash,a=o.substring(1),s=t.element.find(t._sanitizeSelector(o))):(a=l.attr("aria-controls")||e({}).uniqueId()[0].id,o="#"+a,s=t.element.find(o),s.length||(s=t._createPanel(a),s.insertAfter(t.panels[i-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":a,"aria-labelledby":r}),s.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o.closest("li"),a=s[0]===n[0],r=a&&i.collapsible,l=r?e():this._getPanelForTab(s),h=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:h,newTab:r?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(s),this.active=a?e():s,this.xhr&&this.xhr.abort(),h.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,u))},_toggle:function(t,i){function n(){s.running=!1,s._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&s.options.show?s._show(a,s.options.show,n):(a.show(),n())}var s=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),o()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,o=this.tabs.eq(t),s=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),r={tab:o,panel:a};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),n._trigger("load",i,r)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&n.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,s){return o._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.0",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(i,n);-1!==o&&n.splice(o,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n[0],t.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,o=this,s=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&o._delay(function(){t&&(t.type=s),this._open(t,e,i)})}),void(i&&this._open(t,e,i)))},_open:function(t,i,n){function o(e){h.of=e,s.is(":hidden")||s.position(h)}var s,a,r,l,h=e.extend({},this.options.position);if(n){if(s=this._find(i),s.length)return void s.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):s.position(e.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){s.is(":visible")&&(o(h.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:s}),a={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}},i[0]!==this.element[0]&&(a.remove=function(){this._removeTooltip(s)}),t&&"mouseover"!==t.type||(a.mouseleave="close"),t&&"focusin"!==t.type||(a.focusout="close"),this._on(!0,i,a)}},close:function(t){var i=this,n=e(t?t.currentTarget:this.element),o=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.stop(!0),this._hide(o,this.options.hide,function(){i._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:o}),this.closing=!1)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]=t,i},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n[0],t.close(o,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title")||n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),"ui-effects-");e.effects={effect:{}},function(e,t){function i(e,t,i){var n=p[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=h(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,o){var s,a=o.re.exec(t),r=a&&o.parse(a),l=o.space||"rgba";return r?(s=i[l](r),i[u[l].cache]=s[u[l].cache],n=i._rgba=s._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,s.transparent),i):s[t]}function o(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var s,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=e.Color=function(t,i,n,o){return new e.Color.fn.parse(t,i,n,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=h.support={},d=e("<p>")[0],f=e.each;d.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=d.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),h.fn=e.extend(h.prototype,{parse:function(o,a,r,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(a),a=t);var p=this,c=e.type(o),d=this._rgba=[];return a!==t&&(o=[o,a,r,l],c="array"),"string"===c?this.parse(n(o)||s._default):"array"===c?(f(u.rgba.props,function(e,t){d[t.idx]=i(o[t.idx],t)}),this):"object"===c?(o instanceof h?f(u,function(e,t){o[t.cache]&&(p[t.cache]=o[t.cache].slice())}):f(u,function(t,n){var s=n.cache;f(n.props,function(e,t){if(!p[s]&&n.to){if("alpha"===e||null==o[e])return;p[s]=n.to(p._rgba)}p[s][t.idx]=i(o[e],t,!0)
}),p[s]&&e.inArray(null,p[s].slice(0,3))<0&&(p[s][3]=1,n.from&&(p._rgba=n.from(p[s])))}),this):void 0},is:function(e){var t=h(e),i=!0,n=this;return f(u,function(e,o){var s,a=t[o.cache];return a&&(s=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(e,t){return null!=a[t.idx]?i=a[t.idx]===s[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=h(e),o=n._space(),s=u[o],a=0===this.alpha()?h("transparent"):this,r=a[s.cache]||s.to(a._rgba),l=r.slice();return n=n[s.cache],f(s.props,function(e,o){var s=o.idx,a=r[s],h=n[s],u=p[o.type]||{};null!==h&&(null===a?l[s]=h:(u.mod&&(h-a>u.mod/2?a+=u.mod:a-h>u.mod/2&&(a-=u.mod)),l[s]=i((h-a)*t+a,o)))}),this[o](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=h(t)._rgba;return h(e.map(i,function(e,t){return(1-n)*o[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,o=e[1]/255,s=e[2]/255,a=e[3],r=Math.max(n,o,s),l=Math.min(n,o,s),h=r-l,u=r+l,p=.5*u;return t=l===r?0:n===r?60*(o-s)/h+360:o===r?60*(s-n)/h+120:60*(n-o)/h+240,i=0===h?0:.5>=p?h/u:h/(2-u),[Math.round(t)%360,i,p,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],a=.5>=n?n*(1+i):n+i-n*i,r=2*n-a;return[Math.round(255*o(r,a,t+1/3)),Math.round(255*o(r,a,t)),Math.round(255*o(r,a,t-1/3)),s]},f(u,function(n,o){var s=o.props,a=o.cache,l=o.to,u=o.from;h.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===t)return this[a].slice();var o,r=e.type(n),p="array"===r||"object"===r?n:arguments,c=this[a].slice();return f(s,function(e,t){var n=p["object"===r?e:t.idx];null==n&&(n=c[t.idx]),c[t.idx]=i(n,t)}),u?(o=h(u(c)),o[a]=c,o):h(c)},f(s,function(t,i){h.fn[t]||(h.fn[t]=function(o){var s,a=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":n,h=this[l](),u=h[i.idx];return"undefined"===a?u:("function"===a&&(o=o.call(this,u),a=e.type(o)),null==o&&i.empty?this:("string"===a&&(s=r.exec(o),s&&(o=u+parseFloat(s[2])*("+"===s[1]?1:-1))),h[i.idx]=o,this[l](h)))})})}),h.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,o){var s,a,r="";if("transparent"!==o&&("string"!==e.type(o)||(s=n(o)))){if(o=h(s||o),!c.rgba&&1!==o._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&a&&a.style;)try{r=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}o=o.blend(r&&"transparent"!==r?r:"_default")}o=o.toRgbaString()}try{t.style[i]=o}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=h(t.elem,i),t.end=h(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},h.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function t(t){var i,n,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(s[e.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(s[i]=o[i]);return s}function i(t,i){var n,s,a={};for(n in i)s=i[n],t[n]!==s&&(o[n]||(e.fx.step[n]||!isNaN(parseFloat(s)))&&(a[n]=s));return a}var n=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(o,s,a,r){var l=e.speed(s,a,r);return this.queue(function(){var s,a=e(this),r=a.attr("class")||"",h=l.children?a.find("*").addBack():a;h=h.map(function(){var i=e(this);return{el:i,start:t(this)}}),s=function(){e.each(n,function(e,t){o[t]&&a[t+"Class"](o[t])})},s(),h=h.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),h=h.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,h.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(i,n,o,s){return n?e.effects.animateClass.call(this,{add:i},n,o,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,o,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,o,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,o,s,a){return"boolean"==typeof n||void 0===n?o?e.effects.animateClass.call(this,n?{add:i}:{remove:i},o,s,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,o,s)}}(e.fn.toggleClass),switchClass:function(t,i,n,o,s){return e.effects.animateClass.call(this,{add:i,remove:t},n,o,s)}})}(),function(){function t(t,i,n,o){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(o=n,n=i,i={}),e.isFunction(n)&&(o=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=o||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.0",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(_+t[i],e[0].style[t[i]])},restore:function(e,t){var i,n;for(n=0;n<t.length;n++)null!==t[n]&&(i=e.data(_+t[n]),void 0===i&&(i=""),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(a){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,o){return o=o||{},e.each(i,function(e,i){var s=t.cssUnit(i);s[0]>0&&(o[i]=s[0]*n+s[1])}),o}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(s)&&s.call(o[0]),e.isFunction(t)&&t()}var o=e(this),s=n.complete,r=n.mode;(o.is(":hidden")?"hide"===r:"show"===r)?(o[r](),i()):a.call(o[0],n,i)}var n=t.apply(this,arguments),o=n.mode,s=n.queue,a=e.effects.effect[n.effect];return e.fx.off||!a?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):s===!1?this.each(i):this.queue(s||"fx",i)},show:function(e){return function(n){if(i(n))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(n){if(i(n))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(n){if(i(n)||"boolean"==typeof n)return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}();e.effects,e.effects.effect.blind=function(t,i){var n,o,s,a=e(this),r=/up|down|vertical/,l=/up|left|vertical|horizontal/,h=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(a,t.mode||"hide"),p=t.direction||"up",c=r.test(p),d=c?"height":"width",f=c?"top":"left",g=l.test(p),m={},_="show"===u;a.parent().is(".ui-effects-wrapper")?e.effects.save(a.parent(),h):e.effects.save(a,h),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),o=n[d](),s=parseFloat(n.css(f))||0,m[d]=_?o:0,g||(a.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),m[f]=_?s:o+s),_&&(n.css(d,0),g||n.css(f,s+o)),n.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&a.hide(),e.effects.restore(a,h),e.effects.removeWrapper(a),i()}})},e.effects.effect.bounce=function(t,i){var n,o,s,a=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),h="hide"===l,u="show"===l,p=t.direction||"up",c=t.distance,d=t.times||5,f=2*d+(u||h?1:0),g=t.duration/f,m=t.easing,_="up"===p||"down"===p?"top":"left",v="up"===p||"left"===p,b=a.queue(),w=b.length;for((u||h)&&r.push("opacity"),e.effects.save(a,r),a.show(),e.effects.createWrapper(a),c||(c=a["top"===_?"outerHeight":"outerWidth"]()/3),u&&(s={opacity:1},s[_]=0,a.css("opacity",0).css(_,v?2*-c:2*c).animate(s,g,m)),h&&(c/=Math.pow(2,d-1)),s={},s[_]=0,n=0;d>n;n++)o={},o[_]=(v?"-=":"+=")+c,a.animate(o,g,m).animate(s,g,m),c=h?2*c:c/2;h&&(o={opacity:0},o[_]=(v?"-=":"+=")+c,a.animate(o,g,m)),a.queue(function(){h&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),a.dequeue()},e.effects.effect.clip=function(t,i){var n,o,s,a=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),h="show"===l,u=t.direction||"vertical",p="vertical"===u,c=p?"height":"width",d=p?"top":"left",f={};e.effects.save(a,r),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),o="IMG"===a[0].tagName?n:a,s=o[c](),h&&(o.css(c,0),o.css(d,s/2)),f[c]=h?s:0,f[d]=h?0:s/2,o.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){h||a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),i()}})},e.effects.effect.drop=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(o,t.mode||"hide"),r="show"===a,l=t.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",p={opacity:r?1:0};e.effects.save(o,s),o.show(),e.effects.createWrapper(o),n=t.distance||o["top"===h?"outerHeight":"outerWidth"](!0)/2,r&&o.css("opacity",0).css(h,"pos"===u?-n:n),p[h]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,o.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})},e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===p*c&&o()}function o(){d.css({visibility:"visible"}),e(b).remove(),g||d.hide(),i()}var s,a,r,l,h,u,p=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=p,d=e(this),f=e.effects.setMode(d,t.mode||"hide"),g="show"===f,m=d.show().css("visibility","hidden").offset(),_=Math.ceil(d.outerWidth()/c),v=Math.ceil(d.outerHeight()/p),b=[];for(s=0;p>s;s++)for(l=m.top+s*v,u=s-(p-1)/2,a=0;c>a;a++)r=m.left+a*_,h=a-(c-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-s*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?h*_:0),top:l+(g?u*v:0),opacity:g?0:1}).animate({left:r+(g?0:h*_),top:l+(g?0:u*v),opacity:g?1:0},t.duration||500,t.easing,n)},e.effects.effect.fade=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var n,o,s=e(this),a=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"hide"),l="show"===r,h="hide"===r,u=t.size||15,p=/([0-9]+)%/.exec(u),c=!!t.horizFirst,d=l!==c,f=d?["width","height"]:["height","width"],g=t.duration/2,m={},_={};e.effects.save(s,a),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),o=d?[n.width(),n.height()]:[n.height(),n.width()],p&&(u=parseInt(p[1],10)/100*o[h?0:1]),l&&n.css(c?{height:0,width:u}:{height:u,width:0}),m[f[0]]=l?o[0]:u,_[f[1]]=l?o[1]:0,n.animate(m,g,t.easing).animate(_,g,t.easing,function(){h&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),i()})},e.effects.effect.highlight=function(t,i){var n=e(this),o=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(n,t.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===s&&(a.opacity=0),e.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,o),i()}})},e.effects.effect.size=function(t,i){var n,o,s,a=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],u=["fontSize"],p=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=e.effects.setMode(a,t.mode||"effect"),f=t.restore||"effect"!==d,g=t.scale||"both",m=t.origin||["middle","center"],_=a.css("position"),v=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===d?(a.from=t.to||b,a.to=t.from||n):(a.from=t.from||("show"===d?b:n),a.to=t.to||("hide"===d?b:n)),s={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},("box"===g||"both"===g)&&(s.from.y!==s.to.y&&(v=v.concat(p),a.from=e.effects.setTransition(a,p,s.from.y,a.from),a.to=e.effects.setTransition(a,p,s.to.y,a.to)),s.from.x!==s.to.x&&(v=v.concat(c),a.from=e.effects.setTransition(a,c,s.from.x,a.from),a.to=e.effects.setTransition(a,c,s.to.x,a.to))),("content"===g||"both"===g)&&s.from.y!==s.to.y&&(v=v.concat(u).concat(h),a.from=e.effects.setTransition(a,u,s.from.y,a.from),a.to=e.effects.setTransition(a,u,s.to.y,a.to)),e.effects.save(a,v),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(o=e.effects.getBaseline(m,n),a.from.top=(n.outerHeight-a.outerHeight())*o.y,a.from.left=(n.outerWidth-a.outerWidth())*o.x,a.to.top=(n.outerHeight-a.to.outerHeight)*o.y,a.to.left=(n.outerWidth-a.to.outerWidth)*o.x),a.css(a.from),("content"===g||"both"===g)&&(p=p.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),h=r.concat(p).concat(c),a.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,h),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=e.effects.setTransition(i,p,s.from.y,i.from),i.to=e.effects.setTransition(i,p,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=e.effects.setTransition(i,c,s.from.x,i.from),i.to=e.effects.setTransition(i,c,s.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,h)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===d&&a.hide(),e.effects.restore(a,v),f||("static"===_?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,i){var n=parseInt(i,10),o=e?a.to.left:a.to.top;return"auto"===i?o+"px":n+o+"px"})})),e.effects.removeWrapper(a),i()}})},e.effects.effect.scale=function(t,i){var n=e(this),o=e.extend(!0,{},t),s=e.effects.setMode(n,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),r=t.direction||"both",l=t.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==s&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:h),o.to={height:h.height*u.y,width:h.width*u.x,outerHeight:h.outerHeight*u.y,outerWidth:h.outerWidth*u.x},o.fade&&("show"===s&&(o.from.opacity=0,o.to.opacity=1),"hide"===s&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},e.effects.effect.puff=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"hide"),s="hide"===o,a=parseInt(t.percent,10)||150,r=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:s?a:100,from:s?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),n.effect(t)},e.effects.effect.pulsate=function(t,i){var n,o=e(this),s=e.effects.setMode(o,t.mode||"show"),a="show"===s,r="hide"===s,l=a||"hide"===s,h=2*(t.times||5)+(l?1:0),u=t.duration/h,p=0,c=o.queue(),d=c.length;for((a||!o.is(":visible"))&&(o.css("opacity",0).show(),p=1),n=1;h>n;n++)o.animate({opacity:p},u,t.easing),p=1-p;o.animate({opacity:p},u,t.easing),o.queue(function(){r&&o.hide(),i()}),d>1&&c.splice.apply(c,[1,0].concat(c.splice(d,h+1))),o.dequeue()},e.effects.effect.shake=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"effect"),r=t.direction||"left",l=t.distance||20,h=t.times||3,u=2*h+1,p=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",d="up"===r||"left"===r,f={},g={},m={},_=o.queue(),v=_.length;for(e.effects.save(o,s),o.show(),e.effects.createWrapper(o),f[c]=(d?"-=":"+=")+l,g[c]=(d?"+=":"-=")+2*l,m[c]=(d?"-=":"+=")+2*l,o.animate(f,p,t.easing),n=1;h>n;n++)o.animate(g,p,t.easing).animate(m,p,t.easing);o.animate(g,p,t.easing).animate(f,p/2,t.easing).queue(function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}),v>1&&_.splice.apply(_,[1,0].concat(_.splice(v,u+1))),o.dequeue()},e.effects.effect.slide=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(o,t.mode||"show"),r="show"===a,l=t.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,p={};e.effects.save(o,s),o.show(),n=t.distance||o["top"===h?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),r&&o.css(h,u?isNaN(n)?"-"+n:-n:n),p[h]=(r?u?"+=":"-=":u?"-=":"+=")+n,o.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})},e.effects.effect.transfer=function(t,i){var n=e(this),o=e(t.to),s="fixed"===o.css("position"),a=e("body"),r=s?a.scrollTop():0,l=s?a.scrollLeft():0,h=o.offset(),u={top:h.top-r,left:h.left-l,height:o.innerHeight(),width:o.innerWidth()},p=n.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:p.top-r,left:p.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})}}),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var i=e.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,n=e.ui.mouse.prototype,o=n._mouseInit;n._touchStart=function(e){var n=this;!i&&n._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},n._touchMove=function(e){i&&(this._touchMoved=!0,t(e,"mousemove"))},n._touchEnd=function(e){i&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),i=!1)},n._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd")),o.call(t)}}}(jQuery),jQuery.cookie=function(e,t,i){if("undefined"==typeof t){var n=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var a=jQuery.trim(o[s]);if(a.substring(0,e.length+1)==e+"="){n=decodeURIComponent(a.substring(e.length+1));break}}return n}i=i||{},null===t&&(t="",i.expires=-1);var r="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var l;"number"==typeof i.expires?(l=new Date,l.setTime(l.getTime()+24*i.expires*60*60*1e3)):l=i.expires,r="; expires="+l.toUTCString()}var h=i.path?"; path="+i.path:"",u=i.domain?"; domain="+i.domain:"",p=i.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),r,h,u,p].join("")},function(e){function t(t){if("string"==typeof t.data){var i=t.handler,n=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var o="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],s=String.fromCharCode(t.which).toLowerCase(),a="",r={};t.altKey&&"alt"!==o&&(a+="alt+"),t.ctrlKey&&"ctrl"!==o&&(a+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==o&&(a+="meta+"),t.shiftKey&&"shift"!==o&&(a+="shift+"),o?r[a+o]=!0:(r[a+s]=!0,r[a+e.hotkeys.shiftNums[s]]=!0,"shift+"===a&&(r[e.hotkeys.shiftNums[s]]=!0));for(var l=0,h=n.length;h>l;l++)if(r[n[l]])return i.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery),jQuery.fn.hammer=function(e){return this.each(function(){var t=new Hammer(this,e),i=jQuery(this);i.data("hammer",t);for(var n=["hold","tap","doubletap","transformstart","transform","transformend","dragstart","drag","dragend","swipe","release"],o=0;o<n.length;o++)t["on"+n[o]]=function(e,t){return function(i){e.trigger(jQuery.Event(t,i))}}(i,n[o])})},ClusterIcon.prototype.onAdd=function(){var e,t,i=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(n){if(e=!1,!t){var o,s,a=i.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",i.cluster_),google.maps.event.trigger(a,"clusterclick",i.cluster_),a.getZoomOnClick()&&(s=a.getMaxZoom(),o=i.cluster_.getBounds(),a.getMap().fitBounds(o),setTimeout(function(){a.getMap().fitBounds(o),null!==s&&a.getMap().getZoom()>s&&a.getMap().setZoom(s+1)},100)),n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=i.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",i.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=i.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",i.cluster_)})},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),i=parseInt(t[0].trim(),10),n=parseInt(t[1].trim(),10),o=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(o),e="<img src='"+this.url_+"' style='position: absolute; top: "+n+"px; left: "+i+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(e+="clip: rect("+-1*n+"px, "+(-1*i+this.width_)+"px, "+(-1*n+this.height_)+"px, "+-1*i+"px);"),e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var i=this.styles_[t];this.url_=i.url,this.height_=i.height,this.width_=i.width,this.anchorText_=i.anchorText||[0,0],this.anchorIcon_=i.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=i.textColor||"black",this.textSize_=i.textSize||11,this.textDecoration_=i.textDecoration||"none",this.fontWeight_=i.fontWeight||"bold",this.fontStyle_=i.fontStyle||"normal",this.fontFamily_=i.fontFamily||"Arial,sans-serif",this.backgroundPosition_=i.backgroundPosition||"0 0"},ClusterIcon.prototype.setCenter=function(e){this.center_=e},ClusterIcon.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers();for(e=0;e<i.length;e++)t.extend(i[e].getPosition());return t},Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},Cluster.prototype.addMarker=function(e){var t,i,n;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var o=this.markers_.length+1,s=(this.center_.lat()*(o-1)+e.getPosition().lat())/o,a=(this.center_.lng()*(o-1)+e.getPosition().lng())/o;this.center_=new google.maps.LatLng(s,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),i=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n)e.getMap()!==this.map_&&e.setMap(this.map_);else if(i<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(i===this.minClusterSize_)for(t=0;i>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return this.updateIcon_(),!0},Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},Cluster.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();var i=this.markerClusterer_.getStyles().length,n=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(n),this.clusterIcon_.show()},Cluster.prototype.isMarkerAlreadyAdded_=function(e){var t;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1},MarkerClusterer.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},MarkerClusterer.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);
this.listeners_=[],this.activeMap_=null,this.ready_=!1},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},MarkerClusterer.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),i=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)i.extend(t[e].getPosition());this.getMap().fitBounds(i)},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e},MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.setStyles=function(e){this.styles_=e},MarkerClusterer.prototype.getTitle=function(){return this.title_},MarkerClusterer.prototype.setTitle=function(e){this.title_=e},MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.setAverageCenter=function(e){this.averageCenter_=e},MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},MarkerClusterer.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},MarkerClusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},MarkerClusterer.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_},MarkerClusterer.prototype.setImageExtension=function(e){this.imageExtension_=e},MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_},MarkerClusterer.prototype.setImagePath=function(e){this.imagePath_=e},MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_},MarkerClusterer.prototype.setImageSizes=function(e){this.imageSizes_=e},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e},MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},MarkerClusterer.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_},MarkerClusterer.prototype.setClusterClass=function(e){this.clusterClass_=e},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.getClusters=function(){return this.clusters_},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},MarkerClusterer.prototype.addMarkers=function(e,t){var i;for(i in e)e.hasOwnProperty(i)&&this.pushMarkerTo_(e[i]);t||this.redraw_()},MarkerClusterer.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},MarkerClusterer.prototype.removeMarker=function(e,t){var i=this.removeMarker_(e);return!t&&i&&this.repaint(),i},MarkerClusterer.prototype.removeMarkers=function(e,t){var i,n,o=!1;for(i=0;i<e.length;i++)n=this.removeMarker_(e[i]),o=o||n;return!t&&o&&this.repaint(),o},MarkerClusterer.prototype.removeMarker_=function(e){var t,i=-1;if(this.markers_.indexOf)i=this.markers_.indexOf(e);else for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t]){i=t;break}return-1===i?!1:(e.setMap(null),this.markers_.splice(i,1),!0)},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},MarkerClusterer.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection(),i=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),n=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),o=t.fromLatLngToDivPixel(i);o.x+=this.gridSize_,o.y-=this.gridSize_;var s=t.fromLatLngToDivPixel(n);s.x-=this.gridSize_,s.y+=this.gridSize_;var a=t.fromDivPixelToLatLng(o),r=t.fromDivPixelToLatLng(s);return e.extend(a),e.extend(r),e},MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)},MarkerClusterer.prototype.resetViewport_=function(e){var t,i;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)i=this.markers_[t],i.isAdded=!1,e&&i.setMap(null)},MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){var i=6371,n=(t.lat()-e.lat())*Math.PI/180,o=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2),a=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),r=i*a;return r},MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},MarkerClusterer.prototype.addToClosestCluster_=function(e){var t,i,n,o,s=4e4,a=null;for(t=0;t<this.clusters_.length;t++)n=this.clusters_[t],o=n.getCenter(),o&&(i=this.distanceBetweenPoints_(o,e.getPosition()),s>i&&(s=i,a=n));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(n=new Cluster(this),n.addMarker(e),this.clusters_.push(n))},MarkerClusterer.prototype.createClusters_=function(e){var t,i,n,o=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),n=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var s=this.getExtendedBounds(n),a=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;a>t;t++)i=this.markers_[t],!i.isAdded&&this.isMarkerInBounds_(i,s)&&(!this.ignoreHidden_||this.ignoreHidden_&&i.getVisible())&&this.addToClosestCluster_(i);a<this.markers_.length?this.timerRefStatic=setTimeout(function(){o.createClusters_(a)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},MarkerClusterer.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},MarkerClusterer.CALCULATOR=function(e,t){for(var i=0,n="",o=e.length.toString(),s=o;0!==s;)s=parseInt(s/10,10),i++;return i=Math.min(i,t),{text:o,index:i,title:n}},MarkerClusterer.BATCH_SIZE=2e3,MarkerClusterer.BATCH_SIZE_IE=500,MarkerClusterer.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",MarkerClusterer.IMAGE_EXTENSION="png",MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),inherits(MarkerLabel_,google.maps.OverlayView),MarkerLabel_.getSharedCross=function(e){var t;return"undefined"==typeof MarkerLabel_.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,MarkerLabel_.getSharedCross.crossDiv=t),MarkerLabel_.getSharedCross.crossDiv},MarkerLabel_.prototype.onAdd=function(){var e,t,i,n,o,s,a,r=this,l=!1,h=!1,u=20,p="url("+this.handCursorURL_+")",c=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},d=function(){r.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof MarkerLabel_.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),MarkerLabel_.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(r.marker_.getDraggable()||r.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(r.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!r.marker_.getDraggable()&&!r.marker_.getClickable()||h||(this.style.cursor=r.marker_.getCursor(),google.maps.event.trigger(r.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){h=!1,r.marker_.getDraggable()&&(l=!0,this.style.cursor=p),(r.marker_.getDraggable()||r.marker_.getClickable())&&(google.maps.event.trigger(r.marker_,"mousedown",e),c(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var i;if(l&&(l=!1,r.eventDiv_.style.cursor="pointer",google.maps.event.trigger(r.marker_,"mouseup",t)),h){if(o){i=r.getProjection().fromLatLngToDivPixel(r.marker_.getPosition()),i.y+=u,r.marker_.setPosition(r.getProjection().fromDivPixelToLatLng(i));try{r.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(d,1406)}catch(s){}}r.crossDiv_.style.display="none",r.marker_.setZIndex(e),n=!0,h=!1,t.latLng=r.marker_.getPosition(),google.maps.event.trigger(r.marker_,"dragend",t)}}),google.maps.event.addListener(r.marker_.getMap(),"mousemove",function(n){var p;l&&(h?(n.latLng=new google.maps.LatLng(n.latLng.lat()-t,n.latLng.lng()-i),p=r.getProjection().fromLatLngToDivPixel(n.latLng),o&&(r.crossDiv_.style.left=p.x+"px",r.crossDiv_.style.top=p.y+"px",r.crossDiv_.style.display="",p.y-=u),r.marker_.setPosition(r.getProjection().fromDivPixelToLatLng(p)),o&&(r.eventDiv_.style.top=p.y+u+"px"),google.maps.event.trigger(r.marker_,"drag",n)):(t=n.latLng.lat()-r.marker_.getPosition().lat(),i=n.latLng.lng()-r.marker_.getPosition().lng(),e=r.marker_.getZIndex(),s=r.marker_.getPosition(),a=r.marker_.getMap().getCenter(),o=r.marker_.get("raiseOnDrag"),h=!0,r.marker_.setZIndex(1e6),n.latLng=r.marker_.getPosition(),google.maps.event.trigger(r.marker_,"dragstart",n)))}),google.maps.event.addDomListener(document,"keydown",function(e){h&&27===e.keyCode&&(o=!1,r.marker_.setPosition(s),r.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(r.marker_.getDraggable()||r.marker_.getClickable())&&(n?n=!1:(google.maps.event.trigger(r.marker_,"click",e),c(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(r.marker_.getDraggable()||r.marker_.getClickable())&&(google.maps.event.trigger(r.marker_,"dblclick",e),c(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(){h||(o=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){h||o&&(r.setPosition(u),r.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){h||o&&r.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){r.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){r.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){r.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){r.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){r.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){r.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){r.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){r.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){r.setStyles()})]},MarkerLabel_.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},MarkerLabel_.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},MarkerLabel_.prototype.setContent=function(){var e=this.marker_.get("labelContent");"undefined"==typeof e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.appendChild(e))},MarkerLabel_.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},MarkerLabel_.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},MarkerLabel_.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},MarkerLabel_.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},MarkerLabel_.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},MarkerLabel_.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},MarkerLabel_.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")&&this.marker_.getVisible()?"block":"none",this.eventDiv_.style.display=this.labelDiv_.style.display},inherits(MarkerWithLabel,google.maps.Marker),MarkerWithLabel.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},Label.prototype=new google.maps.OverlayView,Label.prototype.onAdd=function(){var e=this.getPanes().overlayLayer;e.appendChild(this.div_);var t=this;this.listeners_=[google.maps.event.addListener(this,"position_changed",function(){t.draw()}),google.maps.event.addListener(this,"text_changed",function(){t.draw()})]},Label.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_);for(var e=0,t=this.listeners_.length;t>e;++e)google.maps.event.removeListener(this.listeners_[e])},Label.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.get("position")),i=this.div_;i.style.left=t.x+"px",i.style.top=t.y+"px",i.style.display="block",this.span_.innerHTML=this.get("text").toString()};var Query=function(e){"use strict";var t=function(e){var t,i,n,o,s=[];if("undefined"==typeof e||null===e||""===e)return s;for(0===e.indexOf("?")&&(e=e.substring(1)),i=e.toString().split(/[&;]/),t=0;t<i.length;t++)n=i[t],o=n.split("="),s.push([o[0],o[1]]);return s},i=t(e),n=function(){var e,t,n="";for(e=0;e<i.length;e++)t=i[e],n.length>0&&(n+="&"),n+=t.join("=");return n.length>0?"?"+n:n},o=function(e){return e=decodeURIComponent(e),e=e.replace("+"," ")},s=function(e){var t,n;for(n=0;n<i.length;n++)if(t=i[n],o(e)===o(t[0]))return t[1]},a=function(e){var t,n,s=[];for(t=0;t<i.length;t++)n=i[t],o(e)===o(n[0])&&s.push(n[1]);return s},r=function(e,t){var n,s,a,r,l=[];for(n=0;n<i.length;n++)s=i[n],a=o(s[0])===o(e),r=o(s[1])===o(t),(1===arguments.length&&!a||2===arguments.length&&!a&&!r)&&l.push(s);return i=l,this},l=function(e,t,n){return 3===arguments.length&&-1!==n?(n=Math.min(n,i.length),i.splice(n,0,[e,t])):arguments.length>0&&i.push([e,t]),this},h=function(e,t,n){var s,a,h=-1;if(3===arguments.length){for(s=0;s<i.length;s++)if(a=i[s],o(a[0])===o(e)&&decodeURIComponent(a[1])===o(n)){h=s;break}r(e,n).addParam(e,t,h)}else{for(s=0;s<i.length;s++)if(a=i[s],o(a[0])===o(e)){h=s;break}r(e),l(e,t,h)}return this};return{getParamValue:s,getParamValues:a,deleteParam:r,addParam:l,replaceParam:h,toString:n}},Uri=function(e){"use strict";var t=!1,i=function(e){for(var i={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],o={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},s=i[t?"strict":"loose"].exec(e),a={},r=14;r--;)a[n[r]]=s[r]||"";return a[o.name]={},a[n[12]].replace(o.parser,function(e,t,i){t&&(a[o.name][t]=i)}),a},n=i(e||""),o=new Query(n.query),s=function(e){return"undefined"!=typeof e&&(n.protocol=e),n.protocol},a=null,r=function(e){return"undefined"!=typeof e&&(a=e),null===a?-1!==n.source.indexOf("//"):a},l=function(e){return"undefined"!=typeof e&&(n.userInfo=e),n.userInfo},h=function(e){return"undefined"!=typeof e&&(n.host=e),n.host},u=function(e){return"undefined"!=typeof e&&(n.port=e),n.port},p=function(e){return"undefined"!=typeof e&&(n.path=e),n.path},c=function(e){return"undefined"!=typeof e&&(o=new Query(e)),o},d=function(e){return"undefined"!=typeof e&&(n.anchor=e),n.anchor},f=function(e){return s(e),this},g=function(e){return r(e),this},m=function(e){return l(e),this},_=function(e){return h(e),this},v=function(e){return u(e),this},b=function(e){return p(e),this},w=function(e){return c(e),this},y=function(e){return d(e),this},k=function(e){return c().getParamValue(e)},x=function(e){return c().getParamValues(e)},T=function(e,t){return 2===arguments.length?c().deleteParam(e,t):c().deleteParam(e),this},M=function(e,t,i){return 3===arguments.length?c().addParam(e,t,i):c().addParam(e,t),this},P=function(e,t,i){return 3===arguments.length?c().replaceParam(e,t,i):c().replaceParam(e,t),this},I=function(){var e="",t=function(e){return null!==e&&""!==e};return t(s())?(e+=s(),s().indexOf(":")!==s().length-1&&(e+=":"),e+="//"):r()&&t(h())&&(e+="//"),t(l())&&t(h())&&(e+=l(),l().indexOf("@")!==l().length-1&&(e+="@")),t(h())&&(e+=h(),t(u())&&(e+=":"+u())),t(p())?e+=p():t(h())&&(t(c().toString())||t(d()))&&(e+="/"),t(c().toString())&&(0!==c().toString().indexOf("?")&&(e+="?"),e+=c().toString()),t(d())&&(0!==d().indexOf("#")&&(e+="#"),e+=d()),e},C=function(){return new Uri(I())};return{protocol:s,hasAuthorityPrefix:r,userInfo:l,host:h,port:u,path:p,query:c,anchor:d,setProtocol:f,setHasAuthorityPrefix:g,setUserInfo:m,setHost:_,setPort:v,setPath:b,setQuery:w,setAnchor:y,getQueryParamValue:k,getQueryParamValues:x,deleteQueryParam:T,addQueryParam:M,replaceQueryParam:P,toString:I,clone:C}},jsUri=Uri;!function(e,t,i){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(n){"use strict";function o(e,t,i,o){this.id=i,this.target=e,this.tooltip=D,this.elements={target:e},this._id=K+"-"+i,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:n(),disabled:S,attr:o,onTooltip:S,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=S}function s(e){return e===D||"object"!==n.type(e)}function a(e){return!(n.isFunction(e)||e&&e.attr||e.length||"object"===n.type(e)&&(e.jquery||e.then))}function r(e){var t,i,o,r;return s(e)?S:(s(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(t=e.content,s(t)||t.jquery||t.done?t=e.content={text:i=a(t)?S:t}:i=t.text,"ajax"in t&&(o=t.ajax,r=o&&o.once!==S,delete t.ajax,t.text=function(e,t){var s=i||n(this).attr(t.options.content.attr)||"Loading...",a=n.ajax(n.extend({},o,{context:t})).then(o.success,D,o.error).then(function(e){return e&&r&&t.set("content.text",e),e},function(e,i,n){t.destroyed||0===e.status||t.set("content.text",i+": "+n)});return r?s:(t.set("content.text",s),a)}),"title"in t&&(s(t.title)||(t.button=t.title.button,t.title=t.title.text),a(t.title||S)&&(t.title=S))),"position"in e&&s(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&s(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===C?{ready:C}:{event:e.show}),"hide"in e&&s(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&s(e.style)&&(e.style={classes:e.style}),n.each(W,function(){this.sanitize&&this.sanitize(e)}),e)}function l(e,t){for(var i,n=0,o=e,s=t.split(".");o=o[s[n++]];)n<s.length&&(i=o);return[i||e,s.pop()]}function h(e,t){var i,n,o;for(i in this.checks)for(n in this.checks[i])(o=new RegExp(n,"i").exec(e))&&(t.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,t))}function u(e){return U.concat("").join(e?"-"+e+" ":" ")}function p(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:i.scrollY||e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}||{}}function c(e,t){return t>0?setTimeout(n.proxy(e,this),t):void e.call(this)}function d(e){return this.tooltip.hasClass(Q)?S:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),void(this.timers.show=c.call(this,function(){this.toggle(C,e)},this.options.show.delay)))}function f(e){if(this.tooltip.hasClass(Q))return S;var t=n(e.relatedTarget),i=t.closest(Y)[0]===this.tooltip[0],o=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||o))try{e.preventDefault(),e.stopImmediatePropagation()}catch(s){}else this.timers.hide=c.call(this,function(){this.toggle(S,e)},this.options.hide.delay,this)}function g(e){return this.tooltip.hasClass(Q)||!this.options.hide.inactive?S:(clearTimeout(this.timers.inactive),void(this.timers.inactive=c.call(this,function(){this.hide(e)},this.options.hide.inactive)))}function m(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function _(e,i,o){n(t.body).delegate(e,(i.split?i:i.join(at+" "))+at,function(){var e=x.api[n.attr(this,q)];e&&!e.disabled&&o.apply(e,arguments)})}function v(e,i,s){var a,l,h,u,p,c=n(t.body),d=e[0]===t?c:e,f=e.metadata?e.metadata(s.metadata):D,g="html5"===s.metadata.type&&f?f[s.metadata.name]:D,m=e.data(s.metadata.name||"qtipopts");try{m="string"==typeof m?n.parseJSON(m):m}catch(_){}if(u=n.extend(C,{},x.defaults,s,"object"==typeof m?r(m):D,r(g||f)),l=u.position,u.id=i,"boolean"==typeof u.content.text){if(h=e.attr(u.content.attr),u.content.attr===S||!h)return S;u.content.text=h}if(l.container.length||(l.container=c),l.target===S&&(l.target=d),u.show.target===S&&(u.show.target=d),u.show.solo===C&&(u.show.solo=l.container.closest("body")),u.hide.target===S&&(u.hide.target=d),u.position.viewport===C&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new M(l.at,C),l.my=new M(l.my),e.data(K))if(u.overwrite)e.qtip("destroy",!0);else if(u.overwrite===S)return S;return e.attr(R,i),u.suppress&&(p=e.attr("title"))&&e.removeAttr("title").attr(tt,p).attr("title",""),a=new o(e,u,i,!!h),e.data(K,a),e.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var e;(e=n(this).data(K))&&e.destroy(!0)}),a}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t){var n,o,s=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+_t.join(s+" ")+s).split(" "),r=0;if(mt[t])return e.css(mt[t]);for(;n=a[r++];)if((o=e.css(n))!==i)return mt[t]=n,o}function y(e,t){return Math.ceil(parseFloat(w(e,t)))}function k(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.init(this.qtip=e)}var x,T,M,P,I,C=!0,S=!1,D=null,z="x",A="y",j="width",N="height",E="top",F="left",B="bottom",$="right",O="center",L="flipinvert",H="shift",W={},K="qtip",R="data-hasqtip",q="data-qtip-id",U=["ui-widget","ui-tooltip"],Y="."+K,G="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),V=K+"-fixed",Z=K+"-default",J=K+"-focus",X=K+"-hover",Q=K+"-disabled",et="_replacedByqTip",tt="oldtitle",it={ie:function(){for(var e=3,i=t.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return e>4?e:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||S};T=o.prototype,T._when=function(e){return n.when.apply(n,e)},T.render=function(e){if(this.rendered||this.destroyed)return this;var t,i=this,o=this.options,s=this.cache,a=this.elements,r=o.content.text,l=o.content.title,h=o.content.button,u=o.position,p=("."+this._id+" ",[]);return n.attr(this.target[0],"aria-describedby",this._id),this.tooltip=a.tooltip=t=n("<div/>",{id:this._id,"class":[K,Z,o.style.classes,K+"-pos-"+o.position.my.abbrev()].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===u.target&&u.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":S,"aria-describedby":this._id+"-content","aria-hidden":C}).toggleClass(Q,this.disabled).attr(q,this.id).data(K,this).appendTo(u.container).append(a.content=n("<div />",{"class":K+"-content",id:this._id+"-content","aria-atomic":C})),this.rendered=-1,this.positioning=C,l&&(this._createTitle(),n.isFunction(l)||p.push(this._updateTitle(l,S))),h&&this._createButton(),n.isFunction(r)||p.push(this._updateContent(r,S)),this.rendered=C,this._setWidget(),n.each(W,function(e){var t;"render"===this.initialize&&(t=this(i))&&(i.plugins[e]=t)}),this._unassignEvents(),this._assignEvents(),this._when(p).then(function(){i._trigger("render"),i.positioning=S,i.hiddenDuringWait||!o.show.ready&&!e||i.toggle(C,s.event,S),i.hiddenDuringWait=S}),x.api[this.id]=this,this},T.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=C;var e=this.target,t=e.attr(tt);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),e.removeData(K).removeAttr(q).removeAttr(R).removeAttr("aria-describedby"),this.options.suppress&&t&&e.attr("title",t).removeAttr(tt),this._unbind(e),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=D,delete x.api[this.id]}}return this.destroyed?this.target:(e===C&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",n.proxy(t,this)),!this.triggering&&this.hide()),this.target)},P=T.checks={builtin:{"^id$":function(e,t,i,o){var s=i===C?x.nextid:i,a=K+"-"+s;s!==S&&s.length>0&&!n("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=o},"^prerender":function(e,t,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,i){this._updateContent(i)},"^content.attr$":function(e,t,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(e,t,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(e,t,i){this._updateButton(i)},"^content.title.(text|button)$":function(e,t,i){this.set("content."+t,i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(e[t]=new M(i,"at"===t))},"^position.container$":function(e,t,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(e,t,i){i&&(!this.rendered&&this.render(C)||this.toggle(C))},"^style.classes$":function(e,t,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(e,t,i){this.rendered&&this.tooltip.css(t,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,i){this.rendered&&this.tooltip.toggleClass(Z,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},T.get=function(e){if(this.destroyed)return this;var t=l(this.options,e.toLowerCase()),i=t[0][t[1]];return i.precedance?i.string():i};var nt=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,ot=/^prerender|show\.ready/i;T.set=function(e,t){if(this.destroyed)return this;{var i,o=this.rendered,s=S,a=this.options;this.checks}return"string"==typeof e?(i=e,e={},e[i]=t):e=n.extend({},e),n.each(e,function(t,i){if(o&&ot.test(t))return void delete e[t];var r,h=l(a,t.toLowerCase());r=h[0][h[1]],h[0][h[1]]=i&&i.nodeType?n(i):i,s=nt.test(t)||s,e[t]=[h[0],h[1],i,r]}),r(a),this.positioning=C,n.each(e,n.proxy(h,this)),this.positioning=S,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===a.position.target?D:this.cache.event),this},T._update=function(e,t){var i=this,o=this.cache;return this.rendered&&e?(n.isFunction(e)&&(e=e.call(this.elements.target,o.event,this)||""),n.isFunction(e.then)?(o.waiting=C,e.then(function(e){return o.waiting=S,i._update(e,t)},D,function(e){return i._update(e,t)})):e===S||!e&&""!==e?S:(e.jquery&&e.length>0?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then(function(e){e.images&&e.images.length&&i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!e.length)}))):S},T._waitForContent=function(e){var t=this.cache;return t.waiting=C,(n.fn.imagesLoaded?e.imagesLoaded():n.Deferred().resolve([])).done(function(){t.waiting=S}).promise()},T._updateContent=function(e,t){this._update(e,this.elements.content,t)},T._updateTitle=function(e,t){this._update(e,this.elements.title,t)===S&&this._removeTitle(S)},T._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=n("<div />",{"class":K+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(e.title=n("<div />",{id:t,"class":K+"-title","aria-atomic":C})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){n(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){n(this).toggleClass("ui-state-hover","mouseover"===e.type)
}),this.options.content.button&&this._createButton()},T._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=D,e!==S&&this.reposition())},T.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=C;var s,a,r=this.cache,l=this.tooltip,h=this.options.position,u=h.target,p=h.my,c=h.at,d=h.viewport,f=h.container,g=h.adjust,m=g.method.split(" "),_=l.outerWidth(S),v=l.outerHeight(S),b=0,w=0,y=l.css("position"),k={left:0,top:0},x=l[0].offsetWidth>0,T=i&&"scroll"===i.type,M=n(e),P=f[0].ownerDocument,I=this.mouse;if(n.isArray(u)&&2===u.length)c={x:F,y:E},k={left:u[0],top:u[1]};else if("mouse"===u)c={x:F,y:E},!I||!I.pageX||!g.mouse&&i&&i.pageX?i&&i.pageX||((!g.mouse||this.options.show.distance)&&r.origin&&r.origin.pageX?i=r.origin:(!i||i&&("resize"===i.type||"scroll"===i.type))&&(i=r.event)):i=I,"static"!==y&&(k=f.offset()),P.body.offsetWidth!==(e.innerWidth||P.documentElement.clientWidth)&&(a=n(t.body).offset()),k={left:i.pageX-k.left+(a&&a.left||0),top:i.pageY-k.top+(a&&a.top||0)},g.mouse&&T&&I&&(k.left-=(I.scrollX||0)-M.scrollLeft(),k.top-=(I.scrollY||0)-M.scrollTop());else{if("event"===u?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?r.target=n(i.target):i.target||(r.target=this.elements.target):"event"!==u&&(r.target=n(u.jquery?u:this.elements.target)),u=r.target,u=n(u).eq(0),0===u.length)return this;u[0]===t||u[0]===e?(b=it.iOS?e.innerWidth:u.width(),w=it.iOS?e.innerHeight:u.height(),u[0]===e&&(k={top:(d||u).scrollTop(),left:(d||u).scrollLeft()})):W.imagemap&&u.is("area")?s=W.imagemap(this,u,c,W.viewport?m:S):W.svg&&u&&u[0].ownerSVGElement?s=W.svg(this,u,c,W.viewport?m:S):(b=u.outerWidth(S),w=u.outerHeight(S),k=u.offset()),s&&(b=s.width,w=s.height,a=s.offset,k=s.position),k=this.reposition.offset(u,k,f),(it.iOS>3.1&&it.iOS<4.1||it.iOS>=4.3&&it.iOS<4.33||!it.iOS&&"fixed"===y)&&(k.left-=M.scrollLeft(),k.top-=M.scrollTop()),(!s||s&&s.adjustable!==S)&&(k.left+=c.x===$?b:c.x===O?b/2:0,k.top+=c.y===B?w:c.y===O?w/2:0)}return k.left+=g.x+(p.x===$?-_:p.x===O?-_/2:0),k.top+=g.y+(p.y===B?-v:p.y===O?-v/2:0),W.viewport?(k.adjusted=W.viewport(this,k,h,b,w,_,v),a&&k.adjusted.left&&(k.left+=a.left),a&&k.adjusted.top&&(k.top+=a.top)):k.adjusted={left:0,top:0},this._trigger("move",[k,d.elem||d],i)?(delete k.adjusted,o===S||!x||isNaN(k.left)||isNaN(k.top)||"mouse"===u||!n.isFunction(h.effect)?l.css(k):n.isFunction(h.effect)&&(h.effect.call(l,this,n.extend({},k)),l.queue(function(e){n(this).css({opacity:"",height:""}),it.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=S,this):this},T.reposition.offset=function(e,i,o){function s(e,t){i.left+=t*e.scrollLeft(),i.top+=t*e.scrollTop()}if(!o[0])return i;var a,r,l,h,u=n(e[0].ownerDocument),p=!!it.ie&&"CSS1Compat"!==t.compatMode,c=o[0];do"static"!==(r=n.css(c,"position"))&&("fixed"===r?(l=c.getBoundingClientRect(),s(u,-1)):(l=n(c).position(),l.left+=parseFloat(n.css(c,"borderLeftWidth"))||0,l.top+=parseFloat(n.css(c,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(n.css(c,"marginLeft"))||0),i.top-=l.top+(parseFloat(n.css(c,"marginTop"))||0),a||"hidden"===(h=n.css(c,"overflow"))||"visible"===h||(a=n(c)));while(c=c.offsetParent);return a&&(a[0]!==u[0]||p)&&s(a,1),i};var st=(M=T.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,O).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var i=e.charAt(0);this.precedance="t"===i||"b"===i?A:z}).prototype;st.invert=function(e,t){this[e]=this[e]===F?$:this[e]===$?F:t||this[e]},st.string=function(){var e=this.x,t=this.y;return e===t?e:this.precedance===A||this.forceY&&"center"!==t?t+" "+e:e+" "+t},st.abbrev=function(){var e=this.string().split(" ");return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},st.clone=function(){return new M(this.string(),this.forceY)},T.toggle=function(e,i){var o=this.cache,s=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(o.event.type)&&s.show.target.add(i.target).length===s.show.target.length&&a.has(i.relatedTarget).length)return this;o.event=p(i)}if(this.waiting&&!e&&(this.hiddenDuringWait=C),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var r,l,h,u=e?"show":"hide",c=this.options[u],d=(this.options[e?"hide":"show"],this.options.position),f=this.options.content,g=this.tooltip.css("width"),m=this.tooltip.is(":visible"),_=e||1===c.target.length,v=!i||c.target.length<2||o.target[0]===i.target;return(typeof e).search("boolean|number")&&(e=!m),r=!a.is(":animated")&&m===e&&v,l=r?D:!!this._trigger(u,[90]),this.destroyed?this:(l!==S&&e&&this.focus(i),!l||r?this:(n.attr(a[0],"aria-hidden",!e),e?(o.origin=p(this.mouse),n.isFunction(f.text)&&this._updateContent(f.text,S),n.isFunction(f.title)&&this._updateTitle(f.title,S),!I&&"mouse"===d.target&&d.adjust.mouse&&(n(t).bind("mousemove."+K,this._storeMouse),I=C),g||a.css("width",a.outerWidth(S)),this.reposition(i,arguments[2]),g||a.css("width",""),c.solo&&("string"==typeof c.solo?n(c.solo):n(Y,c.solo)).not(a).not(c.target).qtip("hide",n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,I&&!n(Y+'[tracking="true"]:visible',c.solo).not(a).length&&(n(t).unbind("mousemove."+K),I=S),this.blur(i)),h=n.proxy(function(){e?(it.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof c.autofocus&&n(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),c.effect===S||_===S?(a[u](),h()):n.isFunction(c.effect)?(a.stop(1,1),c.effect.call(a,this),a.queue("fx",function(e){h(),e()})):a.fadeTo(90,e?1:0,h),e&&c.target.trigger("qtip-"+this.id+"-inactive"),this))},T.show=function(e){return this.toggle(C,e)},T.hide=function(e){return this.toggle(S,e)},T.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=n(Y),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),s=x.zindex+t.length;return i.hasClass(J)||this._trigger("focus",[s],e)&&(o!==s&&(t.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+J).qtip("blur",e)),i.addClass(J)[0].style.zIndex=s),this},T.blur=function(e){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(J),this._trigger("blur",[this.tooltip.css("zIndex")],e),this)},T.disable=function(e){return this.destroyed?this:("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(Q):this.disabled):"boolean"!=typeof e&&(e=C),this.rendered&&this.tooltip.toggleClass(Q,e).attr("aria-disabled",e),this.disabled=!!e,this)},T.enable=function(){return this.disable(S)},T._createButton=function(){var e=this,t=this.elements,i=t.tooltip,o=this.options.content.button,s="string"==typeof o,a=s?o:"Close tooltip";t.button&&t.button.remove(),t.button=o.jquery?o:n("<a />",{"class":"qtip-close "+(this.options.style.widget?"":K+"-icon"),title:a,"aria-label":a}).prepend(n("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||i).attr("role","button").click(function(t){return i.hasClass(Q)||e.hide(t),S})},T._updateButton=function(e){if(!this.rendered)return S;var t=this.elements.button;e?this._createButton():t.remove()},T._setWidget=function(){var e=this.options.style.widget,t=this.elements,i=t.tooltip,n=i.hasClass(Q);i.removeClass(Q),Q=e?"ui-state-disabled":"qtip-disabled",i.toggleClass(Q,n),i.toggleClass("ui-helper-reset "+u(),e).toggleClass(Z,this.options.style.def&&!e),t.content&&t.content.toggleClass(u("content"),e),t.titlebar&&t.titlebar.toggleClass(u("header"),e),t.button&&t.button.toggleClass(K+"-icon",!e)},T._storeMouse=function(e){(this.mouse=p(e)).type="mousemove"},T._bind=function(e,t,i,o,s){var a="."+this._id+(o?"-"+o:"");t.length&&n(e).bind((t.split?t:t.join(a+" "))+a,n.proxy(i,s||this))},T._unbind=function(e,t){n(e).unbind("."+this._id+(t?"-"+t:""))};var at="."+K;n(function(){_(Y,["mouseenter","mouseleave"],function(e){var t="mouseenter"===e.type,i=n(e.currentTarget),o=n(e.relatedTarget||e.target),s=this.options;t?(this.focus(e),i.hasClass(V)&&!i.hasClass(Q)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.hide.event&&s.show.target&&!o.closest(s.show.target[0]).length&&this.hide(e),i.toggleClass(X,t)}),_("["+q+"]",G,g)}),T._trigger=function(e,t,i){var o=n.Event("tooltip"+e);return o.originalEvent=i&&n.extend({},i)||this.cache.event||D,this.triggering=e,this.tooltip.trigger(o,[this].concat(t||[])),this.triggering=S,!o.isDefaultPrevented()},T._bindEvents=function(e,t,i,o,s,a){if(o.add(i).length===o.length){var r=[];t=n.map(t,function(t){var i=n.inArray(t,e);return i>-1?void r.push(e.splice(i,1)[0]):t}),r.length&&this._bind(i,r,function(e){var t=this.rendered?this.tooltip[0].offsetWidth>0:!1;(t?a:s).call(this,e)})}this._bind(i,e,s),this._bind(o,t,a)},T._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?S:(this.cache.event=p(e),this.cache.target=e?n(e.target):[i],clearTimeout(this.timers.show),void(this.timers.show=c.call(this,function(){this.render("object"==typeof e||o.show.ready)},o.show.delay)))}var o=this.options,s=o.show.target,a=o.hide.target,r=o.show.event?n.trim(""+o.show.event).split(" "):[],l=o.hide.event?n.trim(""+o.hide.event).split(" "):[];/mouse(over|enter)/i.test(o.show.event)&&!/mouse(out|leave)/i.test(o.hide.event)&&l.push("mouseleave"),this._bind(s,"mousemove",function(e){this._storeMouse(e),this.cache.onTarget=C}),this._bindEvents(r,l,s,a,t,function(){clearTimeout(this.timers.show)}),(o.show.ready||o.prerender)&&t.call(this,e)},T._assignEvents=function(){var i=this,o=this.options,s=o.position,a=this.tooltip,r=o.show.target,l=o.hide.target,h=s.container,u=s.viewport,p=n(t),c=(n(t.body),n(e)),_=o.show.event?n.trim(""+o.show.event).split(" "):[],v=o.hide.event?n.trim(""+o.hide.event).split(" "):[];n.each(o.events,function(e,t){i._bind(a,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,a)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(p,["mouseout","blur"],function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)}),o.hide.fixed?l=l.add(a.addClass(V)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(h.closest("html"),["mousedown","touchstart"],function(e){var t=n(e.target),i=this.rendered&&!this.tooltip.hasClass(Q)&&this.tooltip[0].offsetWidth>0,o=t.parents(Y).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||o||this.target.has(t[0]).length||!i||this.hide(e)}),"number"==typeof o.hide.inactive&&(this._bind(r,"qtip-"+this.id+"-inactive",g),this._bind(l.add(a),x.inactiveEvents,g,"-inactive")),this._bindEvents(_,v,r,l,d,f),this._bind(r.add(a),"mousemove",function(e){if("number"==typeof o.hide.distance){var t=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(e.pageX-t.pageX)>=i||n(e.pageY-t.pageY)>=i)&&this.hide(e)}this._storeMouse(e)}),"mouse"===s.target&&s.adjust.mouse&&(o.hide.event&&this._bind(r,["mouseenter","mouseleave"],function(e){this.cache.onTarget="mouseenter"===e.type}),this._bind(p,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(Q)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)})),(s.adjust.resize||u.length)&&this._bind(n.event.special.resize?u:c,"resize",m),s.adjust.scroll&&this._bind(c.add(s.container),"scroll",m)},T._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],e,t];this._unbind(n([]).pushStack(n.grep(i,function(e){return"object"==typeof e})))},x=n.fn.qtip=function(e,t,o){var s=(""+e).toLowerCase(),a=D,l=n.makeArray(arguments).slice(1),h=l[l.length-1],u=this[0]?n.data(this[0],K):D;return!arguments.length&&u||"api"===s?u:"string"==typeof e?(this.each(function(){var e=n.data(this,K);if(!e)return C;if(h&&h.timeStamp&&(e.cache.event=h),!t||"option"!==s&&"options"!==s)e[s]&&e[s].apply(e,l);else{if(o===i&&!n.isPlainObject(t))return a=e.get(t),S;e.set(t,o)}}),a!==D?a:this):"object"!=typeof e&&arguments.length?void 0:(u=r(n.extend(C,{},e)),this.each(function(e){var t,i;return i=n.isArray(u.id)?u.id[e]:u.id,i=!i||i===S||i.length<1||x.api[i]?x.nextid++:i,t=v(n(this),i,u),t===S?C:(x.api[i]=t,n.each(W,function(){"initialize"===this.initialize&&this(t)}),void t._assignInitialEvents(h))}))},n.qtip=o,x.api={},n.each({attr:function(e,t){if(this.length){var i=this[0],o="title",s=n.data(i,"qtip");if(e===o&&s&&"object"==typeof s&&s.options.suppress)return arguments.length<2?n.attr(i,tt):(s&&s.options.content.attr===o&&s.cache.attr&&s.set("content.text",t),this.attr(tt,t))}return n.fn["attr"+et].apply(this,arguments)},clone:function(e){var t=(n([]),n.fn["clone"+et].apply(this,arguments));return e||t.filter("["+tt+"]").attr("title",function(){return n.attr(this,tt)}).removeAttr(tt),t}},function(e,t){if(!t||n.fn[e+et])return C;var i=n.fn[e+et]=n.fn[e];n.fn[e]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+et]=n.cleanData,n.cleanData=function(e){for(var t,i=0;(t=n(e[i])).length;i++)if(t.attr(R))try{t.triggerHandler("removeqtip")}catch(o){}n["cleanData"+et].apply(this,arguments)}),x.version="2.2.0",x.nextid=0,x.inactiveEvents=G,x.zindex=15e3,x.defaults={prerender:S,id:S,overwrite:C,suppress:C,content:{text:C,attr:"title",title:S,button:S},position:{my:"top left",at:"bottom right",target:S,container:S,viewport:S,adjust:{x:0,y:0,mouse:C,scroll:C,resize:C,method:"flipinvert flipinvert"},effect:function(e,t){n(this).animate(t,{duration:200,queue:S})}},show:{target:S,event:"mouseenter",effect:C,delay:90,solo:S,ready:S,autofocus:S},hide:{target:S,event:"mouseleave",effect:C,delay:0,fixed:S,inactive:S,leave:"window",distance:S},style:{classes:"",widget:S,width:S,height:S,def:C},events:{render:D,move:D,show:D,hide:D,toggle:D,visible:D,hidden:D,focus:D,blur:D}};var rt,lt="margin",ht="border",ut="color",pt="background-color",ct="transparent",dt=" !important",ft=!!t.createElement("canvas").getContext,gt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,mt={},_t=["Webkit","O","Moz","ms"];if(ft)var vt=e.devicePixelRatio||1,bt=function(){var e=t.createElement("canvas").getContext("2d");return e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1}(),wt=vt/bt;else var yt=function(e,t,i){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'};n.extend(k.prototype,{init:function(e){var t,i;i=this.element=e.elements.tip=n("<div />",{"class":K+"-tip"}).prependTo(e.tooltip),ft?(t=n("<canvas />").appendTo(this.element)[0].getContext("2d"),t.lineJoin="miter",t.miterLimit=1e5,t.save()):(t=yt("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(n("*",i).add(i),["click","mousedown"],function(e){e.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===E||e.y===O&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(C))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===S||t===S?e=S:e===C?e=new M(t.string()):e.string||(e=new M(e),e.fixed=C),e},_parseWidth:function(e,t,i){var n=this.qtip.elements,o=ht+b(t)+"Width";return(i?y(i,o):y(n.content,o)||y(this._useTitle(e)&&n.titlebar||n.content,o)||y(n.tooltip,o))||0},_parseRadius:function(e){var t=this.qtip.elements,i=ht+b(e.y)+b(e.x)+"Radius";return it.ie<9?0:y(this._useTitle(e)&&t.titlebar||t.content,i)||y(t.tooltip,i)||0},_invalidColour:function(e,t,i){var n=e.css(t);return!n||i&&n===e.css(i)||gt.test(n)?S:n},_parseColours:function(e){var t=this.qtip.elements,i=this.element.css("cssText",""),o=ht+b(e[e.precedance])+b(ut),s=this._useTitle(e)&&t.titlebar||t.content,a=this._invalidColour,r=[];return r[0]=a(i,pt)||a(s,pt)||a(t.content,pt)||a(t.tooltip,pt)||i.css(pt),r[1]=a(i,o,ut)||a(s,o,ut)||a(t.content,o,ut)||a(t.tooltip,o,ut)||t.tooltip.css(o),n("*",i).add(i).css("cssText",pt+":"+ct+dt+";"+ht+":0"+dt+";"),r},_calculateSize:function(e){var t,i,n,o=e.precedance===A,s=this.options.width,a=this.options.height,r="c"===e.abbrev(),l=(o?s:a)*(r?.5:1),h=Math.pow,u=Math.round,p=Math.sqrt(h(l,2)+h(a,2)),c=[this.border/l*p,this.border/a*p];return c[2]=Math.sqrt(h(c[0],2)-h(this.border,2)),c[3]=Math.sqrt(h(c[1],2)-h(this.border,2)),t=p+c[2]+c[3]+(r?0:c[0]),i=t/p,n=[u(i*s),u(i*a)],o?n:n.reverse()},_calculateTip:function(e,t,i){i=i||1,t=t||this.size;var n=t[0]*i,o=t[1]*i,s=Math.ceil(n/2),a=Math.ceil(o/2),r={br:[0,0,n,o,n,0],bl:[0,0,n,0,0,o],tr:[0,o,n,0,n,o],tl:[0,0,0,o,n,o],tc:[0,o,s,0,n,o],bc:[0,0,n,0,s,o],rc:[0,0,n,a,0,o],lc:[n,0,n,o,0,a]};return r.lt=r.br,r.rt=r.bl,r.lb=r.tr,r.rb=r.tl,r[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(ft||it.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,i){if(!this.enabled)return this;var o,s,a,r,l,h,u,p,c=this.qtip.elements,d=this.element,f=d.children(),g=this.options,m=this.size,_=g.mimic,v=Math.round;t||(t=this.qtip.cache.corner||this.corner),_===S?_=t:(_=new M(_),_.precedance=t.precedance,"inherit"===_.x?_.x=t.x:"inherit"===_.y?_.y=t.y:_.x===_.y&&(_[t.precedance]=t[t.precedance])),s=_.precedance,t.precedance===z?this._swapDimensions():this._resetDimensions(),o=this.color=this._parseColours(t),o[1]!==ct?(p=this.border=this._parseWidth(t,t[t.precedance]),g.border&&1>p&&!gt.test(o[1])&&(o[0]=o[1]),this.border=p=g.border!==C?g.border:p):this.border=p=0,u=this.size=this._calculateSize(t),d.css({width:u[0],height:u[1],lineHeight:u[1]+"px"}),h=t.precedance===A?[v(_.x===F?p:_.x===$?u[0]-m[0]-p:(u[0]-m[0])/2),v(_.y===E?u[1]-m[1]:0)]:[v(_.x===F?u[0]-m[0]:0),v(_.y===E?p:_.y===B?u[1]-m[1]-p:(u[1]-m[1])/2)],ft?(a=f[0].getContext("2d"),a.restore(),a.save(),a.clearRect(0,0,6e3,6e3),r=this._calculateTip(_,m,wt),l=this._calculateTip(_,this.size,wt),f.attr(j,u[0]*wt).attr(N,u[1]*wt),f.css(j,u[0]).css(N,u[1]),this._drawCoords(a,l),a.fillStyle=o[1],a.fill(),a.translate(h[0]*wt,h[1]*wt),this._drawCoords(a,r),a.fillStyle=o[0],a.fill()):(r=this._calculateTip(_),r="m"+r[0]+","+r[1]+" l"+r[2]+","+r[3]+" "+r[4]+","+r[5]+" xe",h[2]=p&&/^(r|b)/i.test(t.string())?8===it.ie?2:1:0,f.css({coordsize:u[0]+p+" "+(u[1]+p),antialias:""+(_.string().indexOf(O)>-1),left:h[0]-h[2]*Number(s===z),top:h[1]-h[2]*Number(s===A),width:u[0]+p,height:u[1]+p}).each(function(e){var t=n(this);t[t.prop?"prop":"attr"]({coordsize:u[0]+p+" "+(u[1]+p),path:r,fillcolor:o[0],filled:!!e,stroked:!e}).toggle(!(!p&&!e)),!e&&t.html(yt("stroke",'weight="'+2*p+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),e.opera&&setTimeout(function(){c.tip.css({display:"inline-block",visibility:"visible"})},1),i!==S&&this.calculate(t,u)},calculate:function(e,t){if(!this.enabled)return S;var i,o,s=this,a=this.qtip.elements,r=this.element,l=this.options.offset,h=(a.tooltip.hasClass("ui-widget"),{});return e=e||this.corner,i=e.precedance,t=t||this._calculateSize(e),o=[e.x,e.y],i===z&&o.reverse(),n.each(o,function(n,o){var r,u,p;o===O?(r=i===A?F:E,h[r]="50%",h[lt+"-"+r]=-Math.round(t[i===A?0:1]/2)+l):(r=s._parseWidth(e,o,a.tooltip),u=s._parseWidth(e,o,a.content),p=s._parseRadius(e),h[o]=Math.max(-s.border,n?u:l+(p>r?p:-r)))}),h[e[i]]-=t[i===z?0:1],r.css({margin:"",top:"",bottom:"",left:"",right:""}).css(h),h},reposition:function(e,t,n){function o(e,t,i,n,o){e===H&&h.precedance===t&&u[n]&&h[i]!==O?h.precedance=h.precedance===z?A:z:e!==H&&u[n]&&(h[t]=h[t]===O?u[n]>0?n:o:h[t]===n?o:n)}function s(e,t,o){h[e]===O?g[lt+"-"+t]=f[e]=a[lt+"-"+t]-u[t]:(r=a[o]!==i?[u[t],-a[t]]:[-u[t],a[t]],(f[e]=Math.max(r[0],r[1]))>r[0]&&(n[t]-=u[t],f[t]=S),g[a[o]!==i?o:t]=f[e])}if(this.enabled){var a,r,l=t.cache,h=this.corner.clone(),u=n.adjusted,p=t.options.position.adjust.method.split(" "),c=p[0],d=p[1]||p[0],f={left:S,top:S,x:0,y:0},g={};this.corner.fixed!==C&&(o(c,z,A,F,$),o(d,A,z,E,B),h.string()===l.corner.string()||l.cornerTop===u.top&&l.cornerLeft===u.left||this.update(h,S)),a=this.calculate(h),a.right!==i&&(a.left=-a.right),a.bottom!==i&&(a.top=-a.bottom),a.user=this.offset,(f.left=c===H&&!!u.left)&&s(z,F,$),(f.top=d===H&&!!u.top)&&s(A,E,B),this.element.css(g).toggle(!(f.x&&f.y||h.x===O&&f.y||h.y===O&&f.x)),n.left-=a.left.charAt?a.user:c!==H||f.top||!f.left&&!f.top?a.left+this.border:0,n.top-=a.top.charAt?a.user:d!==H||f.left||!f.left&&!f.top?a.top+this.border:0,l.cornerLeft=u.left,l.cornerTop=u.top,l.corner=h.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),rt=W.tip=function(e){return new k(e,e.options.style.tip)},rt.initialize="render",rt.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=C)}},P.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},n.extend(C,x.defaults,{style:{tip:{corner:C,mimic:S,width:6,height:6,border:C,offset:0}}}),W.viewport=function(i,n,o,s,a,r,l){function h(e,t,i,o,s,a,r,l,h){var u=n[s],c=y[e],b=k[e],w=i===H,x=c===s?h:c===a?-h:-h/2,T=b===s?l:b===a?-l:-l/2,M=_[s]+v[s]-(f?0:d[s]),P=M-u,I=u+h-(r===j?g:m)-M,C=x-(y.precedance===e||c===y[t]?T:0)-(b===O?l/2:0);return w?(C=(c===s?1:-1)*x,n[s]+=P>0?P:I>0?-I:0,n[s]=Math.max(-d[s]+v[s],u-C,Math.min(Math.max(-d[s]+v[s]+(r===j?g:m),u+C),n[s],"center"===c?u-x:1e9))):(o*=i===L?2:0,P>0&&(c!==s||I>0)?(n[s]-=C+o,p.invert(e,s)):I>0&&(c!==a||P>0)&&(n[s]-=(c===O?-C:C)+o,p.invert(e,a)),n[s]<_&&-n[s]>I&&(n[s]=u,p=y.clone())),n[s]-u}var u,p,c,d,f,g,m,_,v,b=o.target,w=i.elements.tooltip,y=o.my,k=o.at,x=o.adjust,T=x.method.split(" "),M=T[0],P=T[1]||T[0],I=o.viewport,C=o.container,D=i.cache,W={left:0,top:0};return I.jquery&&b[0]!==e&&b[0]!==t.body&&"none"!==x.method?(d=C.offset()||W,f="static"===C.css("position"),u="fixed"===w.css("position"),g=I[0]===e?I.width():I.outerWidth(S),m=I[0]===e?I.height():I.outerHeight(S),_={left:u?0:I.scrollLeft(),top:u?0:I.scrollTop()},v=I.offset()||W,("shift"!==M||"shift"!==P)&&(p=y.clone()),W={left:"none"!==M?h(z,A,M,x.x,F,$,j,s,r):0,top:"none"!==P?h(A,z,P,x.y,E,B,N,a,l):0},p&&D.lastClass!==(c=K+"-pos-"+p.abbrev())&&w.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=c),W):W},W.polys={polygon:function(e,t){var i,n,o,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:S},a=0,r=[],l=1,h=1,u=0,p=0;for(a=e.length;a--;)i=[parseInt(e[--a],10),parseInt(e[a+1],10)],i[0]>s.position.right&&(s.position.right=i[0]),i[0]<s.position.left&&(s.position.left=i[0]),i[1]>s.position.bottom&&(s.position.bottom=i[1]),i[1]<s.position.top&&(s.position.top=i[1]),r.push(i);if(n=s.width=Math.abs(s.position.right-s.position.left),o=s.height=Math.abs(s.position.bottom-s.position.top),"c"===t.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;n>0&&o>0&&l>0&&h>0;)for(n=Math.floor(n/2),o=Math.floor(o/2),t.x===F?l=n:t.x===$?l=s.width-n:l+=Math.floor(n/2),t.y===E?h=o:t.y===B?h=s.height-o:h+=Math.floor(o/2),a=r.length;a--&&!(r.length<2);)u=r[a][0]-s.position.left,p=r[a][1]-s.position.top,(t.x===F&&u>=l||t.x===$&&l>=u||t.x===O&&(l>u||u>s.width-l)||t.y===E&&p>=h||t.y===B&&h>=p||t.y===O&&(h>p||p>s.height-h))&&r.splice(a,1);s.position={left:r[0][0],top:r[0][1]}}return s},rect:function(e,t,i,n){return{width:Math.abs(i-e),height:Math.abs(n-t),position:{left:Math.min(e,i),top:Math.min(t,n)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,i,n,o){var s=W.polys._angles[o.abbrev()],a=0===s?0:i*Math.cos(s*Math.PI),r=n*Math.sin(s*Math.PI);return{width:2*i-Math.abs(a),height:2*n-Math.abs(r),position:{left:e+a,top:t+r},adjustable:S}},circle:function(e,t,i,n){return W.polys.ellipse(e,t,i,i,n)}},W.svg=function(e,i,o){for(var s,a,r,l,h,u,p,c,d,f,g,m=n(t),_=i[0],v=n(_.ownerSVGElement),b=1,w=1,y=!0;!_.getBBox;)_=_.parentNode;if(!_.getBBox||!_.parentNode)return S;s=v.attr("width")||v.width()||parseInt(v.css("width"),10),a=v.attr("height")||v.height()||parseInt(v.css("height"),10);var k=(parseInt(i.css("stroke-width"),10)||0)/2;switch(k&&(b+=k/s,w+=k/a),_.nodeName){case"ellipse":case"circle":f=W.polys.ellipse(_.cx.baseVal.value,_.cy.baseVal.value,(_.rx||_.r).baseVal.value+k,(_.ry||_.r).baseVal.value+k,o);break;case"line":case"polygon":case"polyline":for(d=_.points||[{x:_.x1.baseVal.value,y:_.y1.baseVal.value},{x:_.x2.baseVal.value,y:_.y2.baseVal.value}],f=[],c=-1,u=d.numberOfItems||d.length;++c<u;)p=d.getItem?d.getItem(c):d[c],f.push.apply(f,[p.x,p.y]);f=W.polys.polygon(f,o);break;default:f=_.getBoundingClientRect(),f={width:f.width,height:f.height,position:{left:f.left,top:f.top}},y=!1}return g=f.position,v=v[0],y&&(v.createSVGPoint&&(r=_.getScreenCTM(),d=v.createSVGPoint(),d.x=g.left,d.y=g.top,l=d.matrixTransform(r),g.left=l.x,g.top=l.y),v.viewBox&&(h=v.viewBox.baseVal)&&h.width&&h.height&&(b*=s/h.width,w*=a/h.height)),g.left+=m.scrollLeft(),g.top+=m.scrollTop(),f}})}(window,document),!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.proj4=e()}}(function(){return function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){var i=t[a][1][e];return o(i?i:e)},h,h.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t){function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&"undefined"==typeof t){var o=e.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var n=e("mgrs");i.fromMGRS=function(e){return new i(n.toPoint(e))},i.prototype.toMGRS=function(e){return n.forward([this.x,this.y],e)},t.exports=i},{mgrs:66}],2:[function(e,t){function i(e,t){if(!(this instanceof i))return new i(e);t=t||function(e){if(e)throw e};var s=n(e);if("object"!=typeof s)return void t(e);var r=a(s),l=i.projections.get(r.projName);l?(o(this,r),o(this,l),this.init(),t(null,this)):t(e)}var n=e("./parseCode"),o=e("./extend"),s=e("./projections"),a=e("./deriveConstants");i.projections=s,i.projections.start(),t.exports=i},{"./deriveConstants":32,"./extend":33,"./parseCode":36,"./projections":38}],3:[function(e,t){t.exports=function(e,t,i){var n,o,s,a=i.x,r=i.y,l=i.z||0;for(s=0;3>s;s++)if(!t||2!==s||void 0!==i.z)switch(0===s?(n=a,o="x"):1===s?(n=r,o="y"):(n=l,o="z"),e.axis[s]){case"e":i[o]=n;break;case"w":i[o]=-n;break;case"n":i[o]=n;break;case"s":i[o]=-n;break;case"u":void 0!==i[o]&&(i.z=n);break;case"d":void 0!==i[o]&&(i.z=-n);break;default:return null}return i}},{}],4:[function(e,t){var i=Math.PI/2,n=e("./sign");t.exports=function(e){return Math.abs(e)<i?e:e-n(e)*Math.PI}},{"./sign":21}],5:[function(e,t){var i=2*Math.PI,n=e("./sign");t.exports=function(e){return Math.abs(e)<Math.PI?e:e-n(e)*i}},{"./sign":21}],6:[function(e,t){t.exports=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}},{}],7:[function(e,t){t.exports=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))}},{}],8:[function(e,t){t.exports=function(e){return.375*e*(1+.25*e*(1+.46875*e))}},{}],9:[function(e,t){t.exports=function(e){return.05859375*e*e*(1+.75*e)}},{}],10:[function(e,t){t.exports=function(e){return e*e*e*(35/3072)}},{}],11:[function(e,t){t.exports=function(e,t,i){var n=t*i;return e/Math.sqrt(1-n*n)}},{}],12:[function(e,t){t.exports=function(e,t,i,n,o){var s,a;s=e/t;for(var r=0;15>r;r++)if(a=(e-(t*s-i*Math.sin(2*s)+n*Math.sin(4*s)-o*Math.sin(6*s)))/(t-2*i*Math.cos(2*s)+4*n*Math.cos(4*s)-6*o*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return 0/0}},{}],13:[function(e,t){var i=Math.PI/2;t.exports=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return 0>t?-1*i:i;for(var o,s,a,r,l=Math.asin(.5*t),h=0;30>h;h++)if(s=Math.sin(l),a=Math.cos(l),r=e*s,o=Math.pow(1-r*r,2)/(2*a)*(t/(1-e*e)-s/(1-r*r)+.5/e*Math.log((1-r)/(1+r))),l+=o,Math.abs(o)<=1e-10)return l;return 0/0}},{}],14:[function(e,t){t.exports=function(e,t,i,n,o){return e*o-t*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)}},{}],15:[function(e,t){t.exports=function(e,t,i){var n=e*t;return i/Math.sqrt(1-n*n)}},{}],16:[function(e,t){var i=Math.PI/2;t.exports=function(e,t){for(var n,o,s=.5*e,a=i-2*Math.atan(t),r=0;15>=r;r++)if(n=e*Math.sin(a),o=i-2*Math.atan(t*Math.pow((1-n)/(1+n),s))-a,a+=o,Math.abs(o)<=1e-10)return a;return-9999}},{}],17:[function(e,t){var i=1,n=.25,o=.046875,s=.01953125,a=.01068115234375,r=.75,l=.46875,h=.013020833333333334,u=.007120768229166667,p=.3645833333333333,c=.005696614583333333,d=.3076171875;t.exports=function(e){var t=[];t[0]=i-e*(n+e*(o+e*(s+e*a))),t[1]=e*(r-e*(o+e*(s+e*a)));var f=e*e;return t[2]=f*(l-e*(h+e*u)),f*=e,t[3]=f*(p-e*c),t[4]=f*e*d,t}},{}],18:[function(e,t){var i=e("./pj_mlfn"),n=1e-10,o=20;t.exports=function(e,t,s){for(var a=1/(1-t),r=e,l=o;l;--l){var h=Math.sin(r),u=1-t*h*h;if(u=(i(r,h,Math.cos(r),s)-e)*u*Math.sqrt(u)*a,r-=u,Math.abs(u)<n)return r}return r}},{"./pj_mlfn":19}],19:[function(e,t){t.exports=function(e,t,i,n){return i*=t,t*=t,n[0]*e-i*(n[1]+t*(n[2]+t*(n[3]+t*n[4])))}},{}],20:[function(e,t){t.exports=function(e,t){var i;return e>1e-7?(i=e*t,(1-e*e)*(t/(1-i*i)-.5/e*Math.log((1-i)/(1+i)))):2*t}},{}],21:[function(e,t){t.exports=function(e){return 0>e?-1:1}},{}],22:[function(e,t){t.exports=function(e,t){return Math.pow((1-e)/(1+e),t)}},{}],23:[function(e,t){t.exports=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}},{}],24:[function(e,t){var i=Math.PI/2;t.exports=function(e,t,n){var o=e*n,s=.5*e;return o=Math.pow((1-o)/(1+o),s),Math.tan(.5*(i-t))/o}},{}],25:[function(e,t,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}
},{}],26:[function(e,t,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(e,t,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],28:[function(e,t){function i(e,t,i){var n;return Array.isArray(i)?(n=a(e,t,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):a(e,t,i)}function n(e){return e instanceof s?e:e.oProj?e.oProj:s(e)}function o(e,t,o){e=n(e);var s,a=!1;return"undefined"==typeof t?(t=e,e=r,a=!0):("undefined"!=typeof t.x||Array.isArray(t))&&(o=t,t=e,e=r,a=!0),t=n(t),o?i(e,t,o):(s={forward:function(n){return i(e,t,n)},inverse:function(n){return i(t,e,n)}},a&&(s.oProj=t),s)}var s=e("./Proj"),a=e("./transform"),r=s("WGS84");t.exports=o},{"./Proj":2,"./transform":64}],29:[function(e,t){var i=Math.PI/2,n=1,o=2,s=3,a=4,r=5,l=484813681109536e-20,h=1.0026,u=.3826834323650898,p=function(e){if(!(this instanceof p))return new p(e);if(this.datum_type=a,e){if(e.datumCode&&"none"===e.datumCode&&(this.datum_type=r),e.datum_params){for(var t=0;t<e.datum_params.length;t++)e.datum_params[t]=parseFloat(e.datum_params[t]);(0!==e.datum_params[0]||0!==e.datum_params[1]||0!==e.datum_params[2])&&(this.datum_type=n),e.datum_params.length>3&&(0!==e.datum_params[3]||0!==e.datum_params[4]||0!==e.datum_params[5]||0!==e.datum_params[6])&&(this.datum_type=o,e.datum_params[3]*=l,e.datum_params[4]*=l,e.datum_params[5]*=l,e.datum_params[6]=e.datum_params[6]/1e6+1)}this.datum_type=e.grids?s:this.datum_type,this.a=e.a,this.b=e.b,this.es=e.es,this.ep2=e.ep2,this.datum_params=e.datum_params,this.datum_type===s&&(this.grids=e.grids)}};p.prototype={compare_datums:function(e){return this.datum_type!==e.datum_type?!1:this.a!==e.a||Math.abs(this.es-e.es)>5e-11?!1:this.datum_type===n?this.datum_params[0]===e.datum_params[0]&&this.datum_params[1]===e.datum_params[1]&&this.datum_params[2]===e.datum_params[2]:this.datum_type===o?this.datum_params[0]===e.datum_params[0]&&this.datum_params[1]===e.datum_params[1]&&this.datum_params[2]===e.datum_params[2]&&this.datum_params[3]===e.datum_params[3]&&this.datum_params[4]===e.datum_params[4]&&this.datum_params[5]===e.datum_params[5]&&this.datum_params[6]===e.datum_params[6]:this.datum_type===s||e.datum_type===s?this.nadgrids===e.nadgrids:!0},geodetic_to_geocentric:function(e){var t,n,o,s,a,r,l,h=e.x,u=e.y,p=e.z?e.z:0,c=0;if(-i>u&&u>-1.001*i)u=-i;else if(u>i&&1.001*i>u)u=i;else if(-i>u||u>i)return null;return h>Math.PI&&(h-=2*Math.PI),a=Math.sin(u),l=Math.cos(u),r=a*a,s=this.a/Math.sqrt(1-this.es*r),t=(s+p)*l*Math.cos(h),n=(s+p)*l*Math.sin(h),o=(s*(1-this.es)+p)*a,e.x=t,e.y=n,e.z=o,c},geocentric_to_geodetic:function(e){var t,n,o,s,a,r,l,h,u,p,c,d,f,g,m,_,v,b=1e-12,w=b*b,y=30,k=e.x,x=e.y,T=e.z?e.z:0;if(f=!1,t=Math.sqrt(k*k+x*x),n=Math.sqrt(k*k+x*x+T*T),t/this.a<b){if(f=!0,m=0,n/this.a<b)return _=i,void(v=-this.b)}else m=Math.atan2(x,k);o=T/n,s=t/n,a=1/Math.sqrt(1-this.es*(2-this.es)*s*s),h=s*(1-this.es)*a,u=o*a,g=0;do g++,l=this.a/Math.sqrt(1-this.es*u*u),v=t*h+T*u-l*(1-this.es*u*u),r=this.es*l/(l+v),a=1/Math.sqrt(1-r*(2-r)*s*s),p=s*(1-r)*a,c=o*a,d=c*h-p*u,h=p,u=c;while(d*d>w&&y>g);return _=Math.atan(c/Math.abs(p)),e.x=m,e.y=_,e.z=v,e},geocentric_to_geodetic_noniter:function(e){var t,n,o,s,a,r,l,p,c,d,f,g,m,_,v,b,w,y=e.x,k=e.y,x=e.z?e.z:0;if(y=parseFloat(y),k=parseFloat(k),x=parseFloat(x),w=!1,0!==y)t=Math.atan2(k,y);else if(k>0)t=i;else if(0>k)t=-i;else if(w=!0,t=0,x>0)n=i;else{if(!(0>x))return n=i,void(o=-this.b);n=-i}return a=y*y+k*k,s=Math.sqrt(a),r=x*h,p=Math.sqrt(r*r+a),d=r/p,g=s/p,f=d*d*d,l=x+this.b*this.ep2*f,b=s-this.a*this.es*g*g*g,c=Math.sqrt(l*l+b*b),m=l/c,_=b/c,v=this.a/Math.sqrt(1-this.es*m*m),o=_>=u?s/_-v:-u>=_?s/-_-v:x/m+v*(this.es-1),w===!1&&(n=Math.atan(m/_)),e.x=t,e.y=n,e.z=o,e},geocentric_to_wgs84:function(e){if(this.datum_type===n)e.x+=this.datum_params[0],e.y+=this.datum_params[1],e.z+=this.datum_params[2];else if(this.datum_type===o){var t=this.datum_params[0],i=this.datum_params[1],s=this.datum_params[2],a=this.datum_params[3],r=this.datum_params[4],l=this.datum_params[5],h=this.datum_params[6],u=h*(e.x-l*e.y+r*e.z)+t,p=h*(l*e.x+e.y-a*e.z)+i,c=h*(-r*e.x+a*e.y+e.z)+s;e.x=u,e.y=p,e.z=c}},geocentric_from_wgs84:function(e){if(this.datum_type===n)e.x-=this.datum_params[0],e.y-=this.datum_params[1],e.z-=this.datum_params[2];else if(this.datum_type===o){var t=this.datum_params[0],i=this.datum_params[1],s=this.datum_params[2],a=this.datum_params[3],r=this.datum_params[4],l=this.datum_params[5],h=this.datum_params[6],u=(e.x-t)/h,p=(e.y-i)/h,c=(e.z-s)/h;e.x=u+l*p-r*c,e.y=-l*u+p+a*c,e.z=r*u-a*p+c}}},t.exports=p},{}],30:[function(e,t){var i=1,n=2,o=3,s=5,a=6378137,r=.006694379990141316;t.exports=function(e,t,l){function h(e){return e===i||e===n}var u,p,c;if(e.compare_datums(t))return l;if(e.datum_type===s||t.datum_type===s)return l;var d=e.a,f=e.es,g=t.a,m=t.es,_=e.datum_type;if(_===o)if(0===this.apply_gridshift(e,0,l))e.a=a,e.es=r;else{if(!e.datum_params)return e.a=d,e.es=e.es,l;for(u=1,p=0,c=e.datum_params.length;c>p;p++)u*=e.datum_params[p];if(0===u)return e.a=d,e.es=e.es,l;_=e.datum_params.length>3?n:i}return t.datum_type===o&&(t.a=a,t.es=r),(e.es!==t.es||e.a!==t.a||h(_)||h(t.datum_type))&&(e.geodetic_to_geocentric(l),h(e.datum_type)&&e.geocentric_to_wgs84(l),h(t.datum_type)&&t.geocentric_from_wgs84(l),t.geocentric_to_geodetic(l)),t.datum_type===o&&this.apply_gridshift(t,1,l),e.a=d,e.es=f,t.a=g,t.es=m,l}},{}],31:[function(e,t){function i(e){var t=this;if(2===arguments.length)i[e]="+"===arguments[1][0]?o(arguments[1]):s(arguments[1]);else if(1===arguments.length)return Array.isArray(e)?e.map(function(e){Array.isArray(e)?i.apply(t,e):i(e)}):void("string"==typeof e||("EPSG"in e?i["EPSG:"+e.EPSG]=e:"ESRI"in e?i["ESRI:"+e.ESRI]=e:"IAU2000"in e?i["IAU2000:"+e.IAU2000]=e:console.log(e)))}var n=e("./global"),o=e("./projString"),s=e("./wkt");n(i),t.exports=i},{"./global":34,"./projString":37,"./wkt":65}],32:[function(e,t){var i=e("./constants/Datum"),n=e("./constants/Ellipsoid"),o=e("./extend"),s=e("./datum"),a=1e-10,r=.16666666666666666,l=.04722222222222222,h=.022156084656084655;t.exports=function(e){if(e.datumCode&&"none"!==e.datumCode){var t=i[e.datumCode];t&&(e.datum_params=t.towgs84?t.towgs84.split(","):null,e.ellps=t.ellipse,e.datumName=t.datumName?t.datumName:e.datumCode)}if(!e.a){var u=n[e.ellps]?n[e.ellps]:n.WGS84;o(e,u)}return e.rf&&!e.b&&(e.b=(1-1/e.rf)*e.a),(0===e.rf||Math.abs(e.a-e.b)<a)&&(e.sphere=!0,e.b=e.a),e.a2=e.a*e.a,e.b2=e.b*e.b,e.es=(e.a2-e.b2)/e.a2,e.e=Math.sqrt(e.es),e.R_A&&(e.a*=1-e.es*(r+e.es*(l+e.es*h)),e.a2=e.a*e.a,e.b2=e.b*e.b,e.es=0),e.ep2=(e.a2-e.b2)/e.b2,e.k0||(e.k0=1),e.axis||(e.axis="enu"),e.datum=s(e),e}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":29,"./extend":33}],33:[function(e,t){t.exports=function(e,t){e=e||{};var i,n;if(!t)return e;for(n in t)i=t[n],void 0!==i&&(e[n]=i);return e}},{}],34:[function(e,t){t.exports=function(e){e("WGS84","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}},{}],35:[function(e,t){var i=e("./core");i.defaultDatum="WGS84",i.Proj=e("./Proj"),i.WGS84=new i.Proj("WGS84"),i.Point=e("./Point"),i.toPoint=e("./common/toPoint"),i.defs=e("./defs"),i.transform=e("./transform"),i.mgrs=e("mgrs"),i.version=e("../package.json").version,e("./includedProjections")(i),t.exports=i},{"../package.json":67,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":28,"./defs":31,"./includedProjections":"gWUPNW","./transform":64,mgrs:66}],36:[function(e,t){function i(e){return"string"==typeof e}function n(e){return e in r}function o(e){var t=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return t.reduce(function(t,i){return t+1+e.indexOf(i)},0)}function s(e){return"+"===e[0]}function a(e){return i(e)?n(e)?r[e]:o(e)?l(e):s(e)?h(e):void 0:e}var r=e("./defs"),l=e("./wkt"),h=e("./projString");t.exports=a},{"./defs":31,"./projString":37,"./wkt":65}],37:[function(e,t){var i=.017453292519943295,n=e("./constants/PrimeMeridian");t.exports=function(e){var t={},o={};e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).forEach(function(e){var t=e.split("=");t.push(!0),o[t[0].toLowerCase()]=t[1]});var s,a,r,l={proj:"projName",datum:"datumCode",rf:function(e){t.rf=parseFloat(e,10)},lat_0:function(e){t.lat0=e*i},lat_1:function(e){t.lat1=e*i},lat_2:function(e){t.lat2=e*i},lat_ts:function(e){t.lat_ts=e*i},lon_0:function(e){t.long0=e*i},lon_1:function(e){t.long1=e*i},lon_2:function(e){t.long2=e*i},alpha:function(e){t.alpha=parseFloat(e)*i},lonc:function(e){t.longc=e*i},x_0:function(e){t.x0=parseFloat(e,10)},y_0:function(e){t.y0=parseFloat(e,10)},k_0:function(e){t.k0=parseFloat(e,10)},k:function(e){t.k0=parseFloat(e,10)},r_a:function(){t.R_A=!0},zone:function(e){t.zone=parseInt(e,10)},south:function(){t.utmSouth=!0},towgs84:function(e){t.datum_params=e.split(",").map(function(e){return parseFloat(e,10)})},to_meter:function(e){t.to_meter=parseFloat(e,10)},from_greenwich:function(e){t.from_greenwich=e*i},pm:function(e){t.from_greenwich=(n[e]?n[e]:parseFloat(e,10))*i},nadgrids:function(e){"@null"===e?t.datumCode="none":t.nadgrids=e},axis:function(e){var i="ewnsud";3===e.length&&-1!==i.indexOf(e.substr(0,1))&&-1!==i.indexOf(e.substr(1,1))&&-1!==i.indexOf(e.substr(2,1))&&(t.axis=e)}};for(s in o)a=o[s],s in l?(r=l[s],"function"==typeof r?r(a):t[r]=a):t[s]=a;return"string"==typeof t.datumCode&&"WGS84"!==t.datumCode&&(t.datumCode=t.datumCode.toLowerCase()),t}},{"./constants/PrimeMeridian":27}],38:[function(e,t,i){function n(e,t){var i=a.length;return e.names?(a[i]=e,e.names.forEach(function(e){s[e.toLowerCase()]=i}),this):(console.log(t),!0)}var o=[e("./projections/merc"),e("./projections/longlat")],s={},a=[];i.add=n,i.get=function(e){if(!e)return!1;var t=e.toLowerCase();return"undefined"!=typeof s[t]&&a[s[t]]?a[s[t]]:void 0},i.start=function(){o.forEach(n)}},{"./projections/longlat":50,"./projections/merc":51}],39:[function(e,t,i){var n=1e-10,o=e("../common/msfnz"),s=e("../common/qsfnz"),a=e("../common/adjust_lon"),r=e("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<n||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=o(this.e3,this.sin_po,this.cos_po),this.qs1=s(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=o(this.e3,this.sin_po,this.cos_po),this.qs2=s(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=s(this.e3,this.sin_po,this.cos_po),this.ns0=Math.abs(this.lat1-this.lat2)>n?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(e){var t=e.x,i=e.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=s(this.e3,this.sin_phi,this.cos_phi),o=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,r=this.ns0*a(t-this.long0),l=o*Math.sin(r)+this.x0,h=this.rh-o*Math.cos(r)+this.y0;return e.x=l,e.y=h,e},i.inverse=function(e){var t,i,n,o,s,r;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),n=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),n=-1),o=0,0!==t&&(o=Math.atan2(n*e.x,n*e.y)),n=t*this.ns0/this.a,this.sphere?r=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,r=this.phi1z(this.e3,i)),s=a(o/this.ns0+this.long0),e.x=s,e.y=r,e},i.phi1z=function(e,t){var i,o,s,a,l,h=r(.5*t);if(n>e)return h;for(var u=e*e,p=1;25>=p;p++)if(i=Math.sin(h),o=Math.cos(h),s=e*i,a=1-s*s,l=.5*a*a/o*(t/(1-u)-i/a+.5/e*Math.log((1-s)/(1+s))),h+=l,Math.abs(l)<=1e-7)return h;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],40:[function(e,t,i){var n=e("../common/adjust_lon"),o=Math.PI/2,s=1e-10,a=e("../common/mlfn"),r=e("../common/e0fn"),l=e("../common/e1fn"),h=e("../common/e2fn"),u=e("../common/e3fn"),p=e("../common/gN"),c=e("../common/asinz"),d=e("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(e){var t,i,c,d,f,g,m,_,v,b,w,y,k,x,T,M,P,I,C,S,D,z,A,j=e.x,N=e.y,E=Math.sin(e.y),F=Math.cos(e.y),B=n(j-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=s?(e.x=this.x0+this.a*(o-N)*Math.sin(B),e.y=this.y0-this.a*(o-N)*Math.cos(B),e):Math.abs(this.sin_p12+1)<=s?(e.x=this.x0+this.a*(o+N)*Math.sin(B),e.y=this.y0+this.a*(o+N)*Math.cos(B),e):(I=this.sin_p12*E+this.cos_p12*F*Math.cos(B),M=Math.acos(I),P=M/Math.sin(M),e.x=this.x0+this.a*P*F*Math.sin(B),e.y=this.y0+this.a*P*(this.cos_p12*E-this.sin_p12*F*Math.cos(B)),e):(t=r(this.es),i=l(this.es),c=h(this.es),d=u(this.es),Math.abs(this.sin_p12-1)<=s?(f=this.a*a(t,i,c,d,o),g=this.a*a(t,i,c,d,N),e.x=this.x0+(f-g)*Math.sin(B),e.y=this.y0-(f-g)*Math.cos(B),e):Math.abs(this.sin_p12+1)<=s?(f=this.a*a(t,i,c,d,o),g=this.a*a(t,i,c,d,N),e.x=this.x0+(f+g)*Math.sin(B),e.y=this.y0+(f+g)*Math.cos(B),e):(m=E/F,_=p(this.a,this.e,this.sin_p12),v=p(this.a,this.e,E),b=Math.atan((1-this.es)*m+this.es*_*this.sin_p12/(v*F)),w=Math.atan2(Math.sin(B),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(B)),C=0===w?Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(w)-Math.PI)<=s?-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.asin(Math.sin(B)*Math.cos(b)/Math.sin(w)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),k=this.e*this.cos_p12*Math.cos(w)/Math.sqrt(1-this.es),x=y*k,T=k*k,S=C*C,D=S*C,z=D*C,A=z*C,M=_*C*(1-S*T*(1-T)/6+D/8*x*(1-2*T)+z/120*(T*(4-7*T)-3*y*y*(1-7*T))-A/48*x),e.x=this.x0+M*Math.sin(w),e.y=this.y0+M*Math.cos(w),e))},i.inverse=function(e){e.x-=this.x0,e.y-=this.y0;var t,i,f,g,m,_,v,b,w,y,k,x,T,M,P,I,C,S,D,z,A,j,N;if(this.sphere){if(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*o*this.a)return;return i=t/this.a,f=Math.sin(i),g=Math.cos(i),m=this.long0,Math.abs(t)<=s?_=this.lat0:(_=c(g*this.sin_p12+e.y*f*this.cos_p12/t),v=Math.abs(this.lat0)-o,m=n(Math.abs(v)<=s?this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y):this.long0+Math.atan2(e.x*f,t*this.cos_p12*g-e.y*this.sin_p12*f))),e.x=m,e.y=_,e}return b=r(this.es),w=l(this.es),y=h(this.es),k=u(this.es),Math.abs(this.sin_p12-1)<=s?(x=this.a*a(b,w,y,k,o),t=Math.sqrt(e.x*e.x+e.y*e.y),T=x-t,_=d(T/this.a,b,w,y,k),m=n(this.long0+Math.atan2(e.x,-1*e.y)),e.x=m,e.y=_,e):Math.abs(this.sin_p12+1)<=s?(x=this.a*a(b,w,y,k,o),t=Math.sqrt(e.x*e.x+e.y*e.y),T=t-x,_=d(T/this.a,b,w,y,k),m=n(this.long0+Math.atan2(e.x,e.y)),e.x=m,e.y=_,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),I=Math.atan2(e.x,e.y),M=p(this.a,this.e,this.sin_p12),C=Math.cos(I),S=this.e*this.cos_p12*C,D=-S*S/(1-this.es),z=3*this.es*(1-D)*this.sin_p12*this.cos_p12*C/(1-this.es),A=t/M,j=A-D*(1+D)*Math.pow(A,3)/6-z*(1+3*D)*Math.pow(A,4)/24,N=1-D*j*j/2-A*j*j*j/6,P=Math.asin(this.sin_p12*Math.cos(j)+this.cos_p12*Math.sin(j)*C),m=n(this.long0+Math.asin(Math.sin(I)*Math.sin(j)/Math.cos(P))),_=Math.atan((1-this.es*N*this.sin_p12/Math.sin(P))*Math.tan(P)/(1-this.es)),e.x=m,e.y=_,e)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],41:[function(e,t,i){var n=e("../common/mlfn"),o=e("../common/e0fn"),s=e("../common/e1fn"),a=e("../common/e2fn"),r=e("../common/e3fn"),l=e("../common/gN"),h=e("../common/adjust_lon"),u=e("../common/adjust_lat"),p=e("../common/imlfn"),c=Math.PI/2,d=1e-10;i.init=function(){this.sphere||(this.e0=o(this.es),this.e1=s(this.es),this.e2=a(this.es),this.e3=r(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(e){var t,i,o=e.x,s=e.y;if(o=h(o-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(s)*Math.sin(o)),i=this.a*(Math.atan2(Math.tan(s),Math.cos(o))-this.lat0);else{var a=Math.sin(s),r=Math.cos(s),u=l(this.a,this.e,a),p=Math.tan(s)*Math.tan(s),c=o*Math.cos(s),d=c*c,f=this.es*r*r/(1-this.es),g=this.a*n(this.e0,this.e1,this.e2,this.e3,s);t=u*c*(1-d*p*(1/6-(8-p+8*f)*d/120)),i=g-this.ml0+u*a/r*d*(.5+(5-p+6*f)*d/24)}return e.x=t+this.x0,e.y=i+this.y0,e},i.inverse=function(e){e.x-=this.x0,e.y-=this.y0;var t,i,n=e.x/this.a,o=e.y/this.a;if(this.sphere){var s=o+this.lat0;t=Math.asin(Math.sin(s)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(s))}else{var a=this.ml0/this.a+o,r=p(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(r)-c)<=d)return e.x=this.long0,e.y=c,0>o&&(e.y*=-1),e;var f=l(this.a,this.e,Math.sin(r)),g=f*f*f/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(r),2),_=n*this.a/f,v=_*_;t=r-f*Math.tan(r)/g*_*_*(.5-(1+3*m)*_*_/24),i=_*(1-v*(m/3+(1+3*m)*m*v/15))/Math.cos(r)}return e.x=h(i+this.long0),e.y=u(t),e},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(e,t,i){var n=e("../common/adjust_lon"),o=e("../common/qsfnz"),s=e("../common/msfnz"),a=e("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=s(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(e){var t,i,s=e.x,a=e.y,r=n(s-this.long0);if(this.sphere)t=this.x0+this.a*r*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var l=o(this.e,Math.sin(a));t=this.x0+this.a*this.k0*r,i=this.y0+this.a*l*.5/this.k0}return e.x=t,e.y=i,e},i.inverse=function(e){e.x-=this.x0,e.y-=this.y0;var t,i;return this.sphere?(t=n(this.long0+e.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(i=a(this.e,2*e.y*this.k0/this.a),t=n(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=i,e},i.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],43:[function(e,t,i){var n=e("../common/adjust_lon"),o=e("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(e){var t=e.x,i=e.y,s=n(t-this.long0),a=o(i-this.lat0);return e.x=this.x0+this.a*s*this.rc,e.y=this.y0+this.a*a,e},i.inverse=function(e){var t=e.x,i=e.y;return e.x=n(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=o(this.lat0+(i-this.y0)/this.a),e},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],44:[function(e,t,i){var n=e("../common/e0fn"),o=e("../common/e1fn"),s=e("../common/e2fn"),a=e("../common/e3fn"),r=e("../common/msfnz"),l=e("../common/mlfn"),h=e("../common/adjust_lon"),u=e("../common/adjust_lat"),p=e("../common/imlfn"),c=1e-10;i.init=function(){Math.abs(this.lat1+this.lat2)<c||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=r(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<c?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=r(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(e){var t,i=e.x,n=e.y;if(this.sphere)t=this.a*(this.g-n);else{var o=l(this.e0,this.e1,this.e2,this.e3,n);t=this.a*(this.g-o)}var s=this.ns*h(i-this.long0),a=this.x0+t*Math.sin(s),r=this.y0+this.rh-t*Math.cos(s);return e.x=a,e.y=r,e},i.inverse=function(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,i,n,o;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(0!==i&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return o=h(this.long0+s/this.ns),n=u(this.g-i/this.a),e.x=o,e.y=n,e;var a=this.g-i/this.a;return n=p(a,this.e0,this.e1,this.e2,this.e3),o=h(this.long0+s/this.ns),e.x=o,e.y=n,e},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],45:[function(e,t,i){var n=Math.PI/4,o=e("../common/srat"),s=Math.PI/2,a=20;i.init=function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*o(this.e*e,this.ratexp))},i.forward=function(e){var t=e.x,i=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*o(this.e*Math.sin(i),this.ratexp))-s,e.x=this.C*t,e},i.inverse=function(e){for(var t=1e-14,i=e.x/this.C,r=e.y,l=Math.pow(Math.tan(.5*r+n)/this.K,1/this.C),h=a;h>0&&(r=2*Math.atan(l*o(this.e*Math.sin(e.y),-.5*this.e))-s,!(Math.abs(r-e.y)<t));--h)e.y=r;return h?(e.x=i,e.y=r,e):null},i.names=["gauss"]},{"../common/srat":22}],46:[function(e,t,i){var n=e("../common/adjust_lon"),o=1e-10,s=e("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(e){var t,i,s,a,r,l,h,u,p=e.x,c=e.y;return s=n(p-this.long0),t=Math.sin(c),i=Math.cos(c),a=Math.cos(s),l=this.sin_p14*t+this.cos_p14*i*a,r=1,l>0||Math.abs(l)<=o?(h=this.x0+this.a*r*i*Math.sin(s)/l,u=this.y0+this.a*r*(this.cos_p14*t-this.sin_p14*i*a)/l):(h=this.x0+this.infinity_dist*i*Math.sin(s),u=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*i*a)),e.x=h,e.y=u,e},i.inverse=function(e){var t,i,o,a,r,l;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(a=Math.atan2(t,this.rc),i=Math.sin(a),o=Math.cos(a),l=s(o*this.sin_p14+e.y*i*this.cos_p14/t),r=Math.atan2(e.x*i,t*this.cos_p14*o-e.y*this.sin_p14*i),r=n(this.long0+r)):(l=this.phic0,r=0),e.x=r,e.y=l,e},i.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],47:[function(e,t,i){var n=e("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(e){var t,i,o,s,a,r,l,h=e.x,u=e.y,p=n(h-this.long0);return t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45),o=-p*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),a=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(s)),r=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),e.y=l*Math.cos(r)/1,e.x=l*Math.sin(r)/1,this.czech||(e.y*=-1,e.x*=-1),e},i.inverse=function(e){var t,i,n,o,s,a,r,l,h=e.x;e.x=e.y,e.y=h,this.czech||(e.y*=-1,e.x*=-1),a=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),o=s/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),i=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(t)),e.x=this.long0-i/this.alfa,r=t,l=0;var u=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),Math.abs(r-e.y)<1e-10&&(l=1),r=e.y,u+=1;while(0===l&&15>u);return u>=15?null:e},i.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],48:[function(e,t,i){var n=Math.PI/2,o=Math.PI/4,s=1e-10,a=e("../common/qsfnz"),r=e("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var e=Math.abs(this.lat0);if(this.mode=Math.abs(e-n)<s?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<s?this.EQUIT:this.OBLIQ,this.es>0){var t;switch(this.qp=a(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=a(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(e){var t,i,l,h,u,p,c,d,f,g,m=e.x,_=e.y;if(m=r(m-this.long0),this.sphere){if(u=Math.sin(_),g=Math.cos(_),l=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+g*l:1+this.sinph0*u+this.cosph0*g*l,s>=i)return null;i=Math.sqrt(2/i),t=i*g*Math.sin(m),i*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*g*l}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),Math.abs(_+this.phi0)<s)return null;i=o-.5*_,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),t=i*Math.sin(m),i*=l}}else{switch(c=0,d=0,f=0,l=Math.cos(m),h=Math.sin(m),u=Math.sin(_),p=a(this.e,u),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(c=p/this.qp,d=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:f=1+this.sinb1*c+this.cosb1*d*l;break;case this.EQUIT:f=1+d*l;break;case this.N_POLE:f=n+_,p=this.qp-p;break;case this.S_POLE:f=_-n,p=this.qp+p}if(Math.abs(f)<s)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),i=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*c-this.sinb1*d*l):(f=Math.sqrt(2/(1+d*l)))*c*this.ymf,t=this.xmf*f*d*h;break;case this.N_POLE:case this.S_POLE:p>=0?(t=(f=Math.sqrt(p))*h,i=l*(this.mode===this.S_POLE?f:-f)):t=i=0}}return e.x=this.a*t+this.x0,e.y=this.a*i+this.y0,e},i.inverse=function(e){e.x-=this.x0,e.y-=this.y0;var t,i,o,a,l,h,u,p=e.x/this.a,c=e.y/this.a;if(this.sphere){var d,f=0,g=0;if(d=Math.sqrt(p*p+c*c),i=.5*d,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(g=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=s?0:Math.asin(c*g/d),p*=g,c=f*d;break;case this.OBLIQ:i=Math.abs(d)<=s?this.phi0:Math.asin(f*this.sinph0+c*g*this.cosph0/d),p*=g*this.cosph0,c=(f-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:c=-c,i=n-i;break;case this.S_POLE:i-=n}t=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(p,c):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(p/=this.dd,c*=this.dd,h=Math.sqrt(p*p+c*c),s>h)return e.x=0,e.y=this.phi0,e;a=2*Math.asin(.5*h/this.rq),o=Math.cos(a),p*=a=Math.sin(a),this.mode===this.OBLIQ?(u=o*this.sinb1+c*a*this.cosb1/h,l=this.qp*u,c=h*this.cosb1*o-c*this.sinb1*a):(u=c*a/h,l=this.qp*u,c=h*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),l=p*p+c*c,!l)return e.x=0,e.y=this.phi0,e;u=1-l/this.qp,this.mode===this.S_POLE&&(u=-u)}t=Math.atan2(p,c),i=this.authlat(Math.asin(u),this.apa)}return e.x=r(this.long0+t),e.y=i,e},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(e){var t,i=[];return i[0]=e*this.P00,t=e*e,i[0]+=t*this.P01,i[1]=t*this.P10,t*=e,i[0]+=t*this.P02,i[1]+=t*this.P11,i[2]=t*this.P20,i},i.authlat=function(e,t){var i=e+e;return e+t[0]*Math.sin(i)+t[1]*Math.sin(i+i)+t[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],49:[function(e,t,i){var n=1e-10,o=e("../common/msfnz"),s=e("../common/tsfnz"),a=Math.PI/2,r=e("../common/sign"),l=e("../common/adjust_lon"),h=e("../common/phi2z");
i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<n)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),i=Math.cos(this.lat1),a=o(this.e,t,i),r=s(this.e,this.lat1,t),l=Math.sin(this.lat2),h=Math.cos(this.lat2),u=o(this.e,l,h),p=s(this.e,this.lat2,l),c=s(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>n?Math.log(a/u)/Math.log(r/p):t,isNaN(this.ns)&&(this.ns=t),this.f0=a/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(e){var t=e.x,i=e.y;Math.abs(2*Math.abs(i)-Math.PI)<=n&&(i=r(i)*(a-2*n));var o,h,u=Math.abs(Math.abs(i)-a);if(u>n)o=s(this.e,i,Math.sin(i)),h=this.a*this.f0*Math.pow(o,this.ns);else{if(u=i*this.ns,0>=u)return null;h=0}var p=this.ns*l(t-this.long0);return e.x=this.k0*h*Math.sin(p)+this.x0,e.y=this.k0*(this.rh-h*Math.cos(p))+this.y0,e},i.inverse=function(e){var t,i,n,o,s,r=(e.x-this.x0)/this.k0,u=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(r*r+u*u),i=1):(t=-Math.sqrt(r*r+u*u),i=-1);var p=0;if(0!==t&&(p=Math.atan2(i*r,i*u)),0!==t||this.ns>0){if(i=1/this.ns,n=Math.pow(t/(this.a*this.f0),i),o=h(this.e,n),-9999===o)return null}else o=-a;return s=l(p/this.ns+this.long0),e.x=s,e.y=o,e},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],50:[function(e,t,i){function n(e){return e}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],51:[function(e,t,i){var n=e("../common/msfnz"),o=Math.PI/2,s=1e-10,a=57.29577951308232,r=e("../common/adjust_lon"),l=Math.PI/4,h=e("../common/tsfnz"),u=e("../common/phi2z");i.init=function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},i.forward=function(e){var t=e.x,i=e.y;if(i*a>90&&-90>i*a&&t*a>180&&-180>t*a)return null;var n,u;if(Math.abs(Math.abs(i)-o)<=s)return null;if(this.sphere)n=this.x0+this.a*this.k0*r(t-this.long0),u=this.y0+this.a*this.k0*Math.log(Math.tan(l+.5*i));else{var p=Math.sin(i),c=h(this.e,i,p);n=this.x0+this.a*this.k0*r(t-this.long0),u=this.y0-this.a*this.k0*Math.log(c)}return e.x=n,e.y=u,e},i.inverse=function(e){var t,i,n=e.x-this.x0,s=e.y-this.y0;if(this.sphere)i=o-2*Math.atan(Math.exp(-s/(this.a*this.k0)));else{var a=Math.exp(-s/(this.a*this.k0));if(i=u(this.e,a),-9999===i)return null}return t=r(this.long0+n/(this.a*this.k0)),e.x=t,e.y=i,e},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],52:[function(e,t,i){var n=e("../common/adjust_lon");i.init=function(){},i.forward=function(e){var t=e.x,i=e.y,o=n(t-this.long0),s=this.x0+this.a*o,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return e.x=s,e.y=a,e},i.inverse=function(e){e.x-=this.x0,e.y-=this.y0;var t=n(this.long0+e.x/this.a),i=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=i,e},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],53:[function(e,t,i){var n=e("../common/adjust_lon"),o=1e-10;i.init=function(){},i.forward=function(e){for(var t=e.x,i=e.y,s=n(t-this.long0),a=i,r=Math.PI*Math.sin(i),l=0;!0;l++){var h=-(a+Math.sin(a)-r)/(1+Math.cos(a));if(a+=h,Math.abs(h)<o)break}a/=2,Math.PI/2-Math.abs(i)<o&&(s=0);var u=.900316316158*this.a*s*Math.cos(a)+this.x0,p=1.4142135623731*this.a*Math.sin(a)+this.y0;return e.x=u,e.y=p,e},i.inverse=function(e){var t,i;e.x-=this.x0,e.y-=this.y0,i=e.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),t=Math.asin(i);var o=n(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),i=(2*t+Math.sin(2*t))/Math.PI,Math.abs(i)>1&&(i=1);var s=Math.asin(i);return e.x=o,e.y=s,e},i.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],54:[function(e,t,i){var n=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(e){var t,i=e.x,o=e.y,s=o-this.lat0,a=i-this.long0,r=s/n*1e-5,l=a,h=1,u=0;for(t=1;10>=t;t++)h*=r,u+=this.A[t]*h;var p,c,d=u,f=l,g=1,m=0,_=0,v=0;for(t=1;6>=t;t++)p=g*d-m*f,c=m*d+g*f,g=p,m=c,_=_+this.B_re[t]*g-this.B_im[t]*m,v=v+this.B_im[t]*g+this.B_re[t]*m;return e.x=v*this.a+this.x0,e.y=_*this.a+this.y0,e},i.inverse=function(e){var t,i,o,s=e.x,a=e.y,r=s-this.x0,l=a-this.y0,h=l/this.a,u=r/this.a,p=1,c=0,d=0,f=0;for(t=1;6>=t;t++)i=p*h-c*u,o=c*h+p*u,p=i,c=o,d=d+this.C_re[t]*p-this.C_im[t]*c,f=f+this.C_im[t]*p+this.C_re[t]*c;for(var g=0;g<this.iterations;g++){var m,_,v=d,b=f,w=h,y=u;for(t=2;6>=t;t++)m=v*d-b*f,_=b*d+v*f,v=m,b=_,w+=(t-1)*(this.B_re[t]*v-this.B_im[t]*b),y+=(t-1)*(this.B_im[t]*v+this.B_re[t]*b);v=1,b=0;var k=this.B_re[1],x=this.B_im[1];for(t=2;6>=t;t++)m=v*d-b*f,_=b*d+v*f,v=m,b=_,k+=t*(this.B_re[t]*v-this.B_im[t]*b),x+=t*(this.B_im[t]*v+this.B_re[t]*b);var T=k*k+x*x;d=(w*k+y*x)/T,f=(y*k-w*x)/T}var M=d,P=f,I=1,C=0;for(t=1;9>=t;t++)I*=M,C+=this.D[t]*I;var S=this.lat0+C*n*1e5,D=this.long0+P;return e.x=D,e.y=S,e},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],55:[function(e,t,i){var n=e("../common/tsfnz"),o=e("../common/adjust_lon"),s=e("../common/phi2z"),a=Math.PI/2,r=Math.PI/4,l=1e-10;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),i=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var s=n(this.e,this.lat0,e),a=this.bl/t*Math.sqrt((1-this.es)/(1-i*i));1>a*a&&(a=1);var r,l;if(isNaN(this.longc)){var h=n(this.e,this.lat1,Math.sin(this.lat1)),u=n(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(a+Math.sqrt(a*a-1))*Math.pow(s,this.bl):(a-Math.sqrt(a*a-1))*Math.pow(s,this.bl);var p=Math.pow(h,this.bl),c=Math.pow(u,this.bl);r=this.el/p,l=.5*(r-1/r);var d=(this.el*this.el-c*p)/(this.el*this.el+c*p),f=(c-p)/(c+p),g=o(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*g)/f)/this.bl,this.long0=o(this.long0);var m=o(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*m)/l),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else r=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=r*Math.pow(s,this.bl),l=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},i.forward=function(e){var t,i,s,h=e.x,u=e.y,p=o(h-this.long0);if(Math.abs(Math.abs(u)-a)<=l)s=u>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(r+s*this.gamma0*.5)),t=-1*s*a*this.al/this.bl;else{var c=n(this.e,u,Math.sin(u)),d=this.el/Math.pow(c,this.bl),f=.5*(d-1/d),g=.5*(d+1/d),m=Math.sin(this.bl*p),_=(f*Math.sin(this.gamma0)-m*Math.cos(this.gamma0))/g;i=Math.abs(Math.abs(_)-1)<=l?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-_)/(1+_))/this.bl,t=Math.abs(Math.cos(this.bl*p))<=l?this.al*this.bl*p:this.al*Math.atan2(f*Math.cos(this.gamma0)+m*Math.sin(this.gamma0),Math.cos(this.bl*p))/this.bl}return this.no_rot?(e.x=this.x0+t,e.y=this.y0+i):(t-=this.uc,e.x=this.x0+i*Math.cos(this.alpha)+t*Math.sin(this.alpha),e.y=this.y0+t*Math.cos(this.alpha)-i*Math.sin(this.alpha)),e},i.inverse=function(e){var t,i;this.no_rot?(i=e.y-this.y0,t=e.x-this.x0):(i=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),h=.5*(n+1/n),u=Math.sin(this.bl*t/this.al),p=(u*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/h,c=Math.pow(this.el/Math.sqrt((1+p)/(1-p)),1/this.bl);return Math.abs(p-1)<l?(e.x=this.long0,e.y=a):Math.abs(p+1)<l?(e.x=this.long0,e.y=-1*a):(e.y=s(this.e,c),e.x=o(this.long0-Math.atan2(r*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],56:[function(e,t,i){var n=e("../common/e0fn"),o=e("../common/e1fn"),s=e("../common/e2fn"),a=e("../common/e3fn"),r=e("../common/adjust_lon"),l=e("../common/adjust_lat"),h=e("../common/mlfn"),u=1e-10,p=e("../common/gN"),c=20;i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(e){var t,i,n,o=e.x,s=e.y,a=r(o-this.long0);if(n=a*Math.sin(s),this.sphere)Math.abs(s)<=u?(t=this.a*a,i=-1*this.a*this.lat0):(t=this.a*Math.sin(n)/Math.tan(s),i=this.a*(l(s-this.lat0)+(1-Math.cos(n))/Math.tan(s)));else if(Math.abs(s)<=u)t=this.a*a,i=-1*this.ml0;else{var c=p(this.a,this.e,Math.sin(s))/Math.tan(s);t=c*Math.sin(n),i=this.a*h(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+c*(1-Math.cos(n))}return e.x=t+this.x0,e.y=i+this.y0,e},i.inverse=function(e){var t,i,n,o,s,a,l,p,d;if(n=e.x-this.x0,o=e.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=u)t=r(n/this.a+this.long0),i=0;else{a=this.lat0+o/this.a,l=n*n/this.a/this.a+a*a,p=a;var f;for(s=c;s;--s)if(f=Math.tan(p),d=-1*(a*(p*f+1)-p-.5*(p*p+l)*f)/((p-a)/f-1),p+=d,Math.abs(d)<=u){i=p;break}t=r(this.long0+Math.asin(n*Math.tan(p)/this.a)/Math.sin(i))}else if(Math.abs(o+this.ml0)<=u)i=0,t=r(this.long0+n/this.a);else{a=(this.ml0+o)/this.a,l=n*n/this.a/this.a+a*a,p=a;var g,m,_,v,b;for(s=c;s;--s)if(b=this.e*Math.sin(p),g=Math.sqrt(1-b*b)*Math.tan(p),m=this.a*h(this.e0,this.e1,this.e2,this.e3,p),_=this.e0-2*this.e1*Math.cos(2*p)+4*this.e2*Math.cos(4*p)-6*this.e3*Math.cos(6*p),v=m/this.a,d=(a*(g*v+1)-v-.5*g*(v*v+l))/(this.es*Math.sin(2*p)*(v*v+l-2*a*v)/(4*g)+(a-v)*(g*_-2/Math.sin(2*p))-_),p-=d,Math.abs(d)<=u){i=p;break}g=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),t=r(this.long0+Math.asin(n*g/this.a)/Math.sin(i))}return e.x=t,e.y=i,e},i.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],57:[function(e,t,i){var n=e("../common/adjust_lon"),o=e("../common/adjust_lat"),s=e("../common/pj_enfn"),a=20,r=e("../common/pj_mlfn"),l=e("../common/pj_inv_mlfn"),h=Math.PI/2,u=1e-10,p=e("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=s(this.es)},i.forward=function(e){var t,i,o=e.x,s=e.y;if(o=n(o-this.long0),this.sphere){if(this.m)for(var l=this.n*Math.sin(s),h=a;h;--h){var p=(this.m*s+Math.sin(s)-l)/(this.m+Math.cos(s));if(s-=p,Math.abs(p)<u)break}else s=1!==this.n?Math.asin(this.n*Math.sin(s)):s;t=this.a*this.C_x*o*(this.m+Math.cos(s)),i=this.a*this.C_y*s}else{var c=Math.sin(s),d=Math.cos(s);i=this.a*r(s,c,d,this.en),t=this.a*o*d/Math.sqrt(1-this.es*c*c)}return e.x=t,e.y=i,e},i.inverse=function(e){var t,i,s,a;return e.x-=this.x0,s=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,s/=this.C_x*(this.m+Math.cos(t)),this.m?t=p((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=p(Math.sin(t)/this.n)),s=n(s+this.long0),t=o(t)):(t=l(e.y/this.a,this.es,this.en),a=Math.abs(t),h>a?(a=Math.sin(t),i=this.long0+e.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(t)),s=n(i)):h>a-u&&(s=this.long0)),e.x=s,e.y=t,e},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],58:[function(e,t,i){i.init=function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),i=this.a,n=this.rf,o=1/n,s=2*o-Math.pow(o,2),a=this.e=Math.sqrt(s);this.R=this.k0*i*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),h=Math.log((1+a*t)/(1-a*t));this.K=r-this.alpha*l+this.alpha*a/2*h},i.forward=function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),n=-this.alpha*(t+i)+this.K,o=2*(Math.atan(Math.exp(n))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(s))),r=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,e.x=this.R*a+this.x0,e},i.inverse=function(e){for(var t=e.x-this.x0,i=e.y-this.y0,n=t/this.R,o=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(o))),r=this.lambda0+a/this.alpha,l=0,h=s,u=-1e3,p=0;Math.abs(h-u)>1e-7;){if(++p>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=r,e.y=h,e},i.names=["somerc"]},{}],59:[function(e,t,i){var n=Math.PI/2,o=1e-10,s=e("../common/sign"),a=e("../common/msfnz"),r=e("../common/tsfnz"),l=e("../common/phi2z"),h=e("../common/adjust_lon");i.ssfn_=function(e,t,i){return t*=i,Math.tan(.5*(n+e))*Math.pow((1-t)/(1+t),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*(1+s(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=o&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*this.cons*a(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/r(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=a(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(e){var t,i,s,a,l,u,p=e.x,c=e.y,d=Math.sin(c),f=Math.cos(c),g=h(p-this.long0);return Math.abs(Math.abs(p-this.long0)-Math.PI)<=o&&Math.abs(c+this.lat0)<=o?(e.x=0/0,e.y=0/0,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*d+this.coslat0*f*Math.cos(g)),e.x=this.a*t*f*Math.sin(g)+this.x0,e.y=this.a*t*(this.coslat0*d-this.sinlat0*f*Math.cos(g))+this.y0,e):(i=2*Math.atan(this.ssfn_(c,d,this.e))-n,a=Math.cos(i),s=Math.sin(i),Math.abs(this.coslat0)<=o?(l=r(this.e,c*this.con,this.con*d),u=2*this.a*this.k0*l/this.cons,e.x=this.x0+u*Math.sin(p-this.long0),e.y=this.y0-this.con*u*Math.cos(p-this.long0),e):(Math.abs(this.sinlat0)<o?(t=2*this.a*this.k0/(1+a*Math.cos(g)),e.y=t*s):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*a*Math.cos(g))),e.y=t*(this.cosX0*s-this.sinX0*a*Math.cos(g))+this.y0),e.x=t*a*Math.sin(g)+this.x0,e))},i.inverse=function(e){e.x-=this.x0,e.y-=this.y0;var t,i,s,a,r,u=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var p=2*Math.atan(u/(.5*this.a*this.k0));return t=this.long0,i=this.lat0,o>=u?(e.x=t,e.y=i,e):(i=Math.asin(Math.cos(p)*this.sinlat0+e.y*Math.sin(p)*this.coslat0/u),t=h(Math.abs(this.coslat0)<o?this.lat0>0?this.long0+Math.atan2(e.x,-1*e.y):this.long0+Math.atan2(e.x,e.y):this.long0+Math.atan2(e.x*Math.sin(p),u*this.coslat0*Math.cos(p)-e.y*this.sinlat0*Math.sin(p))),e.x=t,e.y=i,e)}if(Math.abs(this.coslat0)<=o){if(o>=u)return i=this.lat0,t=this.long0,e.x=t,e.y=i,e;e.x*=this.con,e.y*=this.con,s=u*this.cons/(2*this.a*this.k0),i=this.con*l(this.e,s),t=this.con*h(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else a=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o>=u?r=this.X0:(r=Math.asin(Math.cos(a)*this.sinX0+e.y*Math.sin(a)*this.cosX0/u),t=h(this.long0+Math.atan2(e.x*Math.sin(a),u*this.cosX0*Math.cos(a)-e.y*this.sinX0*Math.sin(a)))),i=-1*l(this.e,Math.tan(.5*(n+r)));return e.x=t,e.y=i,e},i.names=["stere"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],60:[function(e,t,i){var n=e("./gauss"),o=e("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(e){var t,i,s,a;return e.x=o(e.x-this.long0),n.forward.apply(this,[e]),t=Math.sin(e.y),i=Math.cos(e.y),s=Math.cos(e.x),a=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*i*s),e.x=a*i*Math.sin(e.x),e.y=a*(this.cosc0*t-this.sinc0*i*s),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},i.inverse=function(e){var t,i,s,a,r;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,r=Math.sqrt(e.x*e.x+e.y*e.y)){var l=2*Math.atan2(r,this.R2);t=Math.sin(l),i=Math.cos(l),a=Math.asin(i*this.sinc0+e.y*t*this.cosc0/r),s=Math.atan2(e.x*t,r*this.cosc0*i-e.y*this.sinc0*t)}else a=this.phic0,s=0;return e.x=s,e.y=a,n.inverse.apply(this,[e]),e.x=o(e.x+this.long0),e},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":45}],61:[function(e,t,i){var n=e("../common/e0fn"),o=e("../common/e1fn"),s=e("../common/e2fn"),a=e("../common/e3fn"),r=e("../common/mlfn"),l=e("../common/adjust_lon"),h=Math.PI/2,u=1e-10,p=e("../common/sign"),c=e("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*r(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(e){var t,i,n,o=e.x,s=e.y,a=l(o-this.long0),h=Math.sin(s),u=Math.cos(s);if(this.sphere){var p=u*Math.sin(a);if(Math.abs(Math.abs(p)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+p)/(1-p)),t=Math.acos(u*Math.cos(a)/Math.sqrt(1-p*p)),0>s&&(t=-t),n=this.a*this.k0*(t-this.lat0)}else{var c=u*a,d=Math.pow(c,2),f=this.ep2*Math.pow(u,2),g=Math.tan(s),m=Math.pow(g,2);t=1-this.es*Math.pow(h,2);var _=this.a/Math.sqrt(t),v=this.a*r(this.e0,this.e1,this.e2,this.e3,s);i=this.k0*_*c*(1+d/6*(1-m+f+d/20*(5-18*m+Math.pow(m,2)+72*f-58*this.ep2)))+this.x0,n=this.k0*(v-this.ml0+_*g*d*(.5+d/24*(5-m+9*f+4*Math.pow(f,2)+d/30*(61-58*m+Math.pow(m,2)+600*f-330*this.ep2))))+this.y0}return e.x=i,e.y=n,e},i.inverse=function(e){var t,i,n,o,s,a,r=6;if(this.sphere){var d=Math.exp(e.x/(this.a*this.k0)),f=.5*(d-1/d),g=this.lat0+e.y/(this.a*this.k0),m=Math.cos(g);t=Math.sqrt((1-m*m)/(1+f*f)),s=c(t),0>g&&(s=-s),a=0===f&&0===m?this.long0:l(Math.atan2(f,m)+this.long0)}else{var _=e.x-this.x0,v=e.y-this.y0;for(t=(this.ml0+v/this.k0)/this.a,i=t,o=0;n=(t+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=u);o++)if(o>=r)return 95;if(Math.abs(i)<h){var b=Math.sin(i),w=Math.cos(i),y=Math.tan(i),k=this.ep2*Math.pow(w,2),x=Math.pow(k,2),T=Math.pow(y,2),M=Math.pow(T,2);t=1-this.es*Math.pow(b,2);var P=this.a/Math.sqrt(t),I=P*(1-this.es)/t,C=_/(P*this.k0),S=Math.pow(C,2);s=i-P*y*S/I*(.5-S/24*(5+3*T+10*k-4*x-9*this.ep2-S/30*(61+90*T+298*k+45*M-252*this.ep2-3*x))),a=l(this.long0+C*(1-S/6*(1+2*T+k-S/20*(5-2*k+28*T-3*x+8*this.ep2+24*M)))/w)}else s=h*p(v),a=this.long0}return e.x=a,e.y=s,e},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],62:[function(e,t,i){var n=.017453292519943295,o=e("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,o.init.apply(this),this.forward=o.forward,this.inverse=o.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":61}],63:[function(e,t,i){var n=e("../common/adjust_lon"),o=Math.PI/2,s=1e-10,a=e("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(e){var t,i,r=e.x,l=e.y,h=n(r-this.long0);Math.abs(l)<=s&&(t=this.x0+this.R*h,i=this.y0);var u=a(2*Math.abs(l/Math.PI));(Math.abs(h)<=s||Math.abs(Math.abs(l)-o)<=s)&&(t=this.x0,i=l>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var p=.5*Math.abs(Math.PI/h-h/Math.PI),c=p*p,d=Math.sin(u),f=Math.cos(u),g=f/(d+f-1),m=g*g,_=g*(2/d-1),v=_*_,b=Math.PI*this.R*(p*(g-v)+Math.sqrt(c*(g-v)*(g-v)-(v+c)*(m-v)))/(v+c);0>h&&(b=-b),t=this.x0+b;var w=c+g;return b=Math.PI*this.R*(_*w-p*Math.sqrt((v+c)*(c+1)-w*w))/(v+c),i=l>=0?this.y0+b:this.y0-b,e.x=t,e.y=i,e},i.inverse=function(e){var t,i,o,a,r,l,h,u,p,c,d,f,g;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,o=e.x/d,a=e.y/d,r=o*o+a*a,l=-Math.abs(a)*(1+r),h=l-2*a*a+o*o,u=-2*l+1+2*a*a+r*r,g=a*a/u+(2*h*h*h/u/u/u-9*l*h/u/u)/27,p=(l-h*h/3/u)/u,c=2*Math.sqrt(-p/3),d=3*g/p/c,Math.abs(d)>1&&(d=d>=0?1:-1),f=Math.acos(d)/3,i=e.y>=0?(-c*Math.cos(f+Math.PI/3)-h/3/u)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-h/3/u)*Math.PI,t=Math.abs(o)<s?this.long0:n(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(o*o-a*a)+r*r))/2/o),e.x=t,e.y=i,e},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],64:[function(e,t){var i=.017453292519943295,n=57.29577951308232,o=1,s=2,a=e("./datum_transform"),r=e("./adjust_axis"),l=e("./Proj"),h=e("./common/toPoint");t.exports=function u(e,t,p){function c(e,t){return(e.datum.datum_type===o||e.datum.datum_type===s)&&"WGS84"!==t.datumCode}var d;return Array.isArray(p)&&(p=h(p)),e.datum&&t.datum&&(c(e,t)||c(t,e))&&(d=new l("WGS84"),u(e,d,p),e=d),"enu"!==e.axis&&r(e,!1,p),"longlat"===e.projName?(p.x*=i,p.y*=i):(e.to_meter&&(p.x*=e.to_meter,p.y*=e.to_meter),e.inverse(p)),e.from_greenwich&&(p.x+=e.from_greenwich),p=a(e.datum,t.datum,p),t.from_greenwich&&(p.x-=t.from_greenwich),"longlat"===t.projName?(p.x*=n,p.y*=n):(t.forward(p),t.to_meter&&(p.x/=t.to_meter,p.y/=t.to_meter)),"enu"!==t.axis&&r(t,!0,p),p}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":30}],65:[function(e,t){function i(e,t,i){e[t]=i.map(function(e){var t={};return n(e,t),t}).reduce(function(e,t){return l(e,t)},{})}function n(e,t){var o;return Array.isArray(e)?(o=e.shift(),"PARAMETER"===o&&(o=e.shift()),void(1===e.length?Array.isArray(e[0])?(t[o]={},n(e[0],t[o])):t[o]=e[0]:e.length?"TOWGS84"===o?t[o]=e:(t[o]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(o)>-1?(t[o]={name:e[0].toLowerCase(),convert:e[1]},3===e.length&&(t[o].auth=e[2])):"SPHEROID"===o?(t[o]={name:e[0],a:e[1],rf:e[2]},4===e.length&&(t[o].auth=e[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(o)>-1?(e[0]=["name",e[0]],i(t,o,e)):e.every(function(e){return Array.isArray(e)})?i(t,o,e):n(e,t[o])):t[o]=!0)):void(t[e]=!0)}function o(e,t){var i=t[0],n=t[1];!(i in e)&&n in e&&(e[i]=e[n],3===t.length&&(e[i]=t[2](e[i])))}function s(e){return e*r}function a(e){function t(t){var i=e.to_meter||1;return parseFloat(t,10)*i}"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):e.projName="object"==typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&(e.to_meter=parseFloat(e.UNIT.convert,10))),e.GEOGCS&&(e.datumCode=e.GEOGCS.DATUM?e.GEOGCS.DATUM.name.toLowerCase():e.GEOGCS.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===e.datumCode||"new_zealand_1949"===e.datumCode)&&(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),e.GEOGCS.DATUM&&e.GEOGCS.DATUM.SPHEROID&&(e.ellps=e.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=e.GEOGCS.DATUM.SPHEROID.a,e.rf=parseFloat(e.GEOGCS.DATUM.SPHEROID.rf,10))),e.b&&!isFinite(e.b)&&(e.b=e.a);var i=function(t){return o(e,t)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]];n.forEach(i),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.PROJECTION&&"Lambert_Azimuthal_Equal_Area"!==e.PROJECTION||(e.long0=e.longc)}var r=.017453292519943295,l=e("./extend");t.exports=function(e,t){var i=JSON.parse((","+e).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]')),o=i.shift(),s=i.shift();i.unshift(["name",s]),i.unshift(["type",o]),i.unshift("output");var r={};return n(i,r),a(r.output),l(t,r.output)}},{"./extend":33}],66:[function(e,t,i){function n(e){return e*(Math.PI/180)}function o(e){return 180*(e/Math.PI)}function s(e){var t,i,o,s,a,l,h,u,p,c=e.lat,d=e.lon,f=6378137,g=.00669438,m=.9996,_=n(c),v=n(d);p=Math.floor((d+180)/6)+1,180===d&&(p=60),c>=56&&64>c&&d>=3&&12>d&&(p=32),c>=72&&84>c&&(d>=0&&9>d?p=31:d>=9&&21>d?p=33:d>=21&&33>d?p=35:d>=33&&42>d&&(p=37)),t=6*(p-1)-180+3,u=n(t),i=g/(1-g),o=f/Math.sqrt(1-g*Math.sin(_)*Math.sin(_)),s=Math.tan(_)*Math.tan(_),a=i*Math.cos(_)*Math.cos(_),l=Math.cos(_)*(v-u),h=f*((1-g/4-3*g*g/64-5*g*g*g/256)*_-(3*g/8+3*g*g/32+45*g*g*g/1024)*Math.sin(2*_)+(15*g*g/256+45*g*g*g/1024)*Math.sin(4*_)-35*g*g*g/3072*Math.sin(6*_));var b=m*o*(l+(1-s+a)*l*l*l/6+(5-18*s+s*s+72*a-58*i)*l*l*l*l*l/120)+5e5,w=m*(h+o*Math.tan(_)*(l*l/2+(5-s+9*a+4*a*a)*l*l*l*l/24+(61-58*s+s*s+600*a-330*i)*l*l*l*l*l*l/720));return 0>c&&(w+=1e7),{northing:Math.round(w),easting:Math.round(b),zoneNumber:p,zoneLetter:r(c)}}function a(e){var t=e.northing,i=e.easting,n=e.zoneLetter,s=e.zoneNumber;if(0>s||s>60)return null;var r,l,h,u,p,c,d,f,g,m,_=.9996,v=6378137,b=.00669438,w=(1-Math.sqrt(1-b))/(1+Math.sqrt(1-b)),y=i-5e5,k=t;"N">n&&(k-=1e7),f=6*(s-1)-180+3,r=b/(1-b),d=k/_,g=d/(v*(1-b/4-3*b*b/64-5*b*b*b/256)),m=g+(3*w/2-27*w*w*w/32)*Math.sin(2*g)+(21*w*w/16-55*w*w*w*w/32)*Math.sin(4*g)+151*w*w*w/96*Math.sin(6*g),l=v/Math.sqrt(1-b*Math.sin(m)*Math.sin(m)),h=Math.tan(m)*Math.tan(m),u=r*Math.cos(m)*Math.cos(m),p=v*(1-b)/Math.pow(1-b*Math.sin(m)*Math.sin(m),1.5),c=y/(l*_);var x=m-l*Math.tan(m)/p*(c*c/2-(5+3*h+10*u-4*u*u-9*r)*c*c*c*c/24+(61+90*h+298*u+45*h*h-252*r-3*u*u)*c*c*c*c*c*c/720);x=o(x);var T=(c-(1+2*h+u)*c*c*c/6+(5-2*u+28*h-3*u*u+8*r+24*h*h)*c*c*c*c*c/120)/Math.cos(m);T=f+o(T);var M;if(e.accuracy){var P=a({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});M={top:P.lat,right:P.lon,bottom:x,left:T}}else M={lat:x,lon:T};return M}function r(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function l(e,t){var i=""+e.easting,n=""+e.northing;return e.zoneNumber+e.zoneLetter+h(e.easting,e.northing,e.zoneNumber)+i.substr(i.length-5,t)+n.substr(n.length-5,t)}function h(e,t,i){var n=u(i),o=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return p(o,s,n)}function u(e){var t=e%m;return 0===t&&(t=m),t}function p(e,t,i){var n=i-1,o=_.charCodeAt(n),s=v.charCodeAt(n),a=o+e-1,r=s+t,l=!1;a>x&&(a=a-x+b-1,l=!0),(a===w||w>o&&a>w||(a>w||w>o)&&l)&&a++,(a===y||y>o&&a>y||(a>y||y>o)&&l)&&(a++,a===w&&a++),a>x&&(a=a-x+b-1),r>k?(r=r-k+b-1,l=!0):l=!1,(r===w||w>s&&r>w||(r>w||w>s)&&l)&&r++,(r===y||y>s&&r>y||(r>y||y>s)&&l)&&(r++,r===w&&r++),r>k&&(r=r-k+b-1);var h=String.fromCharCode(a)+String.fromCharCode(r);return h}function c(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,i=e.length,n=null,o="",s=0;!/[A-Z]/.test(t=e.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+e;o+=t,s++}var a=parseInt(o,10);if(0===s||s+3>i)throw"MGRSPoint bad conversion from: "+e;var r=e.charAt(s++);if("A">=r||"B"===r||"Y"===r||r>="Z"||"I"===r||"O"===r)throw"MGRSPoint zone letter "+r+" not handled: "+e;n=e.substring(s,s+=2);for(var l=u(a),h=d(n.charAt(0),l),p=f(n.charAt(1),l);p<g(r);)p+=2e6;var c=i-s;if(c%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var m,_,v,b,w,y=c/2,k=0,x=0;return y>0&&(m=1e5/Math.pow(10,y),_=e.substring(s,s+y),k=parseFloat(_)*m,v=e.substring(s+y),x=parseFloat(v)*m),b=k+h,w=x+p,{easting:b,northing:w,zoneLetter:r,zoneNumber:a,accuracy:m}}function d(e,t){for(var i=_.charCodeAt(t-1),n=1e5,o=!1;i!==e.charCodeAt(0);){if(i++,i===w&&i++,i===y&&i++,i>x){if(o)throw"Bad character: "+e;i=b,o=!0}n+=1e5}return n}function f(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var i=v.charCodeAt(t-1),n=0,o=!1;i!==e.charCodeAt(0);){if(i++,i===w&&i++,i===y&&i++,i>k){if(o)throw"Bad character: "+e;i=b,o=!0}n+=1e5}return n}function g(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}var m=6,_="AJSAJS",v="AFAFAF",b=65,w=73,y=79,k=86,x=90;i.forward=function(e,t){return t=t||5,l(s({lat:e[1],lon:e[0]}),t)},i.inverse=function(e){var t=a(c(e.toUpperCase()));return[t.left,t.bottom,t.right,t.top]},i.toPoint=function(e){var t=i.inverse(e);return[(t[2]+t[0])/2,(t[3]+t[1])/2]}},{}],67:[function(e,t){t.exports={name:"proj4",version:"2.1.4",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"0.0.0"}}
},{}],"./includedProjections":[function(e,t){t.exports=e("gWUPNW")},{}],gWUPNW:[function(e,t){var i=[e("./lib/projections/tmerc"),e("./lib/projections/utm"),e("./lib/projections/sterea"),e("./lib/projections/stere"),e("./lib/projections/somerc"),e("./lib/projections/omerc"),e("./lib/projections/lcc"),e("./lib/projections/krovak"),e("./lib/projections/cass"),e("./lib/projections/laea"),e("./lib/projections/aea"),e("./lib/projections/gnom"),e("./lib/projections/cea"),e("./lib/projections/eqc"),e("./lib/projections/poly"),e("./lib/projections/nzmg"),e("./lib/projections/mill"),e("./lib/projections/sinu"),e("./lib/projections/moll"),e("./lib/projections/eqdc"),e("./lib/projections/vandg"),e("./lib/projections/aeqd")];t.exports=function(e){i.forEach(function(t){e.Proj.projections.add(t)})}},{"./lib/projections/aea":39,"./lib/projections/aeqd":40,"./lib/projections/cass":41,"./lib/projections/cea":42,"./lib/projections/eqc":43,"./lib/projections/eqdc":44,"./lib/projections/gnom":46,"./lib/projections/krovak":47,"./lib/projections/laea":48,"./lib/projections/lcc":49,"./lib/projections/mill":52,"./lib/projections/moll":53,"./lib/projections/nzmg":54,"./lib/projections/omerc":55,"./lib/projections/poly":56,"./lib/projections/sinu":57,"./lib/projections/somerc":58,"./lib/projections/stere":59,"./lib/projections/sterea":60,"./lib/projections/tmerc":61,"./lib/projections/utm":62,"./lib/projections/vandg":63}]},{},[35])(35)}),function(e,t){var i=/[<>&\r\n"']/gm,n={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"#39;"};e.extend({fileDownload:function(o,s){function a(){if(-1!=document.cookie.indexOf(d.cookieName+"="+d.cookieValue)){v.onSuccess(o);var t=d.cookieName+"=; path="+d.cookiePath+"; expires="+new Date(0).toUTCString()+";";return d.cookieDomain&&(t+=" domain="+d.cookieDomain+";"),document.cookie=t,void l(!1)}if(w||b)try{var i=w?w.document:r(b);if(i&&null!=i.body&&i.body.innerHTML.length){var n=!0;if(k&&k.length){var s=e(i.body).contents().first();try{s.length&&s[0]===k[0]&&(n=!1)}catch(h){if(!h||-2146828218!=h.number)throw h;n=!0}}if(n)return void setTimeout(function(){v.onFail(i.body.innerHTML,o),l(!0)},100)}}catch(u){return v.onFail("",o),void l(!0)}setTimeout(a,d.checkInterval)}function r(e){var t=e[0].contentWindow||e[0].contentDocument;return t.document&&(t=t.document),t}function l(e){setTimeout(function(){w&&(p&&w.close(),u&&w.focus&&(w.focus(),e&&w.close()))},0)}function h(e){return e.replace(i,function(e){return"&"+n[e]})}var u,p,c,d=e.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(){},successCallback:function(){},failCallback:function(){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",cookieDomain:null,popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},s),f=new e.Deferred,g=(navigator.userAgent||navigator.vendor||t.opera).toLowerCase();/ip(ad|hone|od)/.test(g)?u=!0:-1!==g.indexOf("android")?p=!0:c=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(g)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(g.substr(0,4));var m=d.httpMethod.toUpperCase();if(p&&"GET"!==m)return e().dialog?e("<div>").html(d.androidPostUnsupportedMessageHtml).dialog(d.dialogOptions):alert(d.androidPostUnsupportedMessageHtml),f.reject();var _=null,v={onPrepare:function(t){d.preparingMessageHtml?_=e("<div>").html(d.preparingMessageHtml).dialog(d.dialogOptions):d.prepareCallback&&d.prepareCallback(t)},onSuccess:function(e){_&&_.dialog("close"),d.successCallback(e),f.resolve(e)},onFail:function(t,i){_&&_.dialog("close"),d.failMessageHtml&&e("<div>").html(d.failMessageHtml).dialog(d.dialogOptions),d.failCallback(t,i),f.reject(t,i)}};v.onPrepare(o),null!==d.data&&"string"!=typeof d.data&&(d.data=e.param(d.data));var b,w,y,k;if("GET"===m){if(null!==d.data){var x=o.indexOf("?");-1!==x?"&"!==o.substring(o.length-1)&&(o+="&"):o+="?",o+=d.data}u||p?(w=t.open(o),w.document.title=d.popupWindowTitle,t.focus()):c?t.location(o):b=e("<iframe>").hide().prop("src",o).appendTo("body")}else{var T="";null!==d.data&&e.each(d.data.replace(/\+/g," ").split("&"),function(){var e=this.split("="),t=d.encodeHTMLEntities?h(decodeURIComponent(e[0])):decodeURIComponent(e[0]);if(t){var i=d.encodeHTMLEntities?h(decodeURIComponent(e[1])):decodeURIComponent(e[1]);T+='<input type="hidden" name="'+t+'" value="'+i+'" />'}}),c?(k=e("<form>").appendTo("body"),k.hide().prop("method",d.httpMethod).prop("action",o).html(T)):(u?(w=t.open("about:blank"),w.document.title=d.popupWindowTitle,y=w.document,t.focus()):(b=e("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body"),y=r(b)),y.write("<html><head></head><body><form method='"+d.httpMethod+"' action='"+o+"'>"+T+"</form>"+d.popupWindowTitle+"</body></html>"),k=e(y).find("form")),k.submit()}return setTimeout(a,d.checkInterval),f.promise()}})}(jQuery,this),function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return o(i?i:e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e){function t(e,t,i){return null!=t&&(e=Math.max(e,t)),null!=i&&(e=Math.min(e,i)),e}function i(e){return e*(Math.PI/180)}function n(e){return e/(Math.PI/180)}function o(){var e=256;this.pixelOrigin_=new google.maps.Point(e/2,e/2),this.pixelsPerLonDegree_=e/360,this.pixelsPerLonRadian_=e/(2*Math.PI)}window.apf=window.apf||{},window.apf.gmap=window.apf.gmap||{},window.apf.olmap=window.apf.olmap||{},window.apf.initiiereIndex=e("./modules/initiiereIndex"),window.apf.setzeWindowAp=function(e){"use strict";localStorage.ap_id=e,$.ajax({type:"get",url:"api/v1/ap="+localStorage.ap_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.ap=e[0])})},window.apf.hole_artliste_html=function(){"use strict";var e=$.Deferred();return window.apf.artliste_html?e.resolve():$.ajax({type:"get",url:"api/v1/artliste",dataType:"json"}).done(function(t){var i;i="<option></option>",_.each(t,function(e){i+='<option value="'+e.TaxonomieId+'">'+e.Artname+"</option>"}),window.apf.artliste_html=i,e.resolve()}),e.promise()},window.apf.erstelle_artlisten=function(){"use strict";var e=$.Deferred();return $.when(window.apf.hole_artliste_html()).then(function(){$("#AaSisfNr").html(window.apf.artliste_html),$("#TPopMassnAnsiedWirtspfl").html(window.apf.artliste_html),e.resolve()}),e.promise()},window.apf.setzeWindowPop=function(e){"use strict";localStorage.pop_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblPopulation/feld=PopId/wertNumber="+localStorage.pop_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.pop=e[0])})},window.apf.setzeWindowApziel=function(e){"use strict";localStorage.apziel_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblZiel/feld=ZielId/wertNumber="+localStorage.apziel_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.apziel=e[0])})},window.apf.setzeWindowZielber=function(e){"use strict";localStorage.zielber_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblZielBericht/feld=ZielBerId/wertString="+localStorage.zielber_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.zielber=e[0])})},window.apf.setzeWindowErfkrit=function(e){"use strict";localStorage.erfkrit_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblErfKrit/feld=ErfkritId/wertString="+localStorage.erfkrit_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.erfkrit=e[0])})},window.apf.setzeWindowJber=function(e){"use strict";localStorage.jber_id=e,$.ajax({type:"get",url:"/api/v1/apflora/tabelle=tblJBer/feld=JBerId/wertNumber="+localStorage.jber_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.jber=e[0])})},window.apf.setzeWindowJberUebersicht=function(e){"use strict";localStorage.jber_uebersicht_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblJBerUebersicht/feld=JbuJahr/wertNumber="+localStorage.jber_uebersicht_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.jber_übersicht=e[0])})},window.apf.setzeWindowBer=function(e){"use strict";localStorage.ber_id=e,$.ajax({type:"get",url:"/api/v1/apflora/tabelle=tblBer/feld=BerId/wertNumber="+localStorage.ber_id,dataType:"json"}).done(function(e){e&&e[0]&&(e=e[0],window.apf.ber=e)})},window.apf.setzeWindowIdealbiotop=function(e){"use strict";localStorage.idealbiotop_id=e,$.ajax({type:"get",url:"/api/v1/apflora/tabelle=tblIdealbiotop/feld=IbApArtId/wertNumber="+localStorage.idealbiotop_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.idealbiotop=e[0])})},window.apf.setzeWindowAssozarten=function(e){"use strict";localStorage.assozarten_id=e,$.ajax({type:"get",url:"/api/v1/apflora/tabelle=tblAssozArten/feld=AaId/wertNumber="+localStorage.assozarten_id,dataType:"json"}).done(function(e){e&&(window.apf.assozarten=e)})},window.apf.setzeWindowPopmassnber=function(e){"use strict";localStorage.popmassnber_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblPopMassnBericht/feld=PopMassnBerId/wertNumber="+localStorage.popmassnber_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.popmassnber=e[0])})},window.apf.setzeWindowTpop=function(e){"use strict";localStorage.tpop_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilpopulation/feld=TPopId/wertNumber="+localStorage.tpop_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.tpop=e[0])})},window.apf.downloadFileFromView=function(t,i,n){var o=e("./modules/getTimestamp"),n=n||"csv",s="api/v1/exportView/"+n+"/view="+t+"/filename="+i+"_"+o();$.fileDownload(s,{preparingMessageHtml:"Der Download wird vorbereitet, bitte warten...",failMessageHtml:"Beim Aufbereiten des Downloads ist ein Problem aufgetreten, bitte nochmals versuchen."})},window.apf.downloadFileFromViewWehreIdIn=function(t,i,n,o,s){var a=e("./modules/getTimestamp"),s=s||"csv",r="api/v1/exportViewWhereIdIn/"+s+"/view="+t+"/idName="+i+"/idListe="+n+"/filename="+o+"_"+a();$.fileDownload(r,{preparingMessageHtml:"Der Download wird vorbereitet, bitte warten...",failMessageHtml:"Beim Aufbereiten des Downloads ist ein Problem aufgetreten, bitte nochmals versuchen."})},window.apf.setzeWindowPopber=function(e){"use strict";localStorage.popber_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblPopBericht/feld=PopBerId/wertNumber="+localStorage.popber_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.popber=e[0])})},window.apf.setzeWindowTpopfeldkontr=function(e){"use strict";localStorage.tpopfeldkontr_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopFeldkontrolle/feld=TPopKontrId/wertNumber="+localStorage.tpopfeldkontr_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.tpopfeldkontr=e[0])})},window.apf.setzeWindowTpopmassn=function(e){"use strict";localStorage.tpopmassn_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopMassnahme/feld=TPopMassnId/wertNumber="+localStorage.tpopmassn_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.tpopmassn=e[0])})},window.apf.setzeWindowTpopmassnber=function(e){"use strict";localStorage.tpopmassnber_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopMassnBericht/feld=TPopMassnBerId/wertNumber="+localStorage.tpopmassnber_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.tpopmassnber=e[0])})},window.apf.setzeWindowTpopber=function(e){"use strict";localStorage.tpopber_id=e,$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopBericht/feld=TPopBerId/wertNumber="+localStorage.tpopber_id,dataType:"json"}).done(function(e){e&&e[0]&&(window.apf.tpopber=e[0])})},window.apf.initiiereExporte=function(e){"use strict";$("#testart_div").hide(),$("#forms_titelzeile").hide(),window.apf.zeigeFormular("exporte"),history.pushState(null,null,"index.html?exporte=true"),e&&(location.hash="#"+e)},window.apf.zeigeFormular=function(e){"use strict";var t,i=$.Deferred(),n=$("#forms"),o=$("form"),s=$("#testart_div"),a=$("#forms_titelzeile"),r=$("#ap_waehlen");return n.hide(),o.each(function(){$(this).hide()}),$(".karte").each(function(){$(this).hide()}),window.apf.kartenhöhe_manuell=!1,n.height("auto"),s.hide(),a.hide(),r.val()&&(a.css("display","none"),r.val()<=150&&"jber_uebersicht"!==e&&"exporte"!==e&&"GeoAdminKarte"!==e?($("#forms_titelzeile").css("display","inline-block"),s.css("color","#03970F").show().html("Das ist eine Testart - hier kann man alles ausprobieren!")):$("#ap_waehlen").val()<=150&&"jber_uebersicht"===e&&($("#forms_titelzeile").css("display","inline-block"),s.css("color","#DF0303").show().html("Vorsicht: Die Übericht ist für alle Arten, daher HIER NICHT TESTEN"))),e&&(n.show(),$("#ap_loeschen").show(),$("#exportieren_1").hide(),"google_karte"===e||"GeoAdminKarte"===e?($("#forms_titelzeile").css("display","none"),t=$("#"+e),t.css("height",$(window).height()-17+"px"),window.apf.kartenhöhe_manuell=!0,window.apf.setzeKartenhöhe(),t.show(),"GeoAdminKarte"===e&&window.apf.initiiereOlmap()):(n.css("background-color","#FFE"),o.each(function(){$(this).hide(),$(this).attr("id")===e&&($(this).show(),$("textarea").each(function(){window.apf.fitTextareaToContent(this,document.documentElement.clientHeight)}))}),$(window).scrollTop(0)),i.resolve()),i.promise()},window.apf.leereFelderVonFormular=function(e){"use strict";$("#"+e+' input[type="text"]').each(function(){$(this).val("")}),$("#"+e+' input[type="radio"]:checked').each(function(){$(this).prop("checked",!1)}),$("#"+e+" select").each(function(){$(this).val("")})},window.apf.setzeTreehöhe=function(){"use strict";$(window).width()>1e3?$(".jstree-no-icons").height()+157>$(window).height()&&$("#tree").css("max-height",$(window).height()-139):$(".jstree-no-icons").height()+157>$(window).height()-75&&$("#tree").css("max-height",$(window).height()-220)},window.apf.setzeKartenhöhe=function(){"use strict";var e,t,i=window.apf.berechneOlmapLayertreeMaxhöhe;window.apf.kartenhöhe_manuell?(e=$(window).height()-17,t=$("#forms").width(),$("#forms").height(e),$("#ga_karten_div").css("max-width",t).css("max-height",e),$(".apf-resizable").resizable(),window.apf.olmap&&window.apf.olmap.map&&(window.apf.olmap.map.updateSize(),$("#olmap_layertree_layers").css("max-height",i)),"undefined"!=typeof google&&google.maps&&window.apf.gmap&&void 0!==window.apf.gmap.map&&google.maps.event.trigger(window.apf.gmap.map,"resize")):$("#forms").height("auto")},window.apf.olmap.blendeOlmapExportieren=function(){"use strict";var e,t,i;e=window.apf.olmap.map.getSize(),t=e[0]*e[1],$("#olmap_exportieren").button(),t>5e5?($("#olmap_exportieren").button("disable"),i="Karte als png herunterladen<br>Diese Funktion ist inaktiv<br>Um sie zu aktivieren, müssen Sie die Karte verkleinern<br>Packen Sie dazu die untere rechte Ecke und ziehen Sie sie nach oben links"):($("#olmap_exportieren").button("enable"),i="Karte als png herunterladen"),$("#olmap_exportieren_div").tooltip({tooltipClass:"tooltip-styling-hinterlegt",content:i})},window.apf.berechneOlmapLayertreeMaxhöhe=function(){var e;return e=$(window).width()>1e3?$(window).height()-115:200},function(e){e.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()}}(jQuery),window.apf.fitTextareaToContent=function(e,t){"use strict";var i=e&&e.style?e:document.getElementById(e);if(i){i.clientHeight==i.scrollHeight&&(i.style.height="30px");var n=i.clientHeight;(!t||t>n)&&(n=Math.max(i.scrollHeight,n),t&&(n=Math.min(t,n)),n>i.clientHeight&&(i.style.height=n+"px"))}},window.apf.erstelle_ap_liste=function(e){"use strict";var t=$.Deferred();return $.ajax({type:"get",url:"api/v1/apliste/programm="+e,dataType:"json"}).done(function(e){var i;i="<option></option>",_.each(e,function(e){i+='<option value="'+e.id+'">'+e.ap_name+"</option>"}),$("#ap_waehlen").html(i),t.resolve()}),t.promise()},window.apf.wähleApListe=function(t){"use strict";var i=$.Deferred(),n=$("#ap_waehlen_label"),o=$("#ap_waehlen"),s=e("./modules/initiiereAp");return n.html("Daten werden aufbereitet..."),o.html(""),$("#ap").hide(),$("#forms").hide(),$("#tree").hide(),$("#suchen").hide(),$("#exportieren_2").hide(),$("#hilfe").hide(),$("#ap_loeschen").hide(),$("#exportieren_1").show(),o.val(""),s(),$.when(window.apf.erstelle_ap_liste(t)).then(function(){var e=$("[name='programm_wahl']:checked");n.html("programm_neu"===e.attr("id")?"Art für neues Förderprogramm wählen:":"programm_ap"===e.attr("id")?"Aktionsplan wählen:":"Artförderprogramm wählen:"),n.show(),i.resolve()}),i.promise()},window.apf.erstelle_tree=function(t){"use strict";var i=$.Deferred();return $("#tree").jstree({json_data:{ajax:{url:"api/v1/tree/apId="+t,progressive_render:!0}},core:{open_parents:!0,strings:{loading:"hole Daten...",new_node:"neuer Knoten"}},ui:{select_limit:1,selected_parent_open:!0,select_prev_on_delete:!0},search:{case_insensitive:!0},sort:function(e,t){return $(e).attr("sort")&&$(t).attr("sort")?parseInt($(e).attr("sort"),10)>parseInt($(t).attr("sort"),10)?1:-1:void 0},themes:{icons:!1},contextmenu:{items:window.apf.treeKontextmenu,select_node:!0},crrm:{move:{default_position:"first",check_move:function(e){return"pop"===e.o.attr("typ")?"pop"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:!1:"tpop"===e.o.attr("typ")?"tpop"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"pop_ordner_tpop"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:!1:"tpopmassn"===e.o.attr("typ")?"tpopmassn"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"tpop_ordner_massn"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:!1:"tpopfeldkontr"===e.o.attr("typ")?"tpopfeldkontr"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"tpop_ordner_feldkontr"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:!1:"tpopfreiwkontr"===e.o.attr("typ")?"tpopfreiwkontr"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"tpop_ordner_freiwkontr"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:!1:"beob_zugeordnet"===e.o.attr("typ")?"beob_zugeordnet"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"tpop_ordner_beob_zugeordnet"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"ap_ordner_beob_nicht_beurteilt"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"beob_nicht_beurteilt"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"ap_ordner_beob_nicht_zuzuordnen"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"beob_nicht_zuzuordnen"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:!1:"beob_nicht_beurteilt"===e.o.attr("typ")?"beob_zugeordnet"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"tpop_ordner_beob_zugeordnet"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"ap_ordner_beob_nicht_beurteilt"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"beob_nicht_beurteilt"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"ap_ordner_beob_nicht_zuzuordnen"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"beob_nicht_zuzuordnen"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:!1:"beob_nicht_zuzuordnen"===e.o.attr("typ")?"beob_zugeordnet"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"tpop_ordner_beob_zugeordnet"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"ap_ordner_beob_nicht_beurteilt"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"beob_nicht_beurteilt"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:"ap_ordner_beob_nicht_zuzuordnen"===e.r.attr("typ")?{after:!1,before:!1,inside:!0}:"beob_nicht_zuzuordnen"===e.r.attr("typ")?{after:!0,before:!0,inside:!1}:!1:!1}}},types:{type_attr:"typ",max_children:-2,max_depth:-2,valid_children:["ap_ordner_pop","ap_ordner_apziel","ap_ordner_erfkrit","ap_ordner_jber","ap_ordner_ber","ap_ordner_beob_nicht_beurteilt","ap_ordner_beob_nicht_zuzuordnen","idealbiotop","ap_ordner_assozarten"],types:{ap_ordner_pop:{valid_children:"pop"},pop:{valid_children:["pop_ordner_tpop","pop_ordner_popber","pop_ordner_massnber"],new_node:"neue Population"},pop_ordner_tpop:{valid_children:"tpop"},tpop:{valid_children:["tpop_ordner_massn","tpop_ordner_massnber","tpop_ordner_feldkontr","tpop_ordner_freiwkontr","tpop_ordner_tpopber","tpop_ordner_beob_zugeordnet"],new_node:"neue Teilpopulation"},tpop_ordner_massn:{valid_children:"tpopmassn"},tpopmassn:{valid_children:"none",new_node:"neue Massnahme"},tpop_ordner_massnber:{valid_children:"tpopmassnber"},tpopmassnber:{valid_children:"none",new_node:"neuer Massnahmen-Bericht"},tpop_ordner_feldkontr:{valid_children:"tpopfeldkontr"},tpopfeldkontr:{valid_children:"none",new_node:"neue Feldkontrolle"},tpop_ordner_freiwkontr:{valid_children:"tpopfreiwkontr"},tpopfreiwkontr:{valid_children:"none",new_node:"neue Freiwilligen-Kontrolle"},tpop_ordner_tpopber:{valid_children:"tpopber"},tpopber:{valid_children:"none",new_node:"neuer Teilpopulations-Bericht"},tpop_ordner_beob_zugeordnet:{valid_children:"beob_zugeordnet"},beob_zugeordnet:{valid_children:"none"},pop_ordner_popber:{valid_children:"popber"},popber:{valid_children:"none",new_node:"neuer Populations-Bericht"},pop_ordner_massnber:{valid_children:"massnber"},massnber:{valid_children:"none",new_node:"neuer Massnahmen-Bericht"},ap_ordner_apziel:{valid_children:"apzieljahr"},apzieljahr:{valid_children:"apziel"},apziel:{valid_children:"zielber_ordner",new_node:"neues AP-Ziel"},zielber_ordner:{valid_children:"zielber"},zielber:{valid_children:"none",new_node:"neuer Ziel-Bericht"},ap_ordner_erfkrit:{valid_children:"erfkrit"},erfkrit:{valid_children:"none",new_node:"neues Erfolgskriterium"},ap_ordner_jber:{valid_children:"jber"},jber:{valid_children:"jber_uebersicht",new_node:"neuer AP-Bericht"},jber_uebersicht:{valid_children:"none",new_node:"neue Übersicht zu allen Arten"},ap_ordner_ber:{valid_children:"ber"},ber:{valid_children:"none",new_node:"neuer Bericht"},ap_ordner_beob_nicht_beurteilt:{valid_children:"beob_nicht_beurteilt"},beob_nicht_beurteilt:{valid_children:"none"},ap_ordner_beob_nicht_zuzuordnen:{valid_children:"beob_nicht_zuzuordnen"},beob_nicht_zuzuordnen:{valid_children:"none"},idealbiotop:{valid_children:"none"},ap_ordner_assozarten:{valid_children:"assozarten"},assozarten:{valid_children:"none",new_node:"neue assoziierte Art"}}},plugins:["themes","json_data","ui","hotkeys","search","contextmenu","crrm","types"]}).show().bind("loaded.jstree",function(){var t=e("./modules/initiiereAp");i.resolve(),window.apf.setzeTreehöhe(),$("#suchen").show(),$("#exportieren_2").show(),$("#exportieren_1").hide(),$("#hilfe").show(),window.apf.pop_zeigen&&($("#tree").jstree("select_node","[typ='pop']#"+localStorage.pop_id),delete window.apf.pop_zeigen),window.apf.popber_zeigen&&($("#tree").jstree("select_node","[typ='popber']#"+localStorage.popber_id),delete window.apf.popber_zeigen),window.apf.popmassnber_zeigen&&($("#tree").jstree("select_node","[typ='popmassnber']#"+localStorage.popmassnber_id),delete window.apf.popmassnber_zeigen),window.apf.tpop_zeigen&&($("#tree").jstree("select_node","[typ='tpop']#"+localStorage.tpop_id),delete window.apf.tpop_zeigen),window.apf.tpopfeldkontr_zeigen&&($("#tree").jstree("select_node","[typ='tpopfeldkontr']#"+localStorage.tpopfeldkontr_id),delete window.apf.tpopfeldkontr_zeigen),window.apf.tpopfreiwkontr_zeigen&&($("#tree").jstree("select_node","[typ='tpopfreiwkontr']#"+localStorage.tpopfeldkontr_id),delete window.apf.tpopfreiwkontr_zeigen),window.apf.tpopmassn_zeigen&&($("#tree").jstree("select_node","[typ='tpopmassn']#"+localStorage.tpopmassn_id),delete window.apf.tpopmassn_zeigen),window.apf.tpopber_zeigen&&($("#tree").jstree("select_node","[typ='tpopber']#"+localStorage.tpopber_id),delete window.apf.tpopber_zeigen),window.apf.beob_zugeordnet_zeigen&&($("#tree").jstree("select_node","#beob"+localStorage.beob_id),delete window.apf.beob_zugeordnet_zeigen),window.apf.tpopmassnber_zeigen&&($("#tree").jstree("select_node","[typ='tpopmassnber']#"+localStorage.tpopmassnber_id),delete window.apf.tpopmassnber_zeigen),window.apf.apziel_zeigen&&($("#tree").jstree("select_node","[typ='apziel']#"+localStorage.apziel_id),delete window.apf.apziel_zeigen),window.apf.zielber_zeigen&&($("#tree").jstree("select_node","[typ='zielber']#"+localStorage.zielber_id),delete window.apf.zielber_zeigen),window.apf.erfkrit_zeigen&&($("#tree").jstree("select_node","[typ='erfkrit']#"+localStorage.erfkrit_id),delete window.apf.erfkrit_zeigen),window.apf.jber_zeigen&&($("#tree").jstree("select_node","[typ='jber']#"+localStorage.jber_id),delete window.apf.jber_zeigen),window.apf.jber_übersicht_zeigen&&($("#tree").jstree("select_node","[typ='jber_uebersicht']#"+localStorage.jber_uebersicht_id),delete window.apf.jber_übersicht_zeigen),window.apf.ber_zeigen&&($("#tree").jstree("select_node","[typ='ber']#"+localStorage.ber_id),delete window.apf.ber_zeigen),window.apf.idealbiotop_zeigen&&($("#tree").jstree("select_node","[typ='idealbiotop']#"+localStorage.idealbiotop_id),delete window.apf.idealbiotop_zeigen),window.apf.assozarten_zeigen&&($("#tree").jstree("select_node","[typ='assozarten']#"+localStorage.assozarten_id),delete window.apf.assozarten_zeigen),window.apf.beob_nicht_beurteilt_zeigen&&($("#tree").jstree("select_node","#beob"+localStorage.beob_id),delete window.apf.beob_nicht_beurteilt_zeigen),window.apf.beob_nicht_zuzuordnen_zeigen&&($("#tree").jstree("select_node","#beob"+localStorage.beob_id),delete window.apf.beob_nicht_zuzuordnen_zeigen),window.apf.ap_zeigen&&(t(),delete window.apf.ap_zeigen)}).hammer().bind("hold doubletap",function(){$(window).width()<1e3&&setTimeout(function(){$("#tree").jstree("get_selected").children("a").trigger("contextmenu")},500)}).bind("select_node.jstree",function(t,i){var n,o=e("./modules/initiiereBeob"),s=e("./modules/initiiereIdealbiotop"),a=e("./modules/initiiereAp"),r=e("./modules/initiierePop"),l=e("./modules/initiiereApziel"),h=e("./modules/initiiereZielber"),u=e("./modules/initiiereErfkrit"),p=e("./modules/initiiereJber"),c=e("./modules/initiiereJberUebersicht"),d=e("./modules/initiiereBer"),f=e("./modules/initiiereAssozart"),g=e("./modules/initiierePopMassnBer"),m=e("./modules/initiiereTPop"),_=e("./modules/initiierePopBer"),v=e("./modules/initiiereTPopFeldkontr"),b=e("./modules/initiiereTPopMassn"),w=e("./modules/initiiereTPopMassnBer"),y=e("./modules/initiiereTPopBer");delete localStorage.tpopfreiwkontr,n=i.rslt.obj;var k=n.attr("typ"),x=window.apf.erstelleIdAusDomAttributId(n.attr("id"));$.jstree._reference(n).open_node(n),"ap_"===k.slice(0,3)||"apzieljahr"===k?$("#ap").is(":visible")&&localStorage.ap_id===x||(localStorage.ap_id=x,delete localStorage.pop_id,a()):"pop"===k||"pop_"===k.slice(0,4)?$("#pop").is(":visible")&&localStorage.pop_id===x||(localStorage.pop_id=x,r()):"apziel"===k||"zielber_ordner"===k?$("#apziel").is(":visible")&&localStorage.apziel_id===x||(localStorage.apziel_id=x,l()):"zielber"===k?$("#zielber").is(":visible")&&localStorage.zielber_id===x||(localStorage.zielber_id=x,h()):"erfkrit"===k?$("#erfkrit").is(":visible")&&localStorage.erfkrit_id===x||(localStorage.erfkrit_id=x,u()):"jber"===k?$("#jber").is(":visible")&&localStorage.jber_id===x||(localStorage.jber_id=x,p()):"jber_uebersicht"===k?$("#jber_uebersicht").is(":visible")&&localStorage.jber_uebersicht_id===x||(localStorage.jber_uebersicht_id=x,c()):"ber"===k?$("#ber").is(":visible")&&localStorage.ber_id===x||(localStorage.ber_id=x,d()):"idealbiotop"===k?$("#idealbiotop").is(":visible")||s():"assozarten"===k?$("#assozarten").is(":visible")&&localStorage.assozarten_id===x||(localStorage.assozarten_id=x,f(localStorage.ap_id,x)):"popber"===k?$("#popber").is(":visible")&&localStorage.popber_id===x||(localStorage.popber_id=x,_()):"popmassnber"===k?$("#popmassnber").is(":visible")&&localStorage.popmassnber_id===x||(localStorage.popmassnber_id=x,g()):"tpop"===k||"tpop_"===k.slice(0,5)?$("#tpop").is(":visible")&&localStorage.tpop_id===x||(localStorage.tpop_id=x,m()):"tpopfeldkontr"===k?$("#tpopfeldkontr").is(":visible")&&localStorage.tpopfeldkontr_id===x||(localStorage.tpopfeldkontr_id=x,v()):"tpopfreiwkontr"===k?$("#tpopfeldkontr").is(":visible")&&localStorage.tpopfeldkontr_id===x||(localStorage.tpopfeldkontr_id=x,localStorage.tpopfreiwkontr=!0,v()):"tpopmassn"===k?$("#tpopmassn").is(":visible")&&localStorage.tpopmassn_id===x||(localStorage.tpopmassn_id=x,b()):"tpopber"===k?$("#tpopber").is(":visible")&&localStorage.tpopber_id===x||(localStorage.tpopber_id=x,y()):"beob_zugeordnet"===k?$("#beob").is(":visible")&&localStorage.beob_id===x&&"zugeordnet"===localStorage.beob_status||(localStorage.beob_id=x,localStorage.beobtyp=n.attr("beobtyp"),o(n.attr("beobtyp"),x,"zugeordnet")):"beob_nicht_beurteilt"===k?$("#beob").is(":visible")&&localStorage.beob_id===x&&"nicht_beurteilt"===localStorage.beob_status||(localStorage.beob_id=x,localStorage.beobtyp=n.attr("beobtyp"),o(n.attr("beobtyp"),x,"nicht_beurteilt")):"beob_nicht_zuzuordnen"===k?$("#beob").is(":visible")&&localStorage.beob_id===x&&"nicht_zuzuordnen"===localStorage.beob_status||(localStorage.beob_id=x,localStorage.beobtyp=n.attr("beobtyp"),o(n.attr("beobtyp"),x,"nicht_zuzuordnen")):"tpopmassnber"===k&&($("#tpopmassnber").is(":visible")&&localStorage.tpopmassnber_id===x||(localStorage.tpopmassnber_id=x,w()))}).bind("after_open.jstree",function(){window.apf.setzeTreehöhe()}).bind("after_close.jstree",function(){window.apf.setzeTreehöhe()}).bind("prepare_move.jstree",function(e,t){window.apf.herkunft_parent_node=$.jstree._reference(t.rslt.o)._get_parent(t.rslt.o)}).bind("create_node.jstree",function(e,t){if("apzieljahr"===t.rslt.parent[0].attributes.typ.nodeValue){var i={};i.name="ZielJahr",i.formular="apziel",window.apf.speichern(i),$("#ZielJahr").val(t.rslt.parent[0].innerText.slice(1,5)).focus()}}).bind("move_node.jstree",function(t,i){var n,o,s,a,r,l,h,u;if(window.apf.prüfeSchreibvoraussetzungen()){if(n=i.rslt.o,o=window.apf.erstelleIdAusDomAttributId($(n).attr("id")),s=n.attr("typ"),a=i.rslt.r,r=window.apf.erstelleIdAusDomAttributId($(a).attr("id")),l=a.attr("typ"),h=$.jstree._reference(i.rslt.r)._get_parent(i.rslt.r),$(h).attr("id")&&(u=window.apf.erstelleIdAusDomAttributId($(h).attr("id"))),"pop"===s&&("pop"===l&&(console.log("verschiebe pop"),$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblPopulation/tabelleIdFeld=PopId/tabelleId="+r+"/feld=ApArtId/wert="+u+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiierePop");
window.apf.beschrifte_ordner_pop(h),window.apf.beschrifte_ordner_pop(window.apf.herkunft_parent_node),$.jstree._reference(a).deselect_all(),$.jstree._reference(n).select_node(n),localStorage.pop_id=o,delete window.apf.pop,delete window.apf.herkunft_parent_node,t()}).fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht verschoben")})),"tpop"===l&&$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=PopId/tabelleId="+u+"/feld=TPopId/wert="+r+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPop");window.apf.beschrifte_ordner_tpop(h),window.apf.beschrifte_ordner_tpop(window.apf.herkunft_parent_node),$.jstree._reference(a).deselect_all(),$.jstree._reference(n).select_node(n),localStorage.tpop_id=o,delete window.apf.tpop,delete window.apf.tpop_node_ausgeschnitten,delete window.apf.herkunft_parent_node,t()}).fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht verschoben")}),"pop_ordner_tpop"===l&&$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=PopId/tabelleId="+r+"/feld=TPopId/wert="+o+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPop");window.apf.beschrifte_ordner_tpop(a),window.apf.beschrifte_ordner_tpop(window.apf.herkunft_parent_node),$.jstree._reference(a).deselect_all(),$.jstree._reference(a).select_node(n),localStorage.tpop_id=o,delete window.apf.tpop,delete window.apf.tpop_node_ausgeschnitten,t()}).fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht verschoben")})),"tpop"===s&&("tpop"===l&&$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=PopId/tabelleId="+u+"/feld=TPopId/wert="+o+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPop");window.apf.beschrifte_ordner_tpop(h),window.apf.beschrifte_ordner_tpop(window.apf.herkunft_parent_node),$.jstree._reference(n).deselect_all(),$.jstree._reference(h).select_node(n),localStorage.tpop_id=o,delete window.apf.tpop,delete window.apf.tpop_node_ausgeschnitten,delete window.apf.herkunft_parent_node,t()}).fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht verschoben")}),"pop_ordner_tpop"===l&&$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=PopId/tabelleId="+r+"/feld=TPopId/wert="+o+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPop");window.apf.beschrifte_ordner_tpop(a),window.apf.beschrifte_ordner_tpop(window.apf.herkunft_parent_node),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n),localStorage.tpop_id=o,delete window.apf.tpop,delete window.apf.tpop_node_ausgeschnitten,delete window.apf.herkunft_parent_node,t()}).fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht verschoben")})),"tpopmassn"===s&&("tpopmassn"===l&&$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilPopMassnahme/tabelleIdFeld=TPopId/tabelleId="+u+"/feld=TPopMassnId/wert="+o+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPopMassn");window.apf.beschrifte_ordner_tpopmassn(h),window.apf.beschrifte_ordner_tpopmassn(window.apf.herkunft_parent_node),$.jstree._reference(n).deselect_all(),$.jstree._reference(h).select_node(n),localStorage.tpopmassn_id=o,delete window.apf.tpopmassn,delete window.apf.tpopmassn_node_ausgeschnitten,delete window.apf.herkunft_parent_node,t()}).fail(function(){window.apf.melde("Fehler: Die Massnahme wurde nicht verschoben")}),"tpop_ordner_massn"===l&&$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilPopMassnahme/tabelleIdFeld=TPopId/tabelleId="+r+"/feld=TPopMassnId/wert="+o+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPopMassn");window.apf.beschrifte_ordner_tpopmassn(a),window.apf.beschrifte_ordner_tpopmassn(window.apf.herkunft_parent_node),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n),localStorage.tpopmassn_id=o,delete window.apf.tpopmassn,delete window.apf.tpopmassn_node_ausgeschnitten,delete window.apf.herkunft_parent_node,t()}).fail(function(){window.apf.melde("Fehler: Die Massnahme wurde nicht verschoben")})),"tpopfeldkontr"===s&&("tpopfeldkontr"===l&&$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopFeldkontrolle/feld=TPopId/wert="+u+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPopFeldkontr");window.apf.beschrifte_ordner_tpopfeldkontr(h),window.apf.beschrifte_ordner_tpopfeldkontr(window.apf.herkunft_parent_node),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n),localStorage.tpopfeldkontr_id=o,delete window.apf.tpopfeldkontr,delete window.apf.tpopfeldkontr_node_ausgeschnitten,delete window.apf.herkunft_parent_node,t()}).fail(function(){window.apf.melde("Fehler: Die Feldkontrolle wurde nicht verschoben")}),"tpop_ordner_feldkontr"===l&&$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopFeldkontrolle/feld=TPopId/wert="+r+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPopFeldkontr");window.apf.beschrifte_ordner_tpopfeldkontr(a),window.apf.beschrifte_ordner_tpopfeldkontr(window.apf.herkunft_parent_node),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n),localStorage.tpopfeldkontr_id=o,delete window.apf.tpopfeldkontr,delete window.apf.tpopfeldkontr_node_ausgeschnitten,delete window.apf.herkunft_parent_node,t()}).fail(function(){window.apf.melde("Fehler: Die Feldkontrolle wurde nicht verschoben")})),"tpopfreiwkontr"===s&&("tpopfreiwkontr"===l&&$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopFeldkontrolle/feld=TPopId/wert="+u+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=e("./modules/initiiereTPopFeldkontr");window.apf.beschrifte_ordner_tpopfreiwkontr(h),window.apf.beschrifte_ordner_tpopfreiwkontr(window.apf.herkunft_parent_node),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n),localStorage.tpopfeldkontr_id=o,delete window.apf.tpopfeldkontr,delete window.apf.tpopfreiwkontr_node_ausgeschnitten,delete window.apf.herkunft_parent_node,localStorage.tpopfreiwkontr=!0,t()}).fail(function(){window.apf.melde("Fehler: Die Freiwilligen-Kontrolle wurde nicht verschoben")}),"tpop_ordner_freiwkontr"===l)){var p=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopFeldkontrolle/feld=TPopId/wert="+r+"/user="+sessionStorage.User,dataType:"json"});p.done(function(){var t=e("./modules/initiiereTPopFeldkontr");window.apf.beschrifte_ordner_tpopfreiwkontr(a),window.apf.beschrifte_ordner_tpopfreiwkontr(window.apf.herkunft_parent_node),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n),localStorage.tpopfeldkontr_id=o,delete window.apf.tpopfeldkontr,delete window.apf.tpopfreiwkontr_node_ausgeschnitten,delete window.apf.herkunft_parent_node,localStorage.tpopfreiwkontr=!0,t()}),p.fail(function(){window.apf.melde("Fehler: Die Freiwilligen-Kontrolle wurde nicht verschoben")})}if("beob_zugeordnet"===s){if(("beob_nicht_beurteilt"===l||"ap_ordner_beob_nicht_beurteilt"===l)&&$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+o,dataType:"json"}).done(function(){var t=e("./modules/initiiereBeob");n.attr("typ","beob_nicht_beurteilt"),localStorage.beobtyp="beob_nicht_beurteilt",window.apf.beschrifte_ordner_beob_nicht_beurteilt("beob_nicht_beurteilt"===l?h:a),window.apf.beschrifte_ordner_beob_zugeordnet(window.apf.herkunft_parent_node),t(n.attr("beobtyp"),o,"nicht_beurteilt"),delete window.apf.beob_zugeordnet_node_ausgeschnitten,delete window.apf.herkunft_parent_node}).fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht auf 'nicht beurteilt' gesetzt")}),"beob_zugeordnet"===l||"tpop_ordner_beob_zugeordnet"===l){f="tpop_ordner_beob_zugeordnet"===l?r:u;var c=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+localStorage.beob_id+"/feld=TPopId/wert="+f+"/user="+sessionStorage.User,dataType:"json"});c.done(function(){var t=e("./modules/initiiereBeob");window.apf.beschrifte_ordner_beob_zugeordnet("tpop_ordner_beob_zugeordnet"===l?a:h),window.apf.beschrifte_ordner_beob_zugeordnet(window.apf.herkunft_parent_node),localStorage.karte_fokussieren?delete localStorage.karte_fokussieren:t(n.attr("beobtyp"),o,"zugeordnet"),delete window.apf.beob_zugeordnet_node_ausgeschnitten,delete window.apf.herkunft_parent_node}),c.fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht verschoben")})}if("beob_nicht_zuzuordnen"===l||"ap_ordner_beob_nicht_zuzuordnen"===l){var d=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+o+"/feld=BeobNichtZuordnen/wert=1/user="+sessionStorage.User,dataType:"json"});d.done(function(){var t=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+o+"/feld=TPopId/wert=/user="+sessionStorage.User,dataType:"json"});t.done(function(){var t=e("./modules/initiiereBeob");n.attr("typ","beob_nicht_zuzuordnen"),localStorage.beobtyp="beob_nicht_zuzuordnen",window.apf.beschrifte_ordner_beob_nicht_zuzuordnen("ap_ordner_beob_nicht_zuzuordnen"===l?a:h),window.apf.beschrifte_ordner_beob_zugeordnet(window.apf.herkunft_parent_node),t(n.attr("beobtyp"),o,"nicht_zuzuordnen"),delete window.apf.beob_node_ausgeschnitten,delete window.apf.herkunft_parent_node}),t.fail(function(){console.log("fehler beim Leeren von TPopId")})}),d.fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht verschoben")})}}if("beob_nicht_beurteilt"===s&&(("beob_zugeordnet"===l||"tpop_ordner_beob_zugeordnet"===l)&&(f="tpop_ordner_beob_zugeordnet"===l?r:u,$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblBeobZuordnung/feld=NO_NOTE/wert="+o+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+o+"/feld=TPopId/wert="+f+"/user="+sessionStorage.User,dataType:"json"});t.done(function(){var t=e("./modules/initiiereBeob");n.attr("typ","beob_zugeordnet"),localStorage.beobtyp="beob_zugeordnet",window.apf.beschrifte_ordner_beob_nicht_beurteilt(window.apf.herkunft_parent_node),window.apf.beschrifte_ordner_beob_zugeordnet("tpop_ordner_beob_zugeordnet"===l?a:h),localStorage.karte_fokussieren?delete localStorage.karte_fokussieren:t(n.attr("beobtyp"),o,"zugeordnet"),delete window.apf.beob_node_ausgeschnitten,delete window.apf.herkunft_parent_node}),t.fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht zugeordnet")})}).fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht zugeordnet")})),("beob_nicht_zuzuordnen"===l||"ap_ordner_beob_nicht_zuzuordnen"===l)&&$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblBeobZuordnung/feld=NO_NOTE/wert="+o+"/user="+sessionStorage.User,dataType:"json"}).done(function(){var t=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+o+"/feld=BeobNichtZuordnen/wert=1/user="+sessionStorage.User,dataType:"json"});t.done(function(){var t=e("./modules/initiiereBeob");$(n).attr("typ","beob_nicht_zuzuordnen"),localStorage.beobtyp="beob_nicht_zuzuordnen",window.apf.beschrifte_ordner_beob_nicht_beurteilt(window.apf.herkunft_parent_node),window.apf.beschrifte_ordner_beob_nicht_zuzuordnen("ap_ordner_beob_nicht_zuzuordnen"===l?a:h),t(n.attr("beobtyp"),o,"nicht_zuzuordnen"),delete window.apf.beob_node_ausgeschnitten,delete window.apf.herkunft_parent_node}),t.fail(function(){console.log("Fehler: Die Beobachtung wurde nicht zugeordnet")})}).fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht zugeordnet")})),"beob_nicht_zuzuordnen"===s&&(("beob_nicht_beurteilt"===l||"ap_ordner_beob_nicht_beurteilt"===l)&&$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+o,dataType:"json"}).done(function(){var t=e("./modules/initiiereBeob");$(n).attr("typ","beob_nicht_beurteilt"),localStorage.beobtyp="beob_nicht_beurteilt",window.apf.beschrifte_ordner_beob_nicht_zuzuordnen(window.apf.herkunft_parent_node),window.apf.beschrifte_ordner_beob_nicht_beurteilt("ap_ordner_beob_nicht_beurteilt"===l?a:h),t(n.attr("beobtyp"),o,"nicht_beurteilt"),delete window.apf.beob_node_ausgeschnitten,delete window.apf.herkunft_parent_node}).fail(function(){window.apf.melde("Fehler: Die Zuordnung der Beobachtung wurde nicht entfernt")}),"beob_zugeordnet"===l||"tpop_ordner_beob_zugeordnet"===l)){var f;f="tpop_ordner_beob_zugeordnet"===l?r:u;var g=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+o+"/feld=BeobNichtZuordnen/wert=1/user="+sessionStorage.User,dataType:"json"});g.done(function(){var t=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblBeobZuordnung/tabelleIdFeld=NO_NOTE/tabelleId="+o+"/feld=TPopId/wert="+f+"/user="+sessionStorage.User,dataType:"json"});t.done(function(){var t=e("./modules/initiiereBeob");$(n).attr("typ","beob_zugeordnet"),localStorage.beobtyp="beob_zugeordnet",window.apf.beschrifte_ordner_beob_nicht_zuzuordnen(window.apf.herkunft_parent_node),window.apf.beschrifte_ordner_beob_zugeordnet("tpop_ordner_beob_zugeordnet"===l?a:h),t(n.attr("beobtyp"),o,"zugeordnet"),delete window.apf.beob_node_ausgeschnitten,delete window.apf.herkunft_parent_node}),t.fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht zugeordnet")})}),g.fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht zugeordnet")})}}}),i.promise()},window.apf.beschrifte_ordner_pop=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Populationen ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_apziel=function(e){"use strict";var t,i=0;$($.jstree._reference(e)._get_children(e)).each(function(){$($(this).find("> ul > li")).each(function(){i+=1})}),t="AP-Ziele ("+i+")",$.jstree._reference(e).rename_node(e,t)},window.apf.beschrifte_ordner_apzieljahr=function(e){"use strict";var t,i=$(e).find("> ul > li").length;t=$.jstree._reference(e).get_text(e).slice(0,6),t+=i+")",$.jstree._reference(e).rename_node(e,t)},window.apf.beschrifte_ordner_zielber=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Ziel-Berichte ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_erfkrit=function(e){"use strict";var t=$(e).find("> ul > li").length,i="AP-Erfolgskriterien ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_jber=function(e){"use strict";var t=$(e).find("> ul > li").length,i="AP-Berichte ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_ber=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Berichte ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_assozarten=function(e){"use strict";var t=$(e).find("> ul > li").length,i="assoziierte Arten ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_tpop=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Teilpopulationen ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_popber=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Populations-Berichte ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_popmassnber=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Massnahmen-Berichte ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_tpopmassnber=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Massnahmen-Berichte ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_tpopmassn=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Massnahmen ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_tpopber=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Teilpopulations-Berichte ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_tpopfeldkontr=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Feldkontrollen ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_tpopfreiwkontr=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Freiwilligen-Kontrollen ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_beob_zugeordnet=function(e){"use strict";var t=$(e).find("> ul > li").length,i="Beobachtungen ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_beob_nicht_beurteilt=function(e){"use strict";var t=$(e).find("> ul > li").length,i="nicht beurteilte Beobachtungen ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.beschrifte_ordner_beob_nicht_zuzuordnen=function(e){"use strict";var t=$(e).find("> ul > li").length,i="nicht zuzuordnende Beobachtungen ("+t+")";$.jstree._reference(e).rename_node(e,i)},window.apf.tpopKopiertInPopOrdnerTpopEinfügen=function(e){"use strict";$.ajax({type:"post",url:"api/v1/tpopInsertKopie/popId="+window.apf.erstelleIdAusDomAttributId($(e).attr("id"))+"/tpopId="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpop_node_kopiert).attr("id"))+"/user="+sessionStorage.User,dataType:"json"}).done(function(t){var i="tpop",n=window.apf.tpop_objekt_kopiert.TPopFlurname;window.apf.tpop_objekt_kopiert.TPopNr&&(n=window.apf.tpop_objekt_kopiert.TPopNr+": "+window.apf.tpop_objekt_kopiert.TPopFlurname),window.apf.insertNeuenNodeEineHierarchiestufeTiefer(e,"",i,t,n)}).fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht erstellt")})},window.apf.tpopKopiertInTpopEinfügen=function(e,t){"use strict";var i={};window.apf.prüfeSchreibvoraussetzungen()&&(t||(t=$.jstree._reference(e)._get_parent(e)),i.MutWer=sessionStorage.User,i.PopId=window.apf.erstelleIdAusDomAttributId($(t).attr("id")),delete window.apf.tpop_objekt_kopiert.PopId,delete window.apf.tpop_objekt_kopiert.TPopId,delete window.apf.tpop_objekt_kopiert.MutWann,delete window.apf.tpop_objekt_kopiert.MutWer,_.each(window.apf.tpop_objekt_kopiert,function(e,t){null!==e&&(i[t]=e)}),$.ajax({type:"post",url:"api/v1/tpopInsertKopie/popId="+i.PopId+"/tpopId="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpop_node_kopiert).attr("id"))+"/user="+i.MutWer,dataType:"json"}).done(function(i){var n="tpop",o=window.apf.tpop_objekt_kopiert.TPopNr+" "+window.apf.tpop_objekt_kopiert.TPopFlurname;window.apf.insertNeuenNodeAufGleicherHierarchiestufe(e,t,n,i,o)}).fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht erstellt")}))},window.apf.prüfeLesevoraussetzungen=function(){"use strict";return navigator.onLine?!0:(console.log("offline"),$("#offline_dialog").show().dialog({modal:!0,width:400,buttons:{Ok:function(){$(this).dialog("close")}}}),!1)},window.apf.prüfeSchreibvoraussetzungen=function(){"use strict";return window.apf.prüfeLesevoraussetzungen()?sessionStorage.NurLesen?(window.apf.melde("Sie haben keine Schreibrechte","Speichern abgebrochen"),!1):!0:void 0},window.apf.speichern=function(t){"use strict";var i,n,o,s,a,r,l,h=$("#PopName"),u=$("#PopNr"),p=$("#tree"),c=$("#PopBerJahr"),d=$('input[name="PopBerEntwicklung"]:checked'),f=$("#spanPopBerEntwicklung"+d.val()),g=$("#spanPopMassnBerErfolgsbeurteilung"+$('input[name="PopMassnBerErfolgsbeurteilung"]:checked').val()),m=$("#PopMassnBerJahr"),v=$("#TPopNr"),b=$("#TPopFlurname"),w=$("#TPopBerJahr"),y=$("#spanTPopBerEntwicklung"+$('input[name="TPopBerEntwicklung"]:checked').val()),k=$("#TPopMassnJahr"),x=$("#TPopMassnTyp option:checked"),T=$("#TPopMassnBerJahr"),M=$("#spanTPopMassnBerErfolgsbeurteilung"+$('input[name="TPopMassnBerErfolgsbeurteilung"]:checked').val()),P=$("#ZielBerJahr"),I=$("#ZielBerErreichung"),C=$("#SpanErfkritErreichungsgrad"+$("input:radio[name='ErfkritErreichungsgrad']:checked").val()),S=$("#BerJahr"),D=$("#BerTitel"),z=e("./modules/configuration");if(window.apf.prüfeSchreibvoraussetzungen()){n=$(t).attr("formular");var A=_.findWhere(z.tables,{form:n});if(o=A.tabelleInDb,s=A.tabelleIdFeld,a=t.name,i=$(t).attr("type")||null,r=i&&"checkbox"===i?$("input:checkbox[name="+a+"]:checked").val():i&&"radio"===i?$("input:radio[name="+a+"]:checked").val():$("#"+a).val(),("PopHerkunftUnklar"===a||"TPopHerkunftUnklar"===a||"TPopMassnPlan"===a||"TPopKontrPlan"===a)&&(r=r?1:""),"BeobBemerkungen"===a&&"nicht_beurteilt"===localStorage.beob_status)return $("#BeobBemerkungen").val(""),void window.apf.melde("Bemerkungen sind nur in zugeordneten oder nicht zuzuordnenden Beobachtungen möglich","Aktion abgebrochen");var j=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle="+o+"/tabelleIdFeld="+s+"/tabelleId="+localStorage[n+"_id"]+"/feld="+a+"/wert="+r+"/user="+sessionStorage.User,dataType:"json"});switch(j.done(function(){return window.apf[n][a]=r,"ApArtId"===a&&r?void window.apf.wähleAp(r):("TPopKontrDatum"===a&&r&&(l={},l.name="TPopKontrJahr",l.formular="tpopfeldkontr",window.apf.speichern(l)),"TPopMassnDatum"===a&&r&&(l={},l.name="TPopMassnJahr",l.formular="tpopmassn",window.apf.speichern(l)),void(r||("TPopKontrZaehleinheit1"===a&&(window.apf.tpopfeldkontr.TPopKontrMethode1&&$("#TPopKontrMethode1"+window.apf.tpopfeldkontr.TPopKontrMethode1).prop("checked",!1),$("#TPopKontrAnz1").val(""),l={},l.name="TPopKontrMethode1",l.formular=n,window.apf.speichern(l),l={},l.name="TPopKontrAnz1",l.formular=n,window.apf.speichern(l)),"TPopKontrZaehleinheit2"===a&&(window.apf.tpopfeldkontr.TPopKontrMethode2&&$("#TPopKontrMethode2"+window.apf.tpopfeldkontr.TPopKontrMethode2).prop("checked",!1),$("#TPopKontrAnz2").val(""),l={},l.name="TPopKontrMethode2",l.formular=n,window.apf.speichern(l),l={},l.name="TPopKontrAnz2",l.formular=n,window.apf.speichern(l)),"TPopKontrZaehleinheit3"===a&&(window.apf.tpopfeldkontr.TPopKontrMethode3&&$("#TPopKontrMethode3"+window.apf.tpopfeldkontr.TPopKontrMethode3).prop("checked",!1),$("#TPopKontrAnz3").val(""),l={},l.name="TPopKontrMethode3",l.formular=n,window.apf.speichern(l),l={},l.name="TPopKontrAnz3",l.formular=n,window.apf.speichern(l)))))}),j.fail(function(){window.apf.melde("Fehler: Die letzte Änderung wurde nicht gespeichert")}),a){case"PopNr":case"PopName":var N;N=h.val()&&u.val()?u.val()+": "+h.val():h.val()?"(keine Nr): "+h.val():u.val()?u.val()+": (kein Name)":"(keine Nr, kein Name)",p.jstree("rename_node","[typ='ap_ordner_pop'] #"+localStorage.pop_id,N);break;case"PopBerJahr":case"PopBerEntwicklung":var E;E=c.val()&&f.text()?c.val()+": "+f.text():c.val()?c.val()+": (kein Status)":f.text()?"(kein Jahr): "+f.text():"(kein Jahr): (kein Status)",p.jstree("rename_node","[typ='pop_ordner_popber'] #"+localStorage.popber_id,E);break;case"PopMassnBerJahr":case"PopMassnBerErfolgsbeurteilung":var F;F=m.val()&&g.text()?m.val()+": "+g.text():m.val()?m.val()+": (nicht beurteilt)":g.text()?"(kein Jahr): "+g.text():"(kein Jahr): (nicht beurteilt)",p.jstree("rename_node","[typ='pop_ordner_massnber'] #"+localStorage.popmassnber_id,F);break;case"TPopNr":case"TPopFlurname":var B;B=v.val()&&b.val()?v.val()+": "+b.val():b.val()?"(keine Nr): "+b.val():v.val()?v.val()+": (kein Flurname)":"(keine Nr, kein Flurname)",p.jstree("rename_node","[typ='pop_ordner_tpop'] #"+localStorage.tpop_id,B);break;case"TPopKontrTyp":case"TPopKontrJahr":var O,L="(kein Jahr)",H=$("#TPopKontrJahr").val();H&&(L=H),p.jstree("rename_node","[typ='tpop_ordner_freiwkontr'] #"+localStorage.tpopfeldkontr_id,L),O=window.apf.erstelleLabelFürFeldkontrolle(H,$("#spanTPopKontrTyp"+$('input[name="TPopKontrTyp"]:checked').val()).text()),p.jstree("rename_node","[typ='tpop_ordner_feldkontr'] #"+localStorage.tpopfeldkontr_id,O);break;case"TPopBerJahr":case"TPopBerEntwicklung":var W,K;W=w.val()?w.val():"(kein Jahr)",K=y.text()?y.text():"(keine Beurteilung)",p.jstree("rename_node","[typ='tpop_ordner_tpopber'] #"+localStorage.tpopber_id,W+": "+K);break;case"TPopMassnJahr":case"TPopMassnTyp":var R;R=k.val()&&x.text()?k.val()+": "+x.text():k.val()?k.val()+": (kein Typ)":x.text()?"(kein Jahr): "+x.text():"(kein Jahr): (kein Typ)",R=window.apf.erstelleLabelFürMassnahme(k.val(),x.text()),p.jstree("rename_node","[typ='tpop_ordner_massn'] #"+localStorage.tpopmassn_id,R);break;case"TPopMassnBerJahr":case"TPopMassnBerErfolgsbeurteilung":var q;q=T.val()&&M.text()?T.val()+": "+M.text():T.val()?T.val()+": (keine Beurteilung)":M.text()?"(kein Jahr): "+M.text():"(kein Jahr): (keine Beurteilung)",p.jstree("rename_node","[typ='tpop_ordner_massnber'] #"+localStorage.tpopmassnber_id,q);break;case"ZielBezeichnung":var U;U=r?r:"(Ziel nicht beschrieben)",p.jstree("rename_node","[typ='apzieljahr'] #"+localStorage.apziel_id,U);break;case"ZielBerJahr":case"ZielBerErreichung":var Y;Y=P.val()&&I.val()?P.val()+": "+I.val():P.val()?P.val()+": (keine Beurteilung)":I.val()?"(kein Jahr): "+I.val():"(kein Jahr): (keine Beurteilung)",p.jstree("rename_node","[typ='zielber_ordner'] #"+localStorage.zielber_id,Y);break;case"ErfkritErreichungsgrad":case"ErfkritTxt":var G;G=C.text()&&$("#ErfkritTxt").val()?C.text()+": "+$("#ErfkritTxt").val():C.text()?C.text()+": (kein Kriterium)":$("#ErfkritTxt").val()?"(keine Beurteilung): "+$("#ErfkritTxt").val():"(keine Beurteilung): (kein Kriterium)",p.jstree("rename_node","[typ='ap_ordner_erfkrit'] #"+localStorage.erfkrit_id,G);break;case"JBerJahr":var V;V=r?r:"(kein Jahr)",p.jstree("rename_node","[typ='ap_ordner_jber'] #"+localStorage.jber_id,V);break;case"BerTitel":case"BerJahr":var Z;Z=S.val()&&D.val()?S.val()+": "+D.val():S.val()?S.val()+": (kein Titel)":D.val()?"(kein Jahr): "+D.val():"(kein Jahr): (kein Titel)",p.jstree("rename_node","[typ='ap_ordner_ber'] #"+localStorage.ber_id,Z);break;case"AaSisfNr":var J;J=r?$("#AaSisfNr option[value='"+r+"']").text():"(kein Artname)",p.jstree("rename_node","[typ='ap_ordner_assozarten'] #"+localStorage.assozarten_id,J)}}},function(e){e.fn.serializeObject=function(){var t,i;return t={},i=this.serializeArray(),e.each(i,function(){this.value&&(t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value)):t[this.name]=this.value)}),t}}(jQuery),window.apf.olmap.getLayerNames=function(){var e=window.apf.olmap.map.getLayers().getArray(),t=_.map(e,function(e){return e.values_&&e.values_.title?e.values_.title:void 0});return t},window.apf.olmap.getLayersWithTitle=function(){var e=window.apf.olmap.map.getLayers().getArray(),t=_.map(e,function(e){return e.get("title")?e:void 0});return t||[]},window.apf.olmap.entferneLayerNachName=function(e){var t,i,n=window.apf.olmap.getLayersWithTitle();_.each(n,function(n){t=n.get("title"),i=n.get("kategorie"),t===e&&(window.apf.olmap.map.removeLayer(n),"Eigene Ebenen"===i&&(console.log("entferneLayerNachName meldet: lasse entfernen layer mit title "+t),window.apf.olmap.aktualisiereEbeneInLocalStorage(n,!0)))})},window.apf.olmap.entferneAlleApfloraLayer=function(){"use strict";if(window.apf.olmap&&window.apf.olmap.map){var e,t,i=window.apf.olmap.map.getLayers().getArray(),n=[];_.each(i,function(i){e=i.get("kategorie"),t=i.get("title"),e&&"AP Flora"===e&&"Detailpläne"!==t&&n.push(i)}),_.each(n,function(e){window.apf.olmap.map.removeLayer(e)}),window.apf.olmap.initiiereLayertree()}},window.apf.aktualisiereKoordinatenVonTPop=function(e){var t=$.Deferred(),i=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=TPopId/tabelleId="+e.TPopId+"/feld=TPopXKoord/wert="+e.TPopXKoord+"/user="+sessionStorage.User,dataType:"json"});return i.done(function(){var i=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=TPopId/tabelleId="+e.TPopId+"/feld=TPopYKoord/wert="+e.TPopYKoord+"/user="+sessionStorage.User,dataType:"json"});i.done(function(){t.resolve()})}),t.promise()},window.apf.olmap.stapleLayerZuoberst=function(e){var t,i=window.apf.olmap.map.getLayers(),n=window.apf.olmap.map.getLayers().getArray();_.each(n,function(o,s){o.get("title")===e&&(t=i.removeAt(s),i.insertAt(n.length,t))}),window.apf.olmap.initiiereLayertree()},window.apf.verorteTPopAufOlmap=function(e){"use strict";var t,i,n,o,s;e.PopNr=window.apf.pop.PopNr,e.PopName=window.apf.pop.PopName,e.Artname=window.apf.ap.Artname,$.when(window.apf.zeigeTPopAufOlmap()).then(function(){window.apf.olmap.deactivateMenuItems(),window.apf.olmap.modify_source=new ol.source.Vector;var a=new ol.layer.Vector({title:"verortende Teilpopulation",kategorie:"AP Flora",source:window.apf.olmap.modify_source,style:function(e,t){return window.apf.olmap.tpopStyle(e,t,!1,!0)}});if(window.apf.olmap.map.addLayer(a),e&&e.TPopXKoord&&e.TPopYKoord){i=parseInt(e.TPopXKoord)+200,n=parseInt(e.TPopXKoord)-200,o=parseInt(e.TPopYKoord)+200,s=parseInt(e.TPopYKoord)-200,t=[n,s,i,o];var r=new ol.Feature(new ol.geom.Point([e.TPopXKoord,e.TPopYKoord]));window.apf.olmap.modify_source.addFeature(r),window.apf.olmap.erstelleModifyInteractionFürTPop(),window.apf.olmap.map.updateSize(),window.apf.olmap.map.getView().fitExtent(t,window.apf.olmap.map.getSize()),setTimeout(function(){window.apf.olmap.stapleLayerZuoberst("verortende Teilpopulation")},200)}else window.apf.olmap.draw_interaction=new ol.interaction.Draw({source:window.apf.olmap.modify_source,type:"Point"}),window.apf.olmap.map.addInteraction(window.apf.olmap.draw_interaction),window.apf.olmap.draw_interaction.once("drawend",function(t){var i=t.feature.getGeometry().getCoordinates();e.TPopXKoord=parseInt(i[0]),e.TPopYKoord=parseInt(i[1]),$.when(window.apf.aktualisiereKoordinatenVonTPop(e)).then(function(){var t=window.apf.olmap.map.getLayers().getArray(),i=$("#olmap_layertree_Teilpopulationen").val(),n=t[i],o=n.getSource();o.addFeature(window.apf.olmap.erstelleMarkerFürTPopLayer(e)),window.apf.olmap.removeSelectFeaturesInSelectableLayers()}),window.apf.olmap.map.removeInteraction(window.apf.olmap.draw_interaction),window.apf.olmap.erstelleModifyInteractionFürTPop()},this),setTimeout(function(){window.apf.olmap.stapleLayerZuoberst("verortende Teilpopulation")},200)})},window.apf.olmap.entferneModifyInteractionFürTpop=function(){"use strict";window.apf.olmap.modify_interaction&&(window.apf.olmap.map.removeInteraction(window.apf.olmap.modify_interaction),delete window.apf.olmap.modify_interaction)},window.apf.olmap.erstelleModifyInteractionFürTPop=function(){"use strict";window.apf.olmap.entferneModifyInteractionFürTpop(),window.apf.olmap.modify_overlay=new ol.FeatureOverlay({style:function(e,t){return window.apf.olmap.tpopStyle(e,t,!1,!0)}}),window.apf.olmap.modify_overlay.addFeature(window.apf.olmap.modify_source.getFeatures()[0]),window.apf.olmap.modify_interaction=new ol.interaction.Modify({features:window.apf.olmap.modify_overlay.getFeatures()}),window.apf.olmap.modify_interaction.zähler=0,window.apf.olmap.modify_overlay.getFeatures().getArray()[0].on("change",function(){var e,t=this.getGeometry().getCoordinates();window.apf.olmap.modify_interaction.zähler++,e=window.apf.olmap.modify_interaction.zähler,setTimeout(function(){e===window.apf.olmap.modify_interaction.zähler&&(window.apf.tpop.TPopXKoord=parseInt(t[0]),window.apf.tpop.TPopYKoord=parseInt(t[1]),$.when(window.apf.aktualisiereKoordinatenVonTPop(window.apf.tpop)).then(function(){var e=window.apf.olmap.map.getLayers().getArray(),i=$("#olmap_layertree_Teilpopulationen").val(),n=e[i],o=n.getSource(),s=o.getFeatures(),a=_.find(s,function(e){return e.get("myId")===window.apf.tpop.TPopId});a.getGeometry().setCoordinates(t),a.set("xkoord",window.apf.tpop.TPopXKoord),a.set("ykoord",window.apf.tpop.TPopYKoord),a.set("popup_content",window.apf.olmap.erstelleContentFürTPop(window.apf.tpop))}))},200)}),window.apf.olmap.map.addInteraction(window.apf.olmap.modify_interaction)},window.apf.olmap.entferneModifyInteractionFürVectorLayer=function(e){"use strict";var t=$(".modify_layer");e=e||null,window.apf.olmap.modify_interaction_für_vectorlayer&&(window.apf.olmap.map.removeInteraction(window.apf.olmap.modify_interaction_für_vectorlayer),window.apf.olmap.map.removeInteraction(window.apf.olmap.select_interaction_für_vectorlayer),window.apf.olmap.map.removeInteraction(window.apf.olmap.draw_interaction_für_vectorlayer),delete window.apf.olmap.modify_interaction_für_vectorlayer,delete window.apf.olmap.select_interaction_für_vectorlayer,delete window.apf.olmap.draw_interaction_für_vectorlayer),t.button({icons:{primary:"ui-icon-locked"},text:!1}).button("refresh"),$(".modify_layer_label").attr("title","Ebene bearbeiten").tooltip({tooltipClass:"tooltip-styling-hinterlegt",content:"Ebene bearbeiten"}),$(".modify_layer_geom_type").hide(),t.each(function(){$(this).prop("checked")&&!$(this).is(e)&&$(this).prop("checked",!1).change()
})},window.apf.olmap.erstelleModifyInteractionFürVectorLayer=function(e){"use strict";function t(){"leerwert"!==o.val()&&(window.apf.olmap.draw_interaction_für_vectorlayer=new ol.interaction.Draw({source:e.getSource(),type:o.val()}),window.apf.olmap.map.addInteraction(window.apf.olmap.draw_interaction_für_vectorlayer),window.apf.olmap.draw_interaction_für_vectorlayer.on("drawend",function(t){var i=_.uniqueId();t.feature.setId(i),window.apf.olmap.modified_features=window.apf.olmap.modified_features||[],window.apf.olmap.modified_features=_.union(window.apf.olmap.modified_features,[i]),window.apf.olmap.aktualisiereEbeneInLocalStorage(e)}))}var i={Point:[new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:"rgba(255,255,0,0.5)"}),radius:5,stroke:new ol.style.Stroke({color:"#ff0",width:1})})})],LineString:[new ol.style.Style({stroke:new ol.style.Stroke({color:"#f00",width:3})})],Polygon:[new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,255,255,0.5)"}),stroke:new ol.style.Stroke({color:"#0ff",width:1})})],MultiPoint:[new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:"rgba(255,0,255,0.5)"}),radius:5,stroke:new ol.style.Stroke({color:"#f0f",width:1})})})],MultiLineString:[new ol.style.Style({stroke:new ol.style.Stroke({color:"#0f0",width:3})})],MultiPolygon:[new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,0,255,0.5)"}),stroke:new ol.style.Stroke({color:"#00f",width:1})})]};if("neuer_layer"===e)return e=new ol.layer.Vector({guid:window.apf.erstelleGuid(),source:new ol.source.Vector,title:"neue Ebene",kategorie:"Eigene Ebenen",style:function(e){return i[e.getGeometry().getType()]}}),window.apf.olmap.map.addLayer(e),void window.apf.olmap.frageNameFürEbene(e);var n=e.get("title"),o=$("#modify_layer_geom_type_"+n.replace(" ","_"));window.apf.olmap.modified_features=[],window.apf.olmap.entferneModifyInteractionFürVectorLayer(),window.apf.olmap.select_interaction_für_vectorlayer=new ol.interaction.Select({layers:function(e){return e.get("title")===n}}),window.apf.olmap.selected_features=window.apf.olmap.select_interaction_für_vectorlayer.getFeatures(),window.apf.olmap.selected_features.on("add",function(t){var i=t.element,n=i.getId();n||i.setId(_.uniqueId()),i.on("change",function(t){var i=t.target,n=i.getId();window.apf.olmap.modified_features=window.apf.olmap.modified_features||[],window.apf.olmap.modified_features=_.union(window.apf.olmap.modified_features,[n]),window.apf.olmap.aktualisiereEbeneInLocalStorage(e)}),$(document).on("keyup",function(t){46==t.keyCode&&(window.apf.olmap.selected_features.forEach(function(t){var i=t.getId();window.apf.olmap.selected_features.remove(t);var n=e.getSource().getFeatures();n.forEach(function(t){var n=t.getId();n===i&&(e.getSource().removeFeature(t),window.apf.olmap.aktualisiereEbeneInLocalStorage(e))})}),$(document).off("keyup"))}),$.jstree._reference("[typ='ap_ordner_pop']").deselect_all()}),window.apf.olmap.selected_features.on("remove",function(t){var i=t.element,n=i.getId(),o=window.apf.olmap.modified_features.indexOf(n);o>-1&&(window.apf.olmap.aktualisiereEbeneInLocalStorage(e),window.apf.olmap.modified_features.splice(o,1))}),window.apf.olmap.modify_interaction_für_vectorlayer=new ol.interaction.Modify({features:window.apf.olmap.select_interaction_für_vectorlayer.getFeatures(),deleteCondition:function(e){return ol.events.condition.shiftKeyOnly(e)&&ol.events.condition.singleClick(e)}}),o.on("selectmenuchange",function(){window.apf.olmap.map.removeInteraction(window.apf.olmap.draw_interaction_für_vectorlayer),t()}),t(),window.apf.olmap.map.addInteraction(window.apf.olmap.select_interaction_für_vectorlayer),window.apf.olmap.map.addInteraction(window.apf.olmap.modify_interaction_für_vectorlayer)},window.apf.olmap.exportiereLayer=function(e,t){"use strict";var i,n,o=e.get("title")||"Eigene_Ebene",s=e.getSource().getFeatures(),a=new ol.format[t];o+="."+t;try{i=a.writeFeatures(s)}catch(r){return void window.apf.melde("Sorry, das kann Open Layers 3 noch nicht richtig","Fehler beim Export")}if("GeoJSON"===t)try{n=JSON.stringify(i,null,4)}catch(r){window.apf.melde("Sorry, das kann Open Layers 3 noch nicht richtig","Fehler beim Export")}else{var l=new XMLSerializer;try{n=l.serializeToString(i)}catch(r){window.apf.melde("Sorry, das kann Open Layers 3 noch nicht richtig","Fehler beim Export")}}window.apf.download(o,n)},window.apf.download=function(e,t){"use strict";var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download",e),i.click()},window.apf.olmap.istLayerSichtbarNachName=function(e){"use strict";var t,i;return window.apf.olmap.map&&(t=window.apf.olmap.map.getLayers().getArray(),i=_.find(t,function(t){return t.get("title")===e&&t.get("visible")}))?!0:!1},window.apf.zeigeTPopAufOlmap=function(e){"use strict";var t=window.apf.olmap.istLayerSichtbarNachName("Populationen"),i=window.apf.olmap.istLayerSichtbarNachName("Populationen Nummern"),n=window.apf.olmap.wähleAusschnittFürÜbergebeneTPop(e);$.when(window.apf.zeigeFormular("GeoAdminKarte")).then(function(){window.apf.olmap.map.updateSize(),window.apf.olmap.map.getView().fitExtent(n.bounds,window.apf.olmap.map.getSize());var e=$.ajax({type:"get",url:"api/v1/tpopKarteAlle/apId="+window.apf.ap.ApArtId,dataType:"json"});e.done(function(e){$.when(window.apf.olmap.erstelleTPopLayer(e,n.tpopid_markiert,!0),window.apf.olmap.zeigePopInTPop(t,i)).then(function(){window.apf.olmap.initiiereLayertree()})}),e.fail(function(){window.apf.melde("Fehler: Es konnten keine Teilpopulationen aus der Datenbank abgerufen werden")})})},window.apf.zeigePopAufOlmap=function(e){"use strict";window.apf.olmap.LetzterKlickHandler&&window.apf.olmap.LetzterKlickHandler.deactivate();var t=window.apf.olmap.wähleAusschnittFürÜbergebenePop(e);$.when(window.apf.zeigeFormular("GeoAdminKarte")).then(function(){window.apf.olmap.auswahlPolygonLayer&&window.apf.olmap.auswahlPolygonLayer.features.length>0||(window.apf.olmap.map.updateSize(),window.apf.olmap.map.getView().fitExtent(t.bounds,window.apf.olmap.map.getSize()));var e=$.ajax({type:"get",url:"api/v1/tpopKarteAlle/apId="+window.apf.ap.ApArtId,dataType:"json"});e.done(function(e){$.when(window.apf.olmap.erstelleTPopLayer(e),window.apf.olmap.zeigePopInTPop(!0,!0,t.popid_markiert)).then(function(){window.apf.olmap.initiiereLayertree()})}),e.fail(function(){window.apf.melde("Fehler: Es konnten keine Daten aus der Datenbank abgerufen werden")})})},window.apf.olmap.wähleAusschnittFürÜbergebeneTPop=function(e){"use strict";var t,i,n,o,s,a=[],r=[],l=[];return e&&e.length>0?(_.each(e,function(e){l.push(e.TPopId),a.push(e.TPopXKoord),r.push(e.TPopYKoord)}),i=parseInt(_.max(a))+70,o=parseInt(_.min(a))-70,n=parseInt(_.max(r))+70,s=parseInt(_.min(r))-70,t=[o,s,i,n]):t=[669e3,222e3,717e3,284e3],{bounds:t,tpopid_markiert:l}},window.apf.olmap.wähleAusschnittFürÜbergebenePop=function(e){"use strict";var t,i,n,o,s,a=[],r=[],l=[];return e&&e.length>0?(_.each(e,function(e){l.push(e.PopId),a.push(e.PopXKoord),r.push(e.PopYKoord)}),i=parseInt(_.max(a))+70,o=parseInt(_.min(a))-70,n=parseInt(_.max(r))+70,s=parseInt(_.min(r))-70,t=[o,s,i,n]):t=[669e3,222e3,717e3,284e3],{bounds:t,popid_markiert:l}},window.apf.olmap.zeigePopInTPop=function(e,t,i){"use strict";var n=$.Deferred(),o=$.ajax({type:"get",url:"api/v1/popKarteAlle/apId="+window.apf.ap.ApArtId,dataType:"json"});return o.done(function(t){$.when(window.apf.olmap.erstellePopLayer(t,i,e)).then(function(){window.apf.olmap.initiiereLayertree(),n.resolve()})}),o.fail(function(){window.apf.melde("Fehler: Es konnten keine Populationen aus der Datenbank abgerufen werden"),n.resolve()}),n.promise()},window.apf.olmap.erstelleTPopulation=function(e){"use strict";var t,i=new OpenLayers.Style({externalGraphic:"//www.apflora.ch/img/flora_icon_rot.png",graphicWidth:32,graphicHeight:37,graphicYOffset:-37,title:"${tooltip}"}),n=(new OpenLayers.Style({externalGraphic:"//www.apflora.ch/img/flora_icon_gelb.png"}),new OpenLayers.Layer.Vector("Teilpopulation",{styleMap:new OpenLayers.StyleMap({"default":i,select:i})})),o=new OpenLayers.Geometry.Point(e.TPopXKoord,e.TPopYKoord),s=e.TPopFlurname||"(kein Flurname)";t=window.apf.pop.PopNr&&e.TPopNr?window.apf.pop.PopNr+"/"+e.TPopNr+" "+s:window.apf.pop.PopNr?window.apf.pop.PopNr+"/? "+s:e.TPopNr?"?/"+e.TPopNr+" "+s:"?/? "+s;var a=new OpenLayers.Feature.Vector(o,{tooltip:t});n.addFeatures(a);var r=new OpenLayers.Control.DragFeature(n,{onComplete:function(t){e.TPopXKoord=t.geometry.x,e.TPopYKoord=t.geometry.y,window.apf.speichereWert("tpop",localStorage.tpop_id,"TPopXKoord",e.TPopXKoord),window.apf.speichereWert("tpop",localStorage.tpop_id,"TPopYKoord",e.TPopYKoord)}});window.apf.olmap.addControl(r),r.activate(),window.apf.olmap.addLayer(n),window.selectControlTPop=new OpenLayers.Control.SelectFeature(n,{clickout:!0}),window.apf.olmap.addControl(window.selectControlTPop),window.selectControlTPop.activate()},window.apf.speichereWert=function(e,t,i,n){"use strict";var o=$.ajax({type:"post",url:"php/"+e+"_update.php",dataType:"json",data:{id:t,Feld:i,Wert:n,user:sessionStorage.User}});o.fail(function(){window.apf.melde("Fehler: Die letzte Änderung wurde nicht gespeichert")})},window.apf.olmap.erstelleContentFürTPop=function(e){"use strict";var t=e.TPopFlurname||"(kein Flurname)";return"<table><tr><td><p>Typ:</p></td><td><p>Teilpopulation</p></td></tr><tr><td><p>Population:</p></td><td><p>"+e.PopName+"</p></td></tr><tr><td><p>Teilpopulation:</p></td><td><p>"+t+"</p></td></tr><tr><td><p>Koordinaten:</p></td><td><p>"+e.TPopXKoord+" / "+e.TPopYKoord+'</p></td></tr></table><p><a href="#" onclick="window.apf.öffneTPop(\''+e.TPopId+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneFormularAlsPopup(\'tpop\', '+e.TPopId+')">Formular neben der Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneTPopInNeuemTab(\''+e.TPopId+"')\">Formular in neuem Fenster öffnen</a></p>"},window.apf.olmap.listSelectedFeatures=function(e){"use strict";var t,i=window.apf.olmap.map.olmap_select_interaction.getFeatures().getArray();return t=_.filter(i,function(t){return e?t.get("myTyp")===e:t.get("myTyp")})},window.apf.olmap.erstelleListeDerAusgewähltenPopTPop=function(e,t){"use strict";var i,n,o="";window.apf.olmap.pop_selected=e,window.apf.olmap.tpop_selected=t,e.length>0&&(e=_.sortBy(e,function(e){var t=e.get("pop_nr");return parseInt(t)}),t.length>0&&(o+="<p class='ergebnisAuswahlListeTitel'>"+e.length+" Populationen: </p>"),o+="<table>",_.each(e,function(e){i=e.get("myId"),o+='<tr><td><a href="#" onclick="window.apf.öffnePop(\''+i+"')\">",o+=e.get("pop_nr")+':</a></td><td><a href="#" onclick="window.apf.öffnePop(\''+i+"')\">"+e.get("pop_name")+"</a></td></tr>"}),o+="</table>"),t.length>0&&(t=_.sortBy(t,function(e){var t=e.get("pop_nr")||0,i=e.get("tpop_nr")||0,n=parseFloat(parseInt(t)+"."+parseInt(i));return n}),e.length>0&&(o+="<p class='ergebnisAuswahlListeTitel ergebnisAuswahlListeTitelTPop'>"+t.length+" Teilpopulationen: </p>"),o+="<table>",_.each(t,function(e){n=e.get("myId"),o+='<tr><td><a href="#" onclick="window.apf.öffneTPopInNeuemTab(\''+n+"')\">",o+=e.get("tpop_nr_label")+':</a></td><td><a href="#" onclick="window.apf.öffneTPopInNeuemTab(\''+n+"')\">",o+=e.get("tpop_name")+"</a></td></tr>"}),o+="</table>");var s="auto";t.length>25&&(s=650);var a,r="Exportieren: ",l="<a href='#' class='export_pop'>Populationen</a>",h="<a href='#' class='export_tpop'>Teilpopulationen</a>, <a href='#' class='export_kontr'>Kontrollen</a>, <a href='#' class='export_massn'>Massnahmen</a>";e.length>0&&t.length>0?(a="Gewählt wurden "+e.length+" Populationen und "+t.length+" Teilpopulationen",r+=l+", "+h):e.length>0?(a="Gewählt wurden "+e.length+" Populationen:",r+=l):t.length>0?(a="Gewählt wurden "+t.length+" Teilpopulationen:",r+=h):(a="Keine Populationen/Teilpopulationen gewählt",r=""),$("#ergebnisAuswahlHeaderText").html(a),$("#ergebnisAuswahlListe").html(o),$("#ergebnisAuswahlFooter").html(r),$("#ergebnisAuswahl").css("display","block")},window.apf.olmap.sucheFeatures=function(e){var t=[];return window.apf.olmap.map.forEachFeatureAtPixel(e,function(e){t.push(e)}),t},window.apf.olmap.entfernePopupOverlays=function(){var e=window.apf.olmap.map.getOverlays().getArray(),t=[];_.each(e,function(e){"popup"===e.get("typ")&&t.push(e)}),_.each(t,function(e){window.apf.olmap.map.removeOverlay(e)}),$(".qtip").each(function(){$(this).qtip("destroy",!0)})},window.apf.olmap.zeigeFeatureInfo=function(e,t){var i,n,o,s,a,r=window.apf.olmap.sucheFeatures(e),l=[],h="";a=_.filter(r,function(e){return e.get("myTyp")||e.get("popup_title")}),a&&a.length>0?(a.length>1?(_.each(a,function(e,t){"Detailplan"===e.get("myTyp")?(h+="<h3>Objekt ID: "+e.get("OBJECTID")+"</h3>",h+="<table><tr><td><p>Typ:</p></td><td><p>Detailplan</p></td></tr><tr><td><p>Fläche:</p></td><td><p>"+parseInt(e.get("SHAPE_Area")/10)+"</p></td></tr><tr><td><p>Bemerkunge:</p></td><td><p>"+(e.get("Bemerkunge")||"")+"</p></td></tr><tr><td><p>Bemerkun_1:</p></td><td><p>"+(e.get("Bemerkun_1")||"")+"</p></td></tr></table>"):(h+="<h3>"+e.get("popup_title")+"</h3>",h+=e.get("popup_content")),t+1<a.length&&(h+="<hr>")}),s=a.length+" Treffer",o=t):("Detailplan"===a[0].get("myTyp")?(h="<table><tr><td><p>Typ:</p></td><td><p>Detailplan</p></td></tr><tr><td><p>Fläche:</p></td><td><p>"+parseInt(a[0].get("SHAPE_Area")/10)+"</p></td></tr><tr><td><p>Bemerkunge:</p></td><td><p>"+(a[0].get("Bemerkunge")||"")+"</p></td></tr><tr><td><p>Bemerkun_1:</p></td><td><p>"+(a[0].get("Bemerkun_1")||"")+"</p></td></tr></table>",s="Objekt ID: "+a[0].get("OBJECTID")):(h=a[0].get("popup_content"),s=a[0].get("popup_title")),o=a[0].get("xkoord")&&a[0].get("ykoord")?[a[0].get("xkoord"),a[0].get("ykoord")]:t),$(".olmap_popup").each(function(){$(this).qtip({content:{text:h,title:s,button:"Close"},style:{widget:!0,def:!1,classes:"olmap_popup_styling",tip:{width:20,height:20}},position:{my:"top left",at:"bottom right",target:$(this),viewport:$("#GeoAdminKarte")}}),$(this).qtip("toggle",!0)}),$(".qtip").each(function(){l.push($(this).attr("data-qtip-id"))}),n=_.max(l),i=new ol.Overlay({element:$("#qtip-"+n)}),window.apf.olmap.map.addOverlay(i),i.setPosition(o),i.set("typ","popup")):window.apf.olmap.entfernePopupOverlays()},window.apf.olmap.erstelleContentFürPop=function(e){"use strict";return"<table><tr><td><p>Typ:</p></td><td><p>Population</p></td></tr><tr><td><p>Koordinaten:</p></td><td><p>"+e.PopXKoord+" / "+e.PopYKoord+'</p></td></tr></table><p><a href="#" onclick="window.apf.öffnePop(\''+e.PopId+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneFormularAlsPopup(\'pop\', '+e.PopId+')">Formular neben der Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffnePopInNeuemTab(\''+e.PopId+"')\">Formular in neuem Fenster öffnen</a></p>"},window.apf.olmap.erstellePopLayer=function(e,t,i){"use strict";var n,o,s,a,r,l,h=$.Deferred(),u=[];return window.apf.olmap.map&&window.apf.olmap.map.olmap_select_interaction&&t?l=window.apf.olmap.map.olmap_select_interaction.getFeatures().getArray():t&&(window.apf.olmap.addSelectFeaturesInSelectableLayers(),l=window.apf.olmap.map.olmap_select_interaction.getFeatures().getArray()),null===i&&(i=!0),_.each(e,function(e){s=e.PopName||"(kein Name)",a=window.apf.olmap.erstelleContentFürPop(e),o=e.PopNr?e.PopNr.toString():"?",n=new ol.Feature({geometry:new ol.geom.Point([e.PopXKoord,e.PopYKoord]),pop_nr:o,pop_name:s,name:o,popup_content:a,popup_title:s,xkoord:e.PopXKoord,ykoord:e.PopYKoord,myTyp:"pop",myId:e.PopId}),u.push(n),t&&-1!==t.indexOf(e.PopId)&&l.push(n)}),r=new ol.layer.Vector({title:"Populationen",selectable:!0,source:new ol.source.Vector({features:u}),style:function(e,t){return window.apf.olmap.popStyle(e,t)}}),r.set("visible",i),r.set("kategorie","AP Flora"),window.apf.olmap.map.addLayer(r),l&&l.length>0&&(setTimeout(function(){window.apf.olmap.prüfeObPopTpopGewähltWurden()},100),$("#olmap_auswaehlen").prop("checked",!0).button().button("refresh")),h.resolve(),h.promise()},window.apf.vergleicheTPopZumSortierenNachTooltip=function(e,t){"use strict";return e.tooltip<t.tooltip?-1:e.tooltip>t.tooltip?1:0},window.apf.deaktiviereGeoAdminAuswahl=function(){"use strict";window.apf.olmap.auswahlPolygonLayer&&window.apf.olmap.auswahlPolygonLayer.removeAllFeatures(),window.drawControl&&window.drawControl.deactivate(),$("#ergebnisAuswahl").css("display","none"),delete window.apf.tpop_id_array,delete window.tpop_id_liste,delete window.apf.pop_id_array,delete window.pop_id_liste},window.apf.erstelleTPopNrLabel=function(e,t){"use strict";return e&&t?e+"/"+t:e?e+"/?":t?"?/"+t:"?/?"},window.apf.olmap.erstelleMarkerFürTPopLayer=function(e){return new ol.Feature({geometry:new ol.geom.Point([e.TPopXKoord,e.TPopYKoord]),tpop_nr:e.TPopNr,pop_nr:e.PopNr,tpop_nr_label:window.apf.erstelleTPopNrLabel(e.PopNr,e.TPopNr),tpop_name:e.TPopFlurname||"(kein Name)",name:window.apf.erstelleTPopNrLabel(e.PopNr,e.TPopNr),popup_content:window.apf.olmap.erstelleContentFürTPop(e),popup_title:e.Artname,xkoord:e.TPopXKoord,ykoord:e.TPopYKoord,myTyp:"tpop",myId:e.TPopId})},window.apf.olmap.erstelleTPopLayer=function(e,t,i){"use strict";var n,o,s,a=$.Deferred(),r=[];return window.apf.olmap.map.olmap_select_interaction&&t?s=window.apf.olmap.map.olmap_select_interaction.getFeatures().getArray():t&&(window.apf.olmap.addSelectFeaturesInSelectableLayers(),s=window.apf.olmap.map.olmap_select_interaction.getFeatures().getArray()),null===i&&(i=!0),_.each(e,function(e){o=window.apf.olmap.erstelleMarkerFürTPopLayer(e),r.push(o),t&&-1!==t.indexOf(e.TPopId)&&s.push(o)}),n=new ol.layer.Vector({title:"Teilpopulationen",source:new ol.source.Vector({features:r}),style:function(e,t){return window.apf.olmap.tpopStyle(e,t)}}),n.set("visible",i),n.set("kategorie","AP Flora"),window.apf.olmap.map.addLayer(n),s&&s.length>0&&(setTimeout(function(){window.apf.olmap.prüfeObPopTpopGewähltWurden()},100),$("#olmap_auswaehlen").prop("checked",!0).button().button("refresh")),a.resolve(),a.promise()},window.apf.olmap.onFeatureSelect=function(e){"use strict";var t=new OpenLayers.Popup.FramedCloud("popup",e.geometry.getBounds().getCenterLonLat(),null,e.attributes.message,null,!1);t.autoSize=!0,t.maxSize=new OpenLayers.Size(600,600),t.fixedRelativePosition=!0,e.popup=t,window.apf.gmap.addPopup(t)},window.apf.olmap.onFeatureUnselect=function(e){"use strict";e.popup.hide()},window.apf.gmap.zeigeBeobUndTPop=function(t,i){"use strict";function n(e,t,i){google.maps.event.addListener(t,"click",function(){h.setContent(i),h.open(e,t)})}function o(e,t,i){google.maps.event.addListener(t,"click",function(){l.setContent(i),l.open(e,t)})}function s(t,i){var n=e("./lib/ddInChY"),o=e("./lib/ddInChX");google.maps.event.addListener(t,"dragend",function(t){var s,a,r,l,h;h=this,s=t.latLng.lat(),a=t.latLng.lng(),r=n(s,a),l=o(s,a);var u=$.ajax({type:"get",url:"api/v1/beobNaechsteTpop/apId="+i.NO_ISFS+"/X="+r+"/Y="+l,dataType:"json"});u.done(function(t){var n,o=e("./lib/chToWgsLng"),r=e("./lib/chToWgsLat");n=i.Autor?"Beobachtung von "+i.Autor+" aus dem Jahr "+i.A_NOTE:"Beobachtung ohne Autor aus dem Jahr "+i.A_NOTE,$("#Meldung").html("Soll die "+n+"<br>der Teilpopulation '"+t[0].TPopFlurname+"' zugeordnet werden?").dialog({modal:!0,title:"Zuordnung bestätigen",width:600,buttons:{Ja:function(){$(this).dialog("close"),localStorage.karte_fokussieren=!0,console.log("Beob.NO_NOTE: ",i.NO_NOTE),$("#tree").jstree("move_node","#beob"+i.NO_NOTE,"#tpop_ordner_beob_zugeordnet"+t[0].TPopId,"first"),h.setMap(null)},Nein:function(){$(this).dialog("close"),a=o(i.X,i.Y),s=r(i.X,i.Y);var e=new google.maps.LatLng(s,a);h.setPosition(e)}}})}),u.fail(function(){window.apf.melde("Fehler: Die Beobachtung wurde nicht zugeordnet")})})}var a,r,l,h,u,p,c,d,f,g,m,v,b,w,y,k,x,T,M,P,I,C,S,D,z=e("./lib/chToWgsLat"),A=e("./lib/chToWgsLng");window.apf.zeigeFormular("google_karte"),window.apf.gmap.markers_array=[],window.apf.gmap.info_window_array=[],l=new google.maps.InfoWindow,h=new google.maps.InfoWindow,_.each(t,function(e){e.Lat=z(parseInt(e.X),parseInt(e.Y)),e.Lng=A(parseInt(e.X),parseInt(e.Y))}),_.each(i,function(e,t){e.TPopXKoord&&e.TPopYKoord?(e.Lat=z(parseInt(e.TPopXKoord),parseInt(e.TPopYKoord)),e.Lng=A(parseInt(e.TPopXKoord),parseInt(e.TPopYKoord))):delete i[t]}),a=t.length,r=i.length,u=47.383333,p=8.533333,c=new google.maps.LatLng(u,p),d={zoom:15,center:c,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.SATELLITE},f=new google.maps.Map(document.getElementById("google_karten_div"),d),window.apf.gmap.map=f,g=new google.maps.LatLngBounds,m=[],_.each(i,function(e){v=e.TPopId,b=new google.maps.LatLng(e.Lat,e.Lng),g.extend(b),C=window.apf.beschrifteTPopMitNrFürKarte(e.PopNr,e.TPopNr),y=new MarkerWithLabel({map:f,position:b,title:C,labelContent:C,labelAnchor:new google.maps.Point(75,0),labelClass:"MapLabel",icon:"img/flora_icon.png"}),m.push(y),D=e.TPopFlurname||"(kein Flurname)",x='<div id="content"><div id="siteNotice"></div><div id="bodyContent" class="GmInfowindow"><h3>'+e.Artname+"</h3><p>Population: "+e.PopName+"</p><p>TPop: "+D+"</p><p>Koordinaten: "+e.TPopXKoord+" / "+e.TPopYKoord+'</p><p><a href="#" onclick="window.apf.öffneTPop(\''+e.TPopId+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneFormularAlsPopup(\'tpop\', '+e.TPopId+')">Formular neben der Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneTPopInNeuemTab(\''+e.TPopId+"')\">Formular in neuem Fenster öffnen</a></p></div></div>",n(f,y,x)}),T={maxZoom:17,styles:[{height:53,url:"img/m8.png",width:53}]},M=new MarkerClusterer(f,m,T),window.markersBeob=[],_.each(t,function(e){P=e.Datum,b=new google.maps.LatLng(e.Lat,e.Lng),1===a?c=b:g.extend(b),I=P?P.toString():"",S=e.A_NOTE?e.A_NOTE.toString():"",w=new MarkerWithLabel({map:f,position:b,title:I,labelContent:S,labelAnchor:new google.maps.Point(75,0),labelClass:"MapLabel",icon:"img/flora_icon_violett.png",draggable:!0}),window.markersBeob.push(w),s(w,e);var t=e.Autor||"(keiner)",i=e.PROJET||"(keines)",n=e.DESC_LOCALITE||"(keiner)";k='<div id="content"><div id="siteNotice"></div><div id="bodyContent" class="GmInfowindow"><h3>'+P+"</h3><p>Autor: "+t+"</p><p>Projekt: "+i+"</p><p>Ort: "+n+"</p><p>Koordinaten: "+e.X+" / "+e.Y+'</p><p><a href="#" onclick="window.apf.öffneBeob(\''+e.NO_NOTE+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneBeobInNeuemTab(\''+e.NO_NOTE+"')\">Formular in neuem Fenster öffnen</a></p></div></div>",o(f,w,k)}),r+a===1?(f.setCenter(c),f.setZoom(18)):f.fitBounds(g)},window.apf.gmap.zeigeBeob=function(t){"use strict";function i(e,t,i){google.maps.event.addListener(t,"click",function(){o.setContent(i),o.open(e,t)})}var n,o,s,a,r,l,h,u,p,c,d,f,g,m,v,b,w,y=e("./lib/chToWgsLng"),k=e("./lib/chToWgsLat");window.apf.zeigeFormular("google_karte"),window.apf.gmap.markers_array=[],window.apf.gmap.info_window_array=[],o=new google.maps.InfoWindow,_.each(t,function(e){e.Lat=k(parseInt(e.X),parseInt(e.Y)),e.Lng=y(parseInt(e.X),parseInt(e.Y))}),n=t.length,s=47.383333,a=8.533333,r=new google.maps.LatLng(s,a),l={zoom:15,center:r,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.SATELLITE,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.TERRAIN,google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.HYBRID]}},h=new google.maps.Map(document.getElementById("google_karten_div"),l),window.apf.gmap.map=h,u=new google.maps.LatLngBounds,p=[],_.each(t,function(e){v=e.Datum,c=new google.maps.LatLng(e.Lat,e.Lng),1===n?r=c:u.extend(c),b=v?v.toString():"",w=e.A_NOTE?e.A_NOTE.toString():"",d=new MarkerWithLabel({map:h,position:c,title:b,labelContent:w,labelAnchor:new google.maps.Point(75,0),labelClass:"MapLabel",icon:"img/flora_icon_violett.png"}),d.metadata={typ:"beob_nicht_beurteilt",id:e.NO_NOTE},p.push(d);var t=e.Autor||"(keiner)",o=e.PROJET||"(keines)",s=e.DESC_LOCALITE||"(keiner)";f='<div id="content"><div id="siteNotice"></div><div id="bodyContent" class="GmInfowindow"><h3>'+v+"</h3><p>Autor: "+t+"</p><p>Projekt: "+o+"</p><p>Ort: "+s+"</p><p>Koordinaten: "+e.X+" / "+e.Y+'</p><p><a href="#" onclick="window.apf.öffneBeob(\''+e.NO_NOTE+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneBeobInNeuemTab(\''+e.NO_NOTE+"')\">Formular in neuem Fenster öffnen</a></p></div></div>",i(h,d,f)}),g={maxZoom:17,styles:[{height:53,url:"img/m5.png",width:53}]},m=new MarkerClusterer(h,p,g),1===n?(h.setCenter(r),h.setZoom(18)):h.fitBounds(u)},window.apf.gmap.zeigeTPopBeob=function(t){"use strict";function i(e,t,i){google.maps.event.addListener(t,"click",function(){o.setContent(i),o.open(e,t)})}var n,o,s,a,r,l,h,u,p,c,d,f,g,m,v,b,w=e("./lib/chToWgsLng"),y=e("./lib/chToWgsLat");window.apf.zeigeFormular("google_karte"),window.apf.gmap.markers_array=[],window.apf.gmap.info_window_array=[],o=new google.maps.InfoWindow,_.each(t,function(e){e.Lat=y(parseInt(e.X),parseInt(e.Y)),e.Lng=w(parseInt(e.X),parseInt(e.Y))}),n=t.length,s=47.383333,a=8.533333,r=new google.maps.LatLng(s,a),l={zoom:15,center:r,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.SATELLITE,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.TERRAIN,google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.HYBRID]}},h=new google.maps.Map(document.getElementById("google_karten_div"),l),window.apf.gmap.map=h,u=new google.maps.LatLngBounds,p=[],_.each(t,function(e){v=e.Datum,c=new google.maps.LatLng(e.Lat,e.Lng),1===n?r=c:u.extend(c),b=v?v.toString():"",d=new MarkerWithLabel({map:h,position:c,title:b,labelContent:b,labelAnchor:new google.maps.Point(75,0),labelClass:"MapLabel",icon:"img/flora_icon_violett.png"}),p.push(d);var t=e.Autor||"(keiner)",o=e.PROJET||"(keines)",s=e.DESC_LOCALITE||"(keiner)";f='<div id="content"><div id="siteNotice"></div><div id="bodyContent" class="GmInfowindow"><h3>'+v+"</h3><p>Autor: "+t+"</p><p>Projekt: "+o+"</p><p>Ort: "+s+"</p><p>Koordinaten: "+e.X+" / "+e.Y+'</p><p><a href="#" onclick="window.apf.öffneTPopBeob(\''+e.NO_NOTE+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneTPopBeobInNeuemTab(\''+e.NO_NOTE+"')\">Formular in neuem Fenster öffnen</a></p></div></div>",i(h,d,f)}),g={maxZoom:17,styles:[{height:53,url:"img/m5.png",width:53}]},m=new MarkerClusterer(h,p,g),1===n?(h.setCenter(r),h.setZoom(18)):h.fitBounds(u)},window.apf.gmap.verorteTPop=function(t){"use strict";var i,n,o,s,a,r,l,h,u,p,c,d=new google.maps.InfoWindow,f=$("#google_karten_div"),g=e("./lib/chToWgsLng"),m=e("./lib/chToWgsLat");window.apf.gmap.markers_array=[],window.apf.zeigeFormular("google_karte"),t&&t.TPopXKoord&&t.TPopYKoord?(i=m(parseInt(t.TPopXKoord),parseInt(t.TPopYKoord)),n=g(parseInt(t.TPopXKoord),parseInt(t.TPopYKoord)),s=15,l=!0):(i=47.360566,n=8.542829,s=12,l=!1),o=new google.maps.LatLng(i,n),a={zoom:s,center:o,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.SATELLITE},r=new google.maps.Map(f[0],a),window.apf.gmap.map=r,l&&(p=window.apf.beschrifteTPopMitNrFürKarte(t.PopNr,t.TPopNr),h=new google.maps.Marker({position:o,map:r,title:p,icon:"img/flora_icon_rot.png",draggable:!0}),window.apf.gmap.markers_array.push(h),c=t.TPopFlurname||"(kein Flurname)",u='<div id="content"><div id="siteNotice"></div><div id="bodyContent" class="GmInfowindow"><h3>'+c+"</h3><p>Koordinaten: "+t.TPopXKoord+" / "+t.TPopYKoord+'</p><p><a href="#" onclick="window.apf.öffneTPop(\''+t.TPopId+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneFormularAlsPopup(\'tpop\', '+t.TPopId+')">Formular neben der Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneTPopInNeuemTab(\''+t.TPopId+"')\">Formular in neuem Fenster öffnen</a></p></div></div>",d=new google.maps.InfoWindow({content:u}),window.apf.gmap.info_window_array||(window.apf.gmap.info_window_array=[]),window.apf.gmap.info_window_array.push(d),google.maps.event.addListener(h,"click",function(){d.open(r,h)}),google.maps.event.addListener(h,"dragend",function(e){window.apf.gmap.SetLocationTPop(e.latLng,r,h,t)})),google.maps.event.addListener(r,"click",function(e){window.apf.gmap.erstelleMarker(e.latLng,r,h,t)})},window.apf.gmap.erstelleMarker=function(e,t,i,n){"use strict";var o;o=n&&n.TPopFlurname?n.TPopFlurname:"neue Teilpopulation",window.apf.gmap.clearMarkers();var i=new google.maps.Marker({position:e,map:t,title:o,icon:"img/flora_icon_rot.png",draggable:!0});window.apf.gmap.markers_array.push(i),google.maps.event.addListener(i,"dragend",function(e){window.apf.gmap.SetLocationTPop(e.latLng,t,i,n)}),window.apf.gmap.SetLocationTPop(e,t,i)},window.apf.gmap.SetLocationTPop=function(t,i,n,o){"use strict";var s,a,r,l,h,u,p,c=e("./lib/ddInChY"),d=e("./lib/ddInChX");if(window.apf.prüfeSchreibvoraussetzungen()){h=o&&o.TPopFlurname?o.TPopFlurname:"neue Teilpopulation",s=t.lat(),a=t.lng(),u=c(s,a),p=d(s,a);var f=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=TPopId/tabelleId="+localStorage.tpop_id+"/feld=TPopXKoord/wert="+u+"/user="+sessionStorage.User,dataType:"json"});f.done(function(){var e=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=TPopId/tabelleId="+localStorage.tpop_id+"/feld=TPopYKoord/wert="+p+"/user="+sessionStorage.User,dataType:"json"});e.done(function(){window.apf.gmap.clearInfoWindows(),r='<div id="content"><div id="siteNotice"></div><div id="bodyContent" class="GmInfowindow"><h3>'+h+"</h3><p>Koordinaten: "+u+" / "+p+'</p><p><a href="#" onclick="window.apf.öffneTPop(\''+localStorage.tpop_id+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneFormularAlsPopup(\'tpop\', '+localStorage.tpop_id+')">Formular neben der Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneTPopInNeuemTab(\''+localStorage.tpop_id+"')\">Formular in neuem Fenster öffnen</a></p></div></div>",l=new google.maps.InfoWindow({content:r}),window.apf.gmap.info_window_array||(window.apf.gmap.info_window_array=[]),window.apf.gmap.info_window_array.push(l),google.maps.event.addListener(n,"click",function(){l.open(i,n)})}),e.fail(function(){window.apf.melde("Fehler: Die Y-Koordinate wurde nicht übernommen (die X-Koordinate offenbar schon)")})}),f.fail(function(){window.apf.melde("Fehler: Die Koordinaten wurden nicht übernommen")})}},window.apf.gmap.clearMarkers=function(){"use strict";_.each(window.apf.gmap.markers_array,function(e){e.setMap(null)})},window.apf.gmap.clearInfoWindows=function(){"use strict";_.each(window.apf.gmap.info_window_array,function(e){e.setMap(null)})},window.apf.öffneTPop=function(e){"use strict";localStorage.tpop_id=e,$.jstree._reference("[typ='tpop']#"+e).deselect_all(),$("#tree").jstree("select_node","[typ='tpop']#"+e)},window.apf.öffneTPopInNeuemTab=function(e){"use strict";window.open("index.html?ap="+localStorage.ap_id+"&pop="+localStorage.pop_id+"&tpop="+e,"_blank")},window.apf.öffnePop=function(e){"use strict";localStorage.pop_id=e,$.jstree._reference("[typ='pop']#"+e).deselect_all(),$("#tree").jstree("select_node","[typ='pop']#"+e)},window.apf.öffnePopInNeuemTab=function(e){"use strict";window.open("index.html?ap="+localStorage.ap_id+"&pop="+e,"_blank")},window.apf.öffneBeob=function(e){"use strict";localStorage.beob_id=e,$.jstree._reference("[typ='beob_nicht_beurteilt']#beob"+e).deselect_all(),$("#tree").jstree("select_node","[typ='beob_nicht_beurteilt']#beob"+e)},window.apf.öffneBeobInNeuemTab=function(e){"use strict";window.open("index.html?ap="+localStorage.ap_id+"&beob_nicht_beurteilt="+e,"_blank")},window.apf.öffneTPopBeob=function(e){"use strict";localStorage.beob_id=e,$.jstree._reference("[typ='beob_zugeordnet']#beob"+e).deselect_all(),$("#tree").jstree("select_node","[typ='beob_zugeordnet']#beob"+e)},window.apf.öffneTPopBeobInNeuemTab=function(e){"use strict";window.open("index.html?ap="+localStorage.ap_id+"&beob_nicht_beurteilt="+e,"_blank")},o.prototype.fromLatLngToPoint=function(e,n){var o=this,s=n||new google.maps.Point(0,0),a=o.pixelOrigin_;s.x=a.x+e.lng()*o.pixelsPerLonDegree_;
var r=t(Math.sin(i(e.lat())),-.9999,.9999);return s.y=a.y+.5*Math.log((1+r)/(1-r))*-o.pixelsPerLonRadian_,s},o.prototype.fromDivPixelToLatLng=function(e,t){var i=this,o=i.pixelOrigin_,s=Math.pow(2,t),a=(e.x/s-o.x)/i.pixelsPerLonDegree_,r=(e.y/s-o.y)/-i.pixelsPerLonRadian_,l=n(2*Math.atan(Math.exp(r))-Math.PI/2);return new google.maps.LatLng(l,a)},o.prototype.fromDivPixelToSphericalMercator=function(e,t){var n=this,o=n.fromDivPixelToLatLng(e,t),s=6378137,a=s*i(o.lng()),r=i(o.lat()),l=s/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)));return new google.maps.Point(a,l)},function(e){function t(t){var i=t||window.event,n=[].slice.call(arguments,1),o=0,s=0,a=0;return t=e.event.fix(i),t.type="mousewheel",i.wheelDelta&&(o=i.wheelDelta/120),i.detail&&(o=-i.detail/3),a=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(a=0,s=-1*o),void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(s=-1*i.wheelDeltaX/120),n.unshift(t,o,s,a),(e.event.dispatch||e.event.handle).apply(this,n)}var i=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var n=i.length;n;)e.event.fixHooks[i[--n]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),window.apf.öffneUri=function(){"use strict";var t=new Uri($(location).attr("href")),i=t.anchor()||null,n=t.getQueryParamValue("ap"),o=e("./modules/initiiereIdealbiotop"),s=e("./modules/initiiereAp"),a=e("./modules/initiiereBeob"),r=e("./modules/initiiereApziel"),l=e("./modules/initiiereZielber"),h=e("./modules/initiiereJber"),u=e("./modules/initiiereJberUebersicht"),p=e("./modules/initiiereBer"),c=e("./modules/initiierePopMassnBer"),d=e("./modules/initiiereTPop"),f=e("./modules/initiierePopBer"),g=e("./modules/initiiereTPopFeldkontr"),m=e("./modules/initiiereTPopMassnBer"),_=e("./modules/initiiereTPopBer");if(n){if(window.apf.setzeWindowAp(n),$("#ap_waehlen").val(n),t.getQueryParamValue("tpop")){window.apf.setzeWindowPop(t.getQueryParamValue("pop")),window.apf.setzeWindowTpop(t.getQueryParamValue("tpop"));var v=t.getQueryParamValue("tpopfeldkontr");if(v)window.apf.setzeWindowTpopfeldkontr(v),window.apf.tpopfeldkontr_zeigen=!0,g();else if(t.getQueryParamValue("tpopfreiwkontr"))window.apf.setzeWindowTpopfeldkontr(t.getQueryParamValue("tpopfreiwkontr")),window.apf.tpopfreiwkontr_zeigen=!0,localStorage.tpopfreiwkontr=!0,g();else if(t.getQueryParamValue("tpopmassn")){var b=e("./modules/initiiereTPopMassn");window.apf.setzeWindowTpopmassn(t.getQueryParamValue("tpopmassn")),window.apf.tpopmassn_zeigen=!0,b()}else t.getQueryParamValue("tpopber")?(window.apf.setzeWindowTpopber(t.getQueryParamValue("tpopber")),window.apf.tpopber_zeigen=!0,_()):t.getQueryParamValue("beob_zugeordnet")?window.apf.beob_zugeordnet_zeigen=!0:t.getQueryParamValue("tpopmassnber")?(window.apf.setzeWindowTpopmassnber(t.getQueryParamValue("tpopmassnber")),window.apf.tpopmassnber_zeigen=!0,m()):(window.apf.tpop_zeigen=!0,d())}else t.getQueryParamValue("pop")?(window.apf.setzeWindowPop(t.getQueryParamValue("pop")),t.getQueryParamValue("popber")?(window.apf.setzeWindowPopber(t.getQueryParamValue("popber")),window.apf.popber_zeigen=!0,f()):t.getQueryParamValue("popmassnber")?(window.apf.setzeWindowPopmassnber(t.getQueryParamValue("popmassnber")),window.apf.popmassnber_zeigen=!0,c()):(window.apf.pop_zeigen=!0,localStorage.pop_id=t.getQueryParamValue("pop"),a())):t.getQueryParamValue("apziel")?(window.apf.setzeWindowApziel(t.getQueryParamValue("apziel")),t.getQueryParamValue("zielber")?(window.apf.setzeWindowZielber(t.getQueryParamValue("zielber")),window.apf.zielber_zeigen=!0,l()):(window.apf.apziel_zeigen=!0,localStorage.apziel_id=t.getQueryParamValue("apziel"),r())):t.getQueryParamValue("erfkrit")?(window.apf.setzeWindowErfkrit(t.getQueryParamValue("erfkrit")),window.apf.erfkrit_zeigen=!0):t.getQueryParamValue("jber")?(window.apf.setzeWindowJber(t.getQueryParamValue("jber")),window.apf.jber_zeigen=!0,h()):t.getQueryParamValue("jber_uebersicht")?(window.apf.setzeWindowJberUebersicht(t.getQueryParamValue("jber_uebersicht")),window.apf.jber_übersicht_zeigen=!0,u()):t.getQueryParamValue("ber")?(window.apf.setzeWindowBer(t.getQueryParamValue("ber")),window.apf.ber_zeigen=!0,p()):t.getQueryParamValue("idealbiotop")?(window.apf.setzeWindowIdealbiotop(t.getQueryParamValue("idealbiotop")),window.apf.idealbiotop_zeigen=!0,o()):t.getQueryParamValue("assozarten")?(window.apf.setzeWindowAssozarten(t.getQueryParamValue("assozarten")),window.apf.assozarten_zeigen=!0):t.getQueryParamValue("beob_nicht_beurteilt")?window.apf.beob_nicht_beurteilt_zeigen=!0:t.getQueryParamValue("beob_nicht_zuzuordnen")?window.apf.beob_nicht_zuzuordnen_zeigen=!0:(window.apf.ap_zeigen=!0,localStorage.ap_id=n,s());window.apf.erstelle_tree(n),$("#ap_waehlen_label").hide()}else{var w=t.getQueryParamValue("exporte");w&&window.apf.initiiereExporte(i)}},window.apf.getInternetExplorerVersion=function(){"use strict";var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}return e},window.apf.olmap.createLayersForOlmap=function(){"use strict";var e={Aerial:"Bing Luftbild",AerialWithLabels:"Bing Luftbild beschriftet",Road:"Bing Strassenkarte"},t=_.keys(e),i=[];_.each(t,function(t){i.push(new ol.layer.Tile({title:e[t],kategorie:"Welt Hintergrund",visible:!1,preload:1/0,source:new ol.source.BingMaps({projection:"EPSG:21781",key:"AjGOtB_ygBplpxXtKiiHtm-GERjSg9TFEoCmuBI_Yz4VWy0unRGUDo9GOZHA46Pf",imagerySet:t})}))});var n=ga.layer.create("ch.swisstopo.swissimage");n.set("title","Luftbild CH"),n.set("visible",!1),n.set("kategorie","Hintergrund");var o=ga.layer.create("ch.swisstopo.pixelkarte-grau");o.set("title","Landeskarten CH grau"),o.set("visible",!1),o.set("kategorie","Hintergrund");var s=ga.layer.create("ch.swisstopo.pixelkarte-farbe");s.set("title","Landeskarten CH farbig"),s.set("visible",!0),s.set("kategorie","Hintergrund");var a=ga.layer.create("ch.swisstopo.hiks-siegfried");a.set("title","Siegfriedkarte 1881"),a.set("visible",!1),a.set("kategorie","Hintergrund");var r=ga.layer.create("ch.swisstopo-vd.geometa-gemeinde");r.set("title","Gemeinden"),r.set("visible",!1),r.set("kategorie","CH Sachinformationen");var l=ga.layer.create("ch.swisstopo.swissboundaries3d-kanton-flaeche.fill");l.set("title","Kantone"),l.set("visible",!1),l.set("crossOrigin",null),l.set("kategorie","CH Sachinformationen");var h=ga.layer.create("ch.kantone.cadastralwebmap-farbe");h.set("title","Parzellen"),h.set("visible",!1),l.set("crossOrigin",null),h.set("kategorie","CH Sachinformationen");var u=ga.layer.create("ch.bafu.bundesinventare-amphibien");u.set("title","Amphibien"),u.set("visible",!1),u.set("kategorie","CH Biotopinventare");var p=ga.layer.create("ch.bafu.bundesinventare-amphibien_wanderobjekte");p.set("title","Amphibien Wanderobjekte"),p.set("visible",!1),p.set("kategorie","CH Biotopinventare");var c=ga.layer.create("ch.bafu.bundesinventare-auen");c.set("title","Auen"),c.set("visible",!1),c.set("kategorie","CH Biotopinventare");var d=ga.layer.create("ch.bafu.bundesinventare-flachmoore");d.set("title","Flachmoore"),d.set("visible",!1),d.set("kategorie","CH Biotopinventare");var f=ga.layer.create("ch.bafu.bundesinventare-hochmoore");f.set("title","Hochchmoore"),f.set("visible",!1),f.set("kategorie","CH Biotopinventare");var g=ga.layer.create("ch.bafu.bundesinventare-trockenwiesen_trockenweiden");g.set("title","Trockenwiesen und -weiden"),g.set("visible",!1),g.set("kategorie","CH Biotopinventare");var m=ga.layer.create("ch.bafu.bundesinventare-vogelreservate");m.set("title","Vogelreservate"),m.set("visible",!1),m.set("kategorie","CH Biotopinventare");var v=new ol.source.GeoJSON({url:"geojson/detailplaene.geojson"}),b=new ol.layer.Vector({title:"Detailpläne",opacity:1,visible:!1,kategorie:"AP Flora",selectable:!0,source:v,style:window.apf.olmap.detailplanStyle()}),w=(new ol.layer.Tile({title:"Amtliche Vermessung",visible:!1,kategorie:"ZH Sachinformationen",source:new ol.source.TileWMS({url:"//agabriel:4zC6MgjM@wms.zh.ch/avwms",crossOrigin:null,params:{layers:"liegenschaften"}})}),new ol.source.ServerVector({format:new ol.format.WFS({featureNS:"//maps.zh.ch",featureType:"polygon"}),loader:function(e){$.ajax({type:GET,url:"//maps.zh.ch/wfs/FnsNSWFS",data:{SERVICE:"WFS",VERSION:"1.0.0",REQUEST:"GetFeature",TYPENAME:"lrm_veg",SRSNAME:"EPSG:21781",bbox:e.join(",")+",EPSG:21781"},dataType:"jsonp",jsonpCallback:"load_zh_kartierungen_layer_source"})},strategy:ol.loadingstrategy.createTile(new ol.tilegrid.XYZ({maxZoom:19})),projection:"EPSG:21781"})),y=(new ol.layer.Vector({title:"Lebensraum-Kartierungen",opacity:.7,visible:!1,kategorie:"ZH Sachinformationen",source:w,style:new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(0, 0, 255, 1.0)",width:2})})}),new ol.layer.Tile({title:"SVO farbig",opacity:.7,visible:!1,kategorie:"ZH Sachinformationen",legende:!0,legende_url:"http://wms.zh.ch/FnsSVOZHWMS?version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=zonen-schutzverordnungen&format=image/png&STYLE=default",source:new ol.source.TileWMS({url:"//wms.zh.ch/FnsSVOZHWMS",crossOrigin:null,params:{layers:"zonen-schutzverordnungen,ueberlagernde-schutzzonen,schutzverordnungsobjekte,svo-zonen-labels,schutzverordnungsobjekt-nr"}})})),k=new ol.layer.Tile({title:"SVO schwarz/weiss",visible:!1,kategorie:"ZH Sachinformationen",legende:!0,legende_url:"http://wms.zh.ch/FnsSVOZHWMS?version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=zonen-schutzverordnungen-raster&format=image/png&STYLE=default",source:new ol.source.TileWMS({url:"//wms.zh.ch/FnsSVOZHWMS",crossOrigin:null,params:{layers:"zonen-schutzverordnungen-raster,ueberlagernde-schutzzonen,schutzverordnungsobjekte,svo-zonen-labels,schutzverordnungsobjekt-nr",singleTile:!0}})}),x=new ol.layer.Tile({title:"Wälder: lichte",visible:!1,kategorie:"ZH Sachinformationen",legende:!0,legende_url:"http://wms.zh.ch/FnsLWZHWMS?version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=objekte-lichte-waelder-kanton-zuerich&format=image/png&STYLE=default",source:new ol.source.TileWMS({url:"//maps.zh.ch/wms/FnsLWZH",crossOrigin:null,params:{layers:"objekte-lichte-waelder-kanton-zuerich",singleTile:!0}})}),T=new ol.layer.Tile({title:"Wälder: Vegetation",visible:!1,kategorie:"ZH Sachinformationen",legende:!0,legende_url:"http://wms.zh.ch/WaldVKWMS?version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=waldgesellschaften&format=image/png&STYLE=default",source:new ol.source.TileWMS({url:"//maps.zh.ch/wms/WaldVKWMS",crossOrigin:null,params:{layers:"waldgesellschaften",singleTile:!0}})}),M=(new ol.layer.Tile({title:"Kanton",visible:!1,kategorie:"ZH Sachinformationen",source:new ol.source.TileWMS({url:"//maps.zh.ch/wms/BASISKARTEZH",crossOrigin:null,params:{layers:"grenzen,gemeindegrenzen",singleTile:!0}})}),new ol.layer.Tile({title:"Luftbild",visible:!1,kategorie:"Hintergrund",source:new ol.source.TileWMS({url:"//agabriel:4zC6MgjM@wms.zh.ch/OrthoZHWMS",crossOrigin:null,params:{layers:"orthophotos",singleTile:!0}})}),new ol.layer.Tile({title:"Luftbild ZH",visible:!1,kategorie:"Hintergrund",source:new ol.source.TileWMS({url:"//maps.zh.ch/wms/OrthoBackgroundZH",crossOrigin:null,params:{layers:"orthoaktuell",singleTile:!0}})})),P=new ol.layer.Tile({title:"Übersichtsplan ZH",visible:!1,kategorie:"Hintergrund",source:new ol.source.TileWMS({url:"http://wms.zh.ch/upwms",crossOrigin:null,params:{layers:"upwms",singleTile:!0}})}),I=new ol.layer.Tile({title:"Landeskarten ZH",visible:!1,kategorie:"Hintergrund",source:new ol.source.TileWMS({url:"//maps.zh.ch/wms/BASISKARTEZH",crossOrigin:null,params:{layers:"wald,seen,lk500,lk200,lk100,lk50,lk25,up8,up24",singleTile:!0}})}),C=new ol.layer.Tile({title:"Höhenmodell ZH",visible:!1,kategorie:"Hintergrund",source:new ol.source.TileWMS({url:"//maps.zh.ch/wms/DTMBackgroundZH",crossOrigin:null,params:{layers:"dtm",singleTile:!0}})}),S=[C,M,n,I,o,s,a,h,r,u,p,c,d,f,g,m,l,P,y,k,x,T,b],D=S;if(localStorage.olmap_eigene_ebenen){var z={Point:[new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:"rgba(255,255,0,0.5)"}),radius:5,stroke:new ol.style.Stroke({color:"#ff0",width:1})})})],LineString:[new ol.style.Style({stroke:new ol.style.Stroke({color:"#f00",width:3})})],Polygon:[new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,255,255,0.5)"}),stroke:new ol.style.Stroke({color:"#0ff",width:1})})],MultiPoint:[new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:"rgba(255,0,255,0.5)"}),radius:5,stroke:new ol.style.Stroke({color:"#f0f",width:1})})})],MultiLineString:[new ol.style.Style({stroke:new ol.style.Stroke({color:"#0f0",width:3})})],MultiPolygon:[new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,0,255,0.5)"}),stroke:new ol.style.Stroke({color:"#00f",width:1})})]},A=function(e,t){var i=e.getStyleFunction();return i?i.call(e,t):z[e.getGeometry().getType()]},j=JSON.parse(localStorage.olmap_eigene_ebenen),N=[];_.each(j,function(e){var t=new ol.format.GeoJSON,i=t.readFeatures(e),n=new ol.source.Vector({features:i}),o=new ol.layer.Vector({guid:e.guid,source:n,style:A,title:e.title,kategorie:e.kategorie});N.push(o)}),D=D.concat(N)}return D},window.apf.olmap.aktualisiereEbeneInLocalStorage=function(e,t){"use strict";var i=e.get("guid"),n=[];if(localStorage.olmap_eigene_ebenen&&(n=JSON.parse(localStorage.olmap_eigene_ebenen)),i){if(n=_.reject(n,function(e){return e.guid&&e.guid===i}),!t){var o=new ol.format.GeoJSON,s=o.writeFeatures(e.getSource().getFeatures());s.title=e.get("title"),s.guid=i,s.kategorie=e.get("kategorie"),n.push(s)}try{localStorage.olmap_eigene_ebenen=JSON.stringify(n)}catch(a){console.log("Ebene konnte nicht in localStorage gespeichert werden. Fehlermeldung: "+a),$("#eigene_layer_meldung_"+e.get("title").replace(" ","_")).html("Ebene kann nicht im Cache des Browsers gespeichert werden").show()}}},window.apf.initiiereOlmap=function(){"use strict";window.apf.olmap.entferneAlleApfloraLayer(),window.apf.olmap.entferneModifyInteractionFürTpop(),window.apf.olmap.map||(window.apf.olmap.map=new ga.Map({target:"ga_karten_div",layers:window.apf.olmap.createLayersForOlmap(),view:new ol.View2D({resolution:4,center:[693e3,253e3]})}),window.apf.olmap.addDragAndDropGeofiles(),window.apf.olmap.addShowFeatureInfoOnClick(),window.apf.olmap.changeCursorOverFeature(),window.apf.olmap.initiiereLayertree(),window.apf.olmap.addMousePositionControl(),window.apf.olmap.addFullScreenControl(),window.apf.olmap.map.on("change:size",function(){window.apf.olmap.blendeOlmapExportieren()}))},window.apf.olmap.deactivateMenuItems=function(){window.apf.olmap.removeMeasureInteraction(),window.apf.olmap.removeSelectFeaturesInSelectableLayers(),window.apf.olmap.entfernePopupOverlays(),$("div.ga-tooltip").hide(),window.apf.olmap.entferneModifyInteractionFürTpop()},window.apf.olmap.removeSelectFeaturesInSelectableLayers=function(){"use strict";window.apf.olmap.map.olmap_select_interaction&&(window.apf.olmap.map.removeInteraction(window.apf.olmap.map.olmap_select_interaction),delete window.apf.olmap.map.olmap_select_interaction,window.apf.olmap.removeDragBox(),$("#ergebnisAuswahl").hide())},window.apf.olmap.addSelectFeaturesInSelectableLayers=function(){"use strict";window.apf.olmap.map.olmap_select_interaction=new ol.interaction.Select({layerFilter:function(e){return e.get("selectable")===!0},style:function(e,t){switch(e.get("myTyp")){case"pop":return window.apf.olmap.popStyle(e,t,!0);case"tpop":return window.apf.olmap.tpopStyle(e,t,!0);case"Detailplan":return window.apf.olmap.detailplanStyleSelected(e,t)}}}),window.apf.olmap.map.addInteraction(window.apf.olmap.map.olmap_select_interaction),window.apf.olmap.addDragBoxForPopTpop()},window.apf.olmap.getSelectedFeatures=function(){return window.apf.olmap.map.olmap_select_interaction?window.apf.olmap.map.olmap_select_interaction.getFeatures().getArray():[]},window.apf.olmap.getSelectedFeaturesOfType=function(e){var t,i=window.apf.olmap.getSelectedFeatures(),n=[];return 0===i.length?[]:(_.each(i,function(i){t=i.get("myTyp"),t===e&&n.push(i)}),n)},window.apf.olmap.removeDragBox=function(){"use strict";window.apf.olmap.drag_box_interaction&&(window.apf.olmap.map.removeInteraction(window.apf.olmap.drag_box_interaction),delete window.apf.olmap.drag_box_interaction)},window.apf.olmap.addDragBoxForPopTpop=function(){"use strict";window.apf.olmap.drag_box_interaction=new ol.interaction.DragBox({condition:ol.events.condition.altKeyOnly,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255,0,0,0.1)"}),stroke:new ol.style.Stroke({color:[255,0,0,1],width:3})})}),window.apf.olmap.drag_box_interaction.on("boxend",function(){var e=window.apf.olmap.drag_box_interaction.getGeometry(),t=e.getExtent(),i=window.apf.olmap.map.getLayers().getArray(),n=$("#olmap_layertree_Populationen").val(),o=i[n],s=$("#olmap_layertree_Teilpopulationen").val(),a=i[s],r=o.getSource(),l=a.getSource(),h=window.apf.olmap.map.olmap_select_interaction.getFeatures().getArray();o.get("visible")===!0&&r.forEachFeatureInExtent(t,function(e){h.push(e)}),a.get("visible")===!0&&l.forEachFeatureInExtent(t,function(e){h.push(e)}),setTimeout(function(){window.apf.olmap.prüfeObPopTpopGewähltWurden()},100)}),window.apf.olmap.map.addInteraction(window.apf.olmap.drag_box_interaction)},window.apf.olmap.addShowFeatureInfoOnClick=function(){"use strict";window.apf.olmap.map.on("singleclick",function(e){var t=e.pixel,i=e.coordinate;window.apf.olmap.map.olmap_select_interaction||window.apf.olmap.zeigeFeatureInfo(t,i),setTimeout(function(){window.apf.olmap.prüfeObPopTpopGewähltWurden()},100)})},window.apf.olmap.prüfeObPopTpopGewähltWurden=function(){var e=[],t=[];e=window.apf.olmap.getSelectedFeaturesOfType("pop"),t=window.apf.olmap.getSelectedFeaturesOfType("tpop"),e.length>0||t.length>0?window.apf.olmap.erstelleListeDerAusgewähltenPopTPop(e,t):$("#ergebnisAuswahl").hide()},window.apf.olmap.changeCursorOverFeature=function(){"use strict";$(window.apf.olmap.map.getViewport()).on("mousemove",function(e){var t=window.apf.olmap.map.getEventPixel(e.originalEvent),i=window.apf.olmap.map.forEachFeatureAtPixel(t,function(){return!0});i?$("#ga_karten_div").css("cursor","pointer"):$("#ga_karten_div").css("cursor","")})},window.apf.olmap.addMousePositionControl=function(){"use strict";var e=new ol.control.MousePosition({coordinateFormat:ol.coordinate.createStringXY(0),projection:"EPSG:21781",undefinedHTML:"&nbsp;"});window.apf.olmap.map.addControl(e)},window.apf.olmap.addFullScreenControl=function(){"use strict";var e=new ol.control.FullScreen;window.apf.olmap.map.addControl(e),$("#ga_karten_div").find(".ol-full-screen").find('span[role="tooltip"]').html("Vollbild wechseln")},window.apf.olmap.addDragAndDropGeofiles=function(){"use strict";var e={Point:[new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:"rgba(255,255,0,0.5)"}),radius:5,stroke:new ol.style.Stroke({color:"#ff0",width:1})})})],LineString:[new ol.style.Style({stroke:new ol.style.Stroke({color:"#f00",width:3})})],Polygon:[new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,255,255,0.5)"}),stroke:new ol.style.Stroke({color:"#0ff",width:1})})],MultiPoint:[new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:"rgba(255,0,255,0.5)"}),radius:5,stroke:new ol.style.Stroke({color:"#f0f",width:1})})})],MultiLineString:[new ol.style.Style({stroke:new ol.style.Stroke({color:"#0f0",width:3})})],MultiPolygon:[new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,0,255,0.5)"}),stroke:new ol.style.Stroke({color:"#00f",width:1})})]},t=function(t,i){var n=t.getStyleFunction();return n?n.call(t,i):e[t.getGeometry().getType()]},i=new ol.interaction.DragAndDrop({formatConstructors:[ol.format.GPX,ol.format.GeoJSON,ol.format.IGC,ol.format.KML,ol.format.TopoJSON]});window.apf.olmap.map.addInteraction(i),i.on("addfeatures",function(e){var i=new ol.source.Vector({features:e.features}),n=new ol.layer.Vector({guid:window.apf.erstelleGuid(),source:i,style:t,title:"eigene Ebene",kategorie:"Eigene Ebenen"});window.apf.olmap.map.addLayer(n);var o=window.apf.olmap.map.getView();o.fitExtent(i.getExtent(),window.apf.olmap.map.getSize()),window.apf.olmap.initiiereLayertree("Eigene Ebenen"),window.apf.olmap.frageNameFürEbene(n)})},window.apf.olmap.frageNameFürEbene=function(e){"use strict";var t=$.Deferred(),i=$("#eigene_ebene_name"),n=$("#eigene_ebene_name_container");return window.apf.olmap.eigene_ebene=e,n.dialog({title:"Ebene taufen",modal:!0,position:{my:"center",at:"center",of:$("#ga_karten_div")},buttons:[{text:"speichern",click:function(){window.apf.olmap.nenneEbeneUm(e,i.val()),i.val(""),$(this).dialog("close"),t.resolve()}},{text:"abbrechen",click:function(){$(this).dialog("close")}}]}).dialog("open"),i.on("keyup",function(e){13==e.which&&window.apf.olmap.eigene_ebene&&(window.apf.olmap.nenneEbeneUm(window.apf.olmap.eigene_ebene,e.target.value),i.val(""),$("#eigene_ebene_name_container").dialog("close"),$("#GeoAdminKarte").off("keyup","#eigene_ebene_name"),delete window.apf.olmap.eigene_ebene,t.resolve())}),t.promise()},window.apf.olmap.nenneEbeneUm=function(e,t){"use strict";e.set("title",t),window.apf.olmap.initiiereLayertree("Eigene Ebenen"),window.apf.olmap.aktualisiereEbeneInLocalStorage(e)},window.apf.olmap.initiiereLayertree=function(e){"use strict";var t,i,n,o,s,a,r,l,h,u="<h3>Hintergrund</h3><div>",p="<h3>CH Sachinformationen</h3><div>",c="<h3>CH Biotopinventare</h3><div>",d="<h3>ZH Sachinformationen</h3><div>",f="<h3>ZH AP Flora</h3><div>",g=$("#olmap_layertree_layers"),m=$("#ga_karten_div").find(".accordion"),v=window.apf.olmap.map.getLayers().getArray(),b="<hr>",w=0,y=!1,k=[],x=!1;a="<h3>Eigene Ebenen</h3>",a+="<div>",a+="<p>Einfach eine der folgenden Dateitypen auf die Karte ziehen:</p>",a+="<ul>",a+="<li>GPX</li>",a+="<li>GeoJSON</li>",a+="<li>IGC</li>",a+="<li>KML</li>",a+="<li>TopoJSON</li>",a+="</ul>",a+='<div id="olmap_eigene_ebenen_beta_container">',a+='<p style="font-size:10px; line-height:0.9em;">Open Layers 3 ist noch in der Beta-Phase.<br>Daher funktionieren eigene Layer nicht immer fehlerfrei.</p>',a+="</div>",a+='<div id="olmap_neues_layer_container">',a+='<input type="checkbox" class="neues_layer" id="olmap_neues_layer">',a+='<label for="olmap_neues_layer" class="neues_layer_label">neue Ebene erstellen</label>',a+="</div>",m.accordion({collapsible:!0,active:!1,heightStyle:"content"}).accordion("destroy"),_.each(v,function(e,s){if(t=e.get("title")||"(Ebene ohne Titel)",i=e.get("visible"),n=e.get("kategorie"),l=e.get("legende")||!1,h=e.get("legende_url")||null,"messen"!==t)switch(o='<li><input type="checkbox" class="olmap_layertree_checkbox" id="olmap_layertree_'+t+'" value="'+s+'"',i&&(o+=' checked="checked"'),o+=">",o+='<label for="olmap_layertree_'+t+'">'+t+"</label>","Populationen"===t&&(o+='<div class="layeroptionen">',o+='<label for="layertree_pop_nr" class="layertree_pop_style pop_nr">Nr.</label>',o+='<input type="checkbox" id="layertree_pop_nr" class="layertree_pop_style pop_nr" checked="checked"> ',o+='<label for="layertree_pop_name" class="layertree_pop_style pop_name">Namen</label>',o+='<input type="checkbox" id="layertree_pop_name" class="layertree_pop_style pop_name">',o+="</div>"),"Teilpopulationen"===t&&(o+='<div class="layeroptionen">',o+='<label for="layertree_tpop_nr" class="layertree_tpop_style tpop_nr">Nr.</label>',o+='<input type="checkbox" id="layertree_tpop_nr" class="layertree_tpop_style tpop_nr" checked="checked"> ',o+='<label for="layertree_tpop_name" class="layertree_tpop_style tpop_name">Namen</label>',o+='<input type="checkbox" id="layertree_tpop_name" class="layertree_tpop_style tpop_name">',o+="</div>"),"Eigene Ebenen"===n&&(o+='<div class="layeroptionen">',o+='<input type="checkbox" class="modify_layer" id="modify_layer_'+t.replace(" ","_")+'">',o+='<label for="modify_layer_'+t.replace(" ","_")+'" title="Ebene bearbeiten" class="modify_layer_label"></label>',o+='<select id="modify_layer_geom_type_'+t.replace(" ","_")+'" class="modify_layer_geom_type apf_tooltip" title="Neue Objekte zeichnen oder<br>bestehende Objekte auswählen, um sie zu verändern"><option id="modify_layer_geom_type_leerwert" value="leerwert" selected>Objekt auswählen</option><option value="Point">Punkt zeichnen</option><option value="LineString">Linie zeichnen</option><option value="Polygon">Polygon zeichnen</option></select>',o+='<div class="non_modify_options">',o+='<select id="export2_layer_geom_type_'+t.replace(" ","_")+'" class="export_layer_select apf_tooltip" title="Ebene exportieren<br>Wählen Sie ein Format"><option value="leerwert" selected>exportieren</option><option value="GeoJSON">GeoJSON</option><option value="KML">KML</option><option value="GPX">GPX</option></select>',o+='<input type="checkbox" class="rename_layer" id="rename_layer_'+t.replace(" ","_")+'">',o+='<label for="rename_layer_'+t.replace(" ","_")+'" title="Ebene umbenennen" class="rename_layer_label"></label>',o+='<input type="checkbox" class="entferne_layer" id="entferne_layer_'+t.replace(" ","_")+'">',o+='<label for="entferne_layer_'+t.replace(" ","_")+'" title="Ebene entfernen" class="entferne_layer_label"></label>',o+="</div>",o+='<div id="eigene_layer_meldung_'+t.replace(" ","_")+'" class="eigene_layer_meldung"></div>',o+="</div>",y=!0,k.push("export2_layer_geom_type_"+t.replace(" ","_"))),l&&h&&(o+='<a class="ui-icon ui-icon-info olmap_layertreee_legende" href="'+h+'" target="_blank" title="'+h+'"></a>',x=!0),o+="</li>",o+="<hr>",n){case"Hintergrund":u+=o;break;case"CH Sachinformationen":p+=o;break;case"CH Biotopinventare":c+=o;break;case"ZH Sachinformationen":d+=o;break;case"AP Flora":f+=o;break;case"Eigene Ebenen":b+=o,w++}}),u=u.substring(0,u.length-4),p=p.substring(0,p.length-4),c=c.substring(0,c.length-4),d=d.substring(0,d.length-4),w>0&&(b=b.substring(0,b.length-4)),f="<h3>ZH AP Flora</h3><div>"!==f?f.substring(0,f.length-4):"",u+="</div>",p+="</div>",c+="</div>",d+="</div>",f+="</div>",w>0&&(a+=b),a+="</div>",s=u+p+c+d+f+a,g.html(s),e?(m.accordion({collapsible:!0,active:!1,heightStyle:"content"}),m.accordion({collapsible:!0,active:0,heightStyle:"content"}),"Eigene Ebenen"===e&&(r=5),$("#olmap_layertree_layers").accordion({collapsible:!0,active:r,heightStyle:"content"})):m.accordion({collapsible:!0,active:!1,heightStyle:"content"}),g.css("max-height",window.apf.berechneOlmapLayertreeMaxhöhe),$(".neues_layer").button({icons:{primary:"ui-icon-plusthick"}}).button("refresh"),$(".export_layer_select").selectmenu(),_.each(k,function(e){$("#"+e+"-button").tooltip({tooltipClass:"tooltip-styling-hinterlegt",items:"span",content:"Ebene exportieren<br>Wählen Sie ein Format"})}),y&&($(".modify_layer").button({icons:{primary:"ui-icon-locked"},text:!1}).button("refresh"),$(".modify_layer_label, .export_layer_select_label, .rename_layer_label, .entferne_layer_label, .apf_tooltip").tooltip({tooltipClass:"tooltip-styling-hinterlegt",content:function(){return $(this).attr("title")}}),$(".rename_layer").button({icons:{primary:"ui-icon-tag"},text:!1}).button("refresh"),$(".entferne_layer").button({icons:{primary:"ui-icon-closethick"},text:!1}).button("refresh")),x&&($(".olmap_layertreee_legende").tooltip({tooltipClass:"tooltip_olmap_layertree_legende",position:{my:"right top+15",at:"right bottom",collision:"flipfit"},content:function(){var e=$(this).attr("href");return"<img src='"+e+"'>"}}),$(".olmap_layertreee_legende").each(function(){$(this).tooltip("open"),$(this).tooltip("close")}))},window.apf.öffneFormularAlsPopup=function(e,t){var i,n=$("#"+e);switch(e){case"pop":i="Population";break;case"tpop":i="Teilpopulation";break;case"beob":i="Beobachtung";break;default:i=""}localStorage[e+"_id"]=t,"beob"===e?window.apf["initiiere_"+e]("beob_nicht_beurteilt",t,"nicht_beurteilt",!0):window.apf["initiiere_"+e](!0),n.dialog({close:function(){n.dialog("destroy")},width:600,maxHeight:$("#menu").height(),resizable:!0,position:{my:"left top",at:"left top",of:$("#menu")},title:i}),n.dialog("open")},window.apf.olmap.detailplanStyle=function(){"use strict";return new ol.style.Style({fill:new ol.style.Fill({color:"rgba(250, 58, 15, 0.1)"}),stroke:new ol.style.Stroke({color:"#fa3a0f",width:1})})},window.apf.olmap.detailplanStyleSelected=function(){"use strict";return new ol.style.Style({fill:new ol.style.Fill({color:"rgba(15, 85, 250, 0.1)"}),stroke:new ol.style.Stroke({color:"#0F55FA",width:1})})},window.apf.olmap.popStyle=function(e,t,i){"use strict";var n,o,s,a,r,l,h="img/flora_icon_braun.png",u=(e.get("myId"),"white"),p=$("#layertree_pop_nr");return i&&(h="img/flora_icon_orange.png",u="red"),o=new ol.style.Icon({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:1,src:h}),p.is(":checked")?s=e.get("pop_nr"):$("#layertree_pop_name").is(":checked")&&(s=e.get("pop_name")),a=new ol.style.Text({font:"bold 11px Arial, Verdana, Helvetica, sans-serif",text:s,fill:new ol.style.Fill({color:"black"}),stroke:new ol.style.Stroke({color:u,width:7})}),r=new ol.style.Style({image:o,text:a}),l=new ol.style.Style({image:o}),n=p.is(":checked")?r:$("#layertree_pop_name").is(":checked")?r:l,[n]},window.apf.olmap.tpopStyle=function(e,t,i,n){"use strict";var o,s,a,r,l,h,u="img/flora_icon.png",p=(e.get("myId"),"white"),c=$("#layertree_tpop_nr");return i&&(u="img/flora_icon_gelb.png",p="red"),n&&(u="img/flora_icon_rot.png"),s=new ol.style.Icon({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:1,src:u}),c.is(":checked")?a=e.get("tpop_nr_label"):$("#layertree_tpop_name").is(":checked")&&(a=e.get("tpop_name")),r=new ol.style.Text({font:"bold 11px Arial, Verdana, Helvetica, sans-serif",text:a,fill:new ol.style.Fill({color:"black"}),stroke:new ol.style.Stroke({color:p,width:7})}),l=new ol.style.Style({image:s,text:r}),h=new ol.style.Style({image:s}),o=c.is(":checked")?l:$("#layertree_tpop_name").is(":checked")?l:h,[o]},window.apf.olmap.messe=function(e){"use strict";window.apf.olmap.deactivateMenuItems(),"line"===e.value&&e.checked?window.apf.olmap.addMeasureInteraction("LineString"):"polygon"===e.value&&e.checked?window.apf.olmap.addMeasureInteraction("Polygon"):window.apf.olmap.removeMeasureInteraction()},window.apf.olmap.removeMeasureInteraction=function(){window.apf.olmap.entferneLayerNachName("messen"),window.apf.olmap.map.removeInteraction(window.apf.olmap.drawMeasure),delete window.apf.olmap.drawMeasure,$("#ergebnisMessung").text(""),$(window.apf.olmap.map.getViewport()).off("mousemove")},window.apf.olmap.addMeasureInteraction=function(e){window.apf.olmap.removeMeasureInteraction();var t=new ol.source.Vector,i=new ol.layer.Vector({title:"messen",source:t,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"rgba(255, 0, 0, 1)",width:3,lineDash:[2,2],lineCap:"square"}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})})});window.apf.olmap.map.addLayer(i);var n,o=null,s=function(){if(o){var e,t=o.getGeometry();t instanceof ol.geom.Polygon?e=window.apf.olmap.formatArea(t):t instanceof ol.geom.LineString&&(e=window.apf.olmap.formatLength(t)),n.innerHTML=e}};$(window.apf.olmap.map.getViewport()).on("mousemove",s),window.apf.olmap.drawMeasure=new ol.interaction.Draw({source:t,type:e}),window.apf.olmap.map.addInteraction(window.apf.olmap.drawMeasure),window.apf.olmap.drawMeasure.on("drawstart",function(e){o=e.feature,n=document.createElement("li");var t=document.getElementById("ergebnisMessung");t.childNodes?t.insertBefore(n,t.firstChild):t.appendChild(n)},this),window.apf.olmap.drawMeasure.on("drawend",function(){o=null,n=null
},this)},window.apf.olmap.formatLength=function(e){var t,i=Math.round(100*e.getLength())/100;return t=i>100?Math.round(i/1e3*100)/100+" km":Math.round(100*i)/100+" m"},window.apf.olmap.formatArea=function(e){var t,i=e.getArea();return t=i>1e4?Math.round(i/1e6*100)/100+" km<sup>2</sup>":Math.round(100*i)/100+" m<sup>2</sup>"},window.apf.olmap.wähleAus=function(){window.apf.olmap.deactivateMenuItems(),window.apf.olmap.addSelectFeaturesInSelectableLayers()},window.apf.olmap.schliesseLayeroptionen=function(){"use strict";$("#olmap_layertree").accordion("option","active",!1)},window.apf.erstelleGemeindeliste=function(){"use strict";if(!window.apf.gemeinden){var e=$.ajax({type:"get",url:"api/v1/gemeinden",dataType:"json"});e.done(function(e){if(e){var t=_.map(e,function(e){return e.GmdName?e.GmdName:void 0});window.apf.gemeinden=t,$("#TPopGemeinde").autocomplete({source:t,delay:0,change:function(e){window.apf.speichern(e.target)}})}}),e.fail(function(){window.apf.melde("Fehler: Die Liste der Gemeinden konnte nicht bereitgestellt werden")})}},window.apf.wähleAp=function(t){"use strict";var i=e("./modules/initiiereAp");if(t)if($("#ap_waehlen_label").hide(),localStorage.ap_id=t,"programm_neu"===$("[name='programm_wahl']:checked").attr("id")){var n=$.ajax({type:"post",url:"api/v1/apInsert/ap="+localStorage.ap_id+"/user="+sessionStorage.User,dataType:"json"});n.done(function(){$("#programm_neu").attr("checked",!1),$("#programm_alle").attr("checked",!0),$("#programm_wahl").buttonset(),$.when(window.apf.wähleApListe("programm_alle")).then(function(){$.when(window.apf.erstelle_tree(localStorage.ap_id)).then(function(){$("#ap_waehlen").val(localStorage.ap_id),$("#ap_waehlen option[value ="+localStorage.ap_id+"]").attr("selected",!0),$("#ApArtId").val(localStorage.ap_id),i()})})}),n.fail(function(){window.apf.melde("Fehler: Keine Daten für Programme erhalten")})}else window.apf.erstelle_tree(t),$("#ap").show(),i();else $("#ap_waehlen_label").html("Artförderprogramm wählen:").show(),$("#tree").hide(),$("#suchen").hide(),$("#exportieren_2").hide(),$("#hilfe").hide(),$("#ap_loeschen").hide(),$("#exportieren_1").show(),$("#ap").hide(),window.apf.zeigeFormular(),history.pushState(null,null,"index.html")},window.apf.kopiereKoordinatenInPop=function(e,t){"use strict";if(e>1e5&&t>1e5){var i=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblPopulation/tabelleIdFeld=PopId/tabelleId="+localStorage.pop_id+"/feld=PopXKoord/wert="+e+"/user="+sessionStorage.User,dataType:"json"});i.done(function(){var e=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblPopulation/tabelleIdFeld=PopId/tabelleId="+localStorage.pop_id+"/feld=PopYKoord/wert="+t+"/user="+sessionStorage.User,dataType:"json"});e.done(function(){$("#kopiereKoordinatenInPopRueckmeldung").fadeIn("slow"),setTimeout(function(){$("#kopiereKoordinatenInPopRueckmeldung").fadeOut("slow")},3e3)}),e.fail(function(){window.apf.melde("Fehler: Y-Koordinate wurde nicht kopiert (die X-Koordinate offenbar schon)")})}),i.fail(function(){window.apf.melde("Fehler: Koordinaten wurden nicht kopiert")})}else window.apf.melde("Sie müssen zuerst Koordinaten erfassen","Koordinaten nicht kopiert")},window.apf.prüfeAnmeldung=function(){"use strict";var e=$("#anmeldung_name").val(),t=$("#anmeldung_passwort").val();delete sessionStorage.NurLesen,e&&t?$.ajax({type:"get",url:"api/v1/anmeldung/name="+e+"/pwd="+t,dataType:"json"}).done(function(t){t&&t.length>0?(sessionStorage.User=e,-1===t[0].NurLesen&&(sessionStorage.NurLesen=!0),$("#anmeldung_rueckmeldung").html("Willkommen "+e).addClass("ui-state-highlight"),setTimeout(function(){$("#anmelde_dialog").dialog("close",2e3)},1e3)):($("#anmeldung_rueckmeldung").html("Anmeldung gescheitert").addClass("ui-state-highlight"),setTimeout(function(){$("#anmeldung_rueckmeldung").removeClass("ui-state-highlight",1500)},500))}).fail(function(){window.apf.melde("Anmeldung gescheitert","Oops!")}):($("#anmeldung_rueckmeldung").html("Bitte Name und Passwort ausfüllen").addClass("ui-state-highlight"),setTimeout(function(){$("#anmeldung_rueckmeldung").removeClass("ui-state-highlight",1500)},500))},window.apf.erstelleLabelFürFeldkontrolle=function(e,t){"use strict";return"undefined"==typeof e&&(e="(kein Jahr)"),"undefined"==typeof t&&(t="(kein Typ)"),e+": "+t},window.apf.erstelleLabelFürMassnahme=function(e,t){"use strict";return"undefined"==typeof e&&(e="(kein Jahr)"),"undefined"==typeof t&&(t="(keine Beurteilung)"),e+": "+t},window.apf.erstelleFelderFürBeob=function(e,t){"use strict";var i="<h1>Informationen aus ";i+="infospezies"===t?"Info Spezies":"EvAB",i+=" (nicht veränderbar)</h1>";var n,o="<table>",s=["NO_ISFS","ESPECE","CUSTOM_TEXT_5_","OBJECTID","FNS_GISLAYER","FNS_ISFS","ID","FNS_JAHR","NOM_COMPLET","FAMILLE"];return $.each(e,function(e,t){!t&&0!==t||-1!==s.indexOf(e)||(n='<tr class="fieldcontain"><td class="label" style="padding-bottom:3px;"><label for="beobfelder_',n+=e,n+='">',n+=e,n+=':</label></td><td class="Datenfelder" style="padding-bottom:3px;"><input id="beobfelder_',n+=e,n+='" class="Datenfelder" type="text" readonly="readonly" value="',n+=t,n+='""></td></tr>',o+=n)}),o+="</table>",i+o},window.apf.erstelleIdAusDomAttributId=function(e){"use strict";var t=e.replace("ap_ordner_pop","").replace("ap_ordner_apziel","").replace("ap_ordner_erfkrit","").replace("ap_ordner_jber","").replace("ap_ordner_ber","").replace("ap_ordner_beob_nicht_beurteilt","").replace("ap_ordner_beob_nicht_zuzuordnen","").replace("idealbiotop","").replace("ap_ordner_assozarten","").replace("tpop_ordner_massnber","").replace("tpop_ordner_massn","").replace("tpopmassnber","").replace("pop_ordner_massnber","").replace("popmassnber","").replace("tpop_ordner_feldkontr","").replace("tpop_ordner_freiwkontr","").replace("tpopfreiwkontr","").replace("tpop_ordner_tpopber","").replace("tpopber","").replace("pop_ordner_popber","").replace("popber","").replace("tpop_ordner_beob_zugeordnet","").replace("beob","").replace("ber","");return e==t&&parseInt(t)&&parseInt(t)!=t&&console.log("window.apf.erstelleIdAusDomAttributId meldet: erhalten "+e+", zurückgegeben: "+t+". Die Regel in der function muss wohl angepasst werden"),t},window.apf.zeigeBeobKoordinatenImGisBrowser=function(){"use strict";var e,t,i=$("#beobfelder_FNS_XGIS"),n=$("#beobfelder_FNS_YGIS"),o=$("#beobfelder_COORDONNEE_FED_E"),s=$("#beobfelder_COORDONNEE_FED_N"),a=$("#TPopXKoord"),r=$("#TPopYKoord"),l=$("#PopXKoord"),h=$("#PopYKoord");i.val()&&n.val()?(e="//www.maps.zh.ch/?x="+i.val()+"&y="+n.val()+"&scale=3000&markers=ring",window.open(e,t="_blank")):o.val()&&s.val()?(e="//www.maps.zh.ch/?x="+o.val()+"&y="+s.val()+"&scale=3000&markers=ring",window.open(e,t="_blank")):a.val()&&r.val()?(e="//www.maps.zh.ch/?x="+a.val()+"&y="+r.val()+"&scale=3000&markers=ring",window.open(e,t="_blank")):l.val()&&h.val()?(e="//www.maps.zh.ch/?x="+l.val()+"&y="+h.val()+"&scale=3000&markers=ring",window.open(e,t="_blank")):window.apf.melde("Fehler: Keine Koordinaten zum Anzeigen","Aktion abgebrochen")},window.apf.beschrifteTPopMitNrFürKarte=function(e,t){"use strict";var i;return e=e||"?",i=t?e+"/"+t:e+"/?"},window.apf.melde=function(e,t){"use strict";var t=t||" ";$("#Meldung").html(e).attr("title",t).dialog({modal:!0,buttons:{Ok:function(){$(this).dialog("close")}}})},window.apf.frageObAktionRückgängigGemachtWerdenSoll=function(e){"use strict";$("#undelete_div").html(e+" <a href='#' id='undelete'>Rückgängig machen?</a>"),$(".undelete").show(),$(window).width()>1e3&&$("#forms").css("top","37px"),setTimeout(function(){$("#undelete_div").html(""),$(".undelete").hide(),$("#forms").css("top","")},3e4)},window.apf.insertNeuenNodeAufGleicherHierarchiestufe=function(t,i,n,o,s){"use strict";var a,r=e("./modules/initiiereFormularMitStrukturtyp");if(localStorage[n+"_id"]=o,delete window.apf[n],a=$.jstree._reference(i).create_node(i,"last",{data:s,attr:{id:o,typ:n}}),"pop"===n&&window.apf.insertOrdnerVonPop(a,o),"tpop"===n&&window.apf.insertOrdnerVonTPop(a,o),"apziel"===n&&$.jstree._reference(a).create_node(a,"last",{data:"0 Ziel-Berichte",attr:{id:o,typ:"zielber_ordner"}}),"apziel"===n){var l=$.jstree._reference(i)._get_parent(i);window.apf.beschrifte_ordner_apziel(l),"neue AP-Ziele"!==$.jstree._reference(i).get_text(i)&&window.apf.beschrifte_ordner_apzieljahr(i)}else window.apf["beschrifte_ordner_"+n](i);$.jstree._reference(t).deselect_all(),$.jstree._reference(a).select_node(a),r(n)},window.apf.insertNeuenNodeEineHierarchiestufeTiefer=function(t,i,n,o,s){"use strict";var a,r=e("./modules/initiiereFormularMitStrukturtyp");if(localStorage[n+"_id"]=o,delete window.apf[n],"apziel"===n&&localStorage.apziel_von_ordner_apziel){var l=$.jstree._reference(t).create_node(t,"last",{data:"neue AP-Ziele",attr:{id:window.apf.erstelleIdAusDomAttributId($(t).attr("id")),typ:"apzieljahr"}});a=$.jstree._reference(l).create_node(l,"last",{data:s,attr:{id:o,typ:n}}),delete localStorage.apziel_von_ordner_apziel}else a=$.jstree._reference(t).create_node(t,"last",{data:s,attr:{id:o,typ:n}});"pop"===n&&window.apf.insertOrdnerVonPop(a,o),"tpop"===n&&window.apf.insertOrdnerVonTPop(a,o),"apziel"===n&&$.jstree._reference(a).create_node(a,"last",{data:"0 Ziel-Berichte",attr:{id:o,typ:"zielber_ordner"}}),"apziel"===n&&localStorage.apziel_von_apzieljahr?("neue AP-Ziele"!==$.jstree._reference(i).get_text(i)&&window.apf.beschrifte_ordner_apziel(i),window.apf.beschrifte_ordner_apzieljahr(t),delete localStorage.apziel_von_apzieljahr):"jber_uebersicht"!==n&&window.apf["beschrifte_ordner_"+n](t),$.jstree._reference(t).deselect_all(),$.jstree._reference(a).select_node(a),r(n)},window.apf.insertOrdnerVonPop=function(e,t){"use strict";$.jstree._reference(e).create_node(e,"last",{data:"Teilpopulationen",attr:{id:t,typ:"pop_ordner_tpop"}}),$.jstree._reference(e).create_node(e,"last",{data:"Populations-Berichte",attr:{id:t,typ:"pop_ordner_popber"}}),$.jstree._reference(e).create_node(e,"last",{data:"Massnahmen-Berichte",attr:{id:t,typ:"pop_ordner_massnber"}})},window.apf.insertOrdnerVonTPop=function(e,t){"use strict";$.jstree._reference(e).create_node(e,"last",{data:"Massnahmen",attr:{id:t,typ:"tpop_ordner_massn"}}),$.jstree._reference(e).create_node(e,"last",{data:"Massnahmen-Berichte",attr:{id:t,typ:"tpop_ordner_massnber"}}),$.jstree._reference(e).create_node(e,"last",{data:"Feldkontrollen",attr:{id:t,typ:"tpop_ordner_feldkontr"}}),$.jstree._reference(e).create_node(e,"last",{data:"Freiwilligen-Kontrollen",attr:{id:t,typ:"tpop_ordner_freiwkontr"}}),$.jstree._reference(e).create_node(e,"last",{data:"Teilpopulations-Berichte",attr:{id:t,typ:"tpop_ordner_tpopber"}}),$.jstree._reference(e).create_node(e,"last",{data:"Beobachtungen",attr:{id:t,typ:"tpop_ordner_beob_zugeordnet"}})},window.apf.löscheAp=function(e){"use strict";window.apf.deleted=window.apf,window.apf.deleted.typ="ap",window.apf.deleted.Artname=$("#ap_waehlen option[value='"+$("#ap_waehlen").val()+"']").text();var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblAktionsplan/tabelleIdFeld=ApArtId/tabelleId="+e,dataType:"json"});t.done(function(){var e=$("#exportieren_2");delete localStorage.ap_id,delete window.apf.ap,delete localStorage.ap,$("#programm_neu").attr("checked",!1).trigger("change"),$("#programm_alle").attr("checked",!0).trigger("change"),$("#programm_wahl").buttonset(),window.apf.erstelle_ap_liste("programm_alle"),$("#ap_waehlen").val(""),$("#ap_waehlen_label").html("Artförderprogramm wählen:").show(),$("#tree").hide(),$("#suchen").hide(),e.hide(),$("#hilfe").hide(),$("#ap_loeschen").hide(),e.show(),$("#ap").hide(),$("#forms").hide(),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Das Programm der Art '"+window.apf.deleted.Artname+"' wurde gelöscht."),delete window.apf.deleted.Artname,window.apf.zeigeFormular("keines")}),t.fail(function(){window.apf.melde("Fehler: Das Programm wurde nicht gelöscht")})},window.apf.undeleteDatensatz=function(){"use strict";var e,t,i,n={};if(!window.apf.deleted)return window.apf.melde("Wiederherstellung gescheitert","Fehler"),!1;switch(delete window.apf.deleted.Artname,t=window.apf.deleted.typ,delete window.apf.deleted.typ,t){case"ap":e="tblAktionsplan",i=window.apf.deleted.ApArtId,delete window.apf.deleted.Artname;break;case"apziel":e="tblZiel",i=window.apf.deleted.ZielId;break;case"zielber":e="tblZielBericht",i=window.apf.deleted.ZielBerId;break;case"erfkrit":e="tblErfKrit",i=window.apf.deleted.ErfkritId;break;case"pop":e="tblPopulation",i=window.apf.deleted.PopId;break;case"popber":e="tblPopBericht",i=window.apf.deleted.PopBerId;break;case"popmassnber":e="tblPopMassnBericht",i=window.apf.deleted.PopMassnBerId;break;case"tpop":e="tblTeilpopulation",i=window.apf.deleted.TPopId;break;case"tpopmassn":e="tblTeilPopMassnahme",i=window.apf.deleted.TPopMassnId;break;case"tpopmassnber":e="tblTeilPopMassnBericht",i=window.apf.deleted.TPopMassnBerId;break;case"tpopber":e="tblTeilPopBericht",i=window.apf.deleted.TPopBerId;break;case"tpopfeldkontr":case"tpopfreiwkontr":e="tblTeilPopFeldkontrolle",i=window.apf.deleted.TPopKontrId;break;case"jber":e="tblJBer",i=window.apf.deleted.JBerId;break;case"jber_uebersicht":e="tblJBerUebersicht",i=window.apf.deleted.JbuJahr;break;case"ber":e="tblBer",i=window.apf.deleted.BerId;break;case"assozarten":e="tblAssozArten",i=window.apf.deleted.AaId;break;default:window.apf.melde("Wiederherstellung gescheitert","Fehler")}_.each(window.apf.deleted,function(e,t){e&&(n[t]=e)});$.ajax({type:"post",url:"api/v1/insertMultiple/apflora/tabelle="+e+"/felder="+JSON.stringify(n),dataType:"json"}).done(function(){$(".undelete").hide(),$("#forms").css("top",""),"ap"===t?(window.apf.zeigeFormular(),window.apf.initiiere_index(),window.apf.zeigeFormular("ap"),history.pushState(null,null,"index.html?ap="+i)):$.when(window.apf.erstelle_tree(localStorage.ap_id)).then(function(){$("#tree").jstree("select_node","[typ='"+t+"']#"+i)})}).fail(function(){window.apf.melde("Fehler: Wiederherstellung gescheitert")})},window.apf.olmap.exportiereKarte=function(){"use strict";var e=document.getElementById("olmap_exportieren");if("download"in e)e.addEventListener("click",function(){window.apf.olmap.map.once("postcompose",function(t){var i=t.context.canvas;e.href=i.toDataURL("image/png")}),window.apf.olmap.map.renderSync()},!1),window.apf.olmap.recentlyClicked||(window.apf.olmap.recentlyClicked=!0,setTimeout(function(){e.click()},200));else{var t='Der Download ist nur möglich, wenn Ihr Browser das moderne Download-Attribut unterstützt <a href="http://caniuse.com/#feat=download">(hier eine aktuelle Liste der unterstützenden Browser)</a>';window.apf.melde(t,"Export abgebrochen")}},window.apf.treeKontextmenu=function(t){var i,n,o,s,a,r,l=e("./modules/zeigeTPop");switch(n=$("#tree").jstree("get_selected"),o=$.jstree._reference(n).get_text(n),"ap_ordner"!==$(n).attr("typ").slice(0,9)&&"idealbiotop"!==$(n).attr("typ")&&(s=$.jstree._reference(n)._get_parent(n),a=$.jstree._reference(s).get_text(s)),$(n).attr("typ")){case"ap_ordner_pop":return i={untergeordneteKnotenOeffnen:{label:"untergeordnete Knoten öffnen",icon:"style/images/tree16x16.png",action:function(){$.jstree._reference(t).open_all(t)}},neu:{label:"neue Population",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblPopulation/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="pop",i="neue Population";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Population erstellt")})}},GeoAdminMaps:{label:"auf CH-Karten zeigen",separator_before:!0,icon:"style/images/flora_icon_gelb.png",action:function(){var e=$.ajax({type:"get",url:"api/v1/popsChKarte/apId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});e.done(function(e){e&&e.length>0?window.apf.zeigePopAufOlmap(e):window.apf.melde("Die Population hat keine Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},GoogleMaps:{label:"auf Google-Karten zeigen",separator_before:!0,icon:"style/images/flora_icon.png",action:function(){var e=$.ajax({type:"get",url:"api/v1/apKarte/apId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});e.done(function(e){e&&e.length>0?l(e):window.apf.melde("Es gibt keine Teilpopulation mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}}},window.apf.pop_zum_verschieben_gemerkt&&(i.einfuegen={label:"'"+window.apf.pop_bezeichnung+"' einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblPopulation/tabelleIdFeld=PopId/tabelleId="+window.apf.pop_id+"/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(){$.when(window.apf.erstelle_tree(window.apf.erstelleIdAusDomAttributId($(n).attr("id")))).then(function(){$("#tree").jstree("select_node","[typ='pop']#"+localStorage.pop_id)}),delete window.apf.pop_zum_verschieben_gemerkt,delete window.apf.pop_bezeichnung,delete window.apf.pop_id}),e.fail(function(){window.apf.melde("Fehler: Die Population wurde nicht verschoben")})}}),i;case"ap_ordner_apziel":return i={untergeordneteKnotenOeffnen:{label:"untergeordnete Knoten öffnen",icon:"style/images/tree16x16.png",action:function(){$.jstree._reference(t).open_all(t)}},neu:{label:"neues Ziel",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblZiel/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="apziel",i="neues Ziel";localStorage.apziel_von_ordner_apziel=!0,delete localStorage.apziel_von_apzieljahr,window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neues AP-Ziel erstellt")})}}};case"apzieljahr":return i={untergeordneteKnotenOeffnen:{label:"untergeordnete Knoten öffnen",icon:"style/images/tree16x16.png",action:function(){$.jstree._reference(t).open_all(t)}},neu:{label:"neues Ziel",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblZiel/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="apziel",i="neues Ziel";localStorage.apziel_von_apzieljahr=!0,delete localStorage.apziel_von_ordner_apziel,window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neues Ziel erstellt")})}}};case"apziel":return i={neu:{label:"neues Ziel",icon:"style/images/neu.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){r=$.jstree._reference(s)._get_parent(s);var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblZiel/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(r).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="apziel",i="neues Ziel";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Kein neues AP-Ziel erstellt")})}}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){$.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n);var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Das AP-Ziel '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.apziel,window.apf.deleted.typ="apziel";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblZiel/tabelleIdFeld=ZielId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.apziel_id,delete window.apf.apziel,$.jstree._reference(n).delete_node(n),r=$.jstree._reference(s)._get_parent(s),window.apf.beschrifte_ordner_apziel(r),"neue AP-Ziele"!==$.jstree._reference(s).get_text(s)&&window.apf.beschrifte_ordner_apzieljahr(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Das AP-Ziel '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Das AP-Ziel wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"zielber_ordner":return i={neu:{label:"neuer Ziel-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblZielBericht/feld=ZielId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="zielber",i="neuer Ziel-Bericht";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Ziel-Bericht erstellt")})}}};case"zielber":return i={neu:{label:"neuer Ziel-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblZielBericht/feld=ZielId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="zielber",i="neuer Ziel-Bericht";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Ziel-Bericht erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){$.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n);var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Der Ziel-Bericht '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.zielber,window.apf.deleted.typ="zielber";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblZielBericht/tabelleIdFeld=ZielBerId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.zielber_id,delete window.apf.zielber,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_zielber(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Der Ziel-Bericht '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Der Ziel-Bericht wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"ap_ordner_erfkrit":return i={neu:{label:"neues Erfolgskriterium",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblErfKrit/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="erfkrit",i="neues Erfolgskriterium";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Kein neues Erfolgskriterium erstellt")})}}};case"erfkrit":return i={neu:{label:"neues Erfolgskriterium",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblErfKrit/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="erfkrit",i="neues Erfolgskriterium";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Kein neues Erfolgskriterium erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){$.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n);var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Das Erfolgskriterium '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.erfkrit,window.apf.deleted.typ="erfkrit";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblErfKrit/tabelleIdFeld=ErfkritId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.erfkrit_id,delete window.apf.erfkrit,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_erfkrit(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Das Erfolgskriterium '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Das Erfolgskriterium wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"ap_ordner_jber":return i={untergeordneteKnotenOeffnen:{label:"untergeordnete Knoten öffnen",icon:"style/images/tree16x16.png",action:function(){$.jstree._reference(t).open_all(t)}},neu:{label:"neuer AP-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblJBer/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="jber",i="neuer AP-Bericht";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen AP-Bericht erstellt")})}}};case"jber":return i={neu:{label:"neuer AP-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblJBer/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="jber",i="neuer AP-Bericht";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen AP-Bericht erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){$.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n);var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Der AP-Bericht '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.jber,window.apf.deleted.typ="jber";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblJBer/tabelleIdFeld=JBerId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.jber_id,delete window.apf.jber,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_jber(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Der AP-Bericht '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Der AP-Bericht wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}},0===$.jstree._reference(n)._get_children(n).length&&(i.neu_jber_uebersicht={label:"neue Übersicht zu allen Arten",separator_before:!0,icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblJBerUebersicht/feld=JbuJahr/wert="+$.jstree._reference(n).get_text(n)+"/user="+sessionStorage.User,dataType:"json"});e.done(function(){var e="jber_uebersicht",t=$.jstree._reference(n).get_text(n),i="neue Übersicht zu allen Arten";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,e,t,i)}),e.fail(function(){window.apf.melde("Fehler: Keine Übersicht zu allen Arten erstellt")})}}),i;case"jber_uebersicht":return i={loeschen:{label:"lösche Übersicht zu allen Arten",icon:"style/images/loeschen.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&($.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n),$("#loeschen_dialog_mitteilung").html("Die Übersicht zu allen Arten wird gelöscht"),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.jber_übersicht,window.apf.deleted.typ="jber_uebersicht";var e=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblJBerUebersicht/tabelleIdFeld=JbuJahr/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});e.done(function(){delete localStorage.jber_uebersicht_id,delete window.apf.jber_übersicht,$.jstree._reference(n).delete_node(n),window.apf.frageObAktionRückgängigGemachtWerdenSoll('Die Übersicht für den AP-Bericht des Jahrs "'+window.apf.deleted.JbuJahr+'" wurde gelöscht.')}),e.fail(function(){window.apf.melde("Fehler: Die Übersicht zu allen Arten wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}}))}}};case"ap_ordner_ber":return i={neu:{label:"neuer Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblBer/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="ber",i="neuer Bericht";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Bericht erstellt")})}}};case"ber":return i={neu:{label:"Neuer Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblBer/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="ber",i="neuer Bericht";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Bericht erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){$.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n);var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Der Bericht '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.ber,window.apf.deleted.typ="ber";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblBer/tabelleIdFeld=BerId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.ber_id,delete window.apf.ber,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_ber(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Der Bericht '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Der Bericht wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"ap_ordner_assozarten":return i={neu:{label:"neue assoziierte Art",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblAssozArten/feld=AaApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="assozarten",i="neue assoziierte Art";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: keine assoziierte Art erstellt")})}}};case"assozarten":return i={neu:{label:"neue assoziierte Art",icon:"style/images/neu.png",action:function(){$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblAssozArten/feld=AaApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"}).done(function(e){var t="assozarten",i="neue assoziierte Art";
window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}).fail(function(){window.apf.melde("Fehler: Keine assoziierte Art erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){$.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n);var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Die assoziierte Art '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.assozarten,window.apf.deleted.typ="assozarten";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblAssozArten/tabelleIdFeld=AaId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){console.log("assozart gelöscht"),delete localStorage.assozarten_id,delete window.apf.assozarten,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_assozarten(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Die assoziierte Art '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Die assoziierte Art wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"pop":return i={neu:{label:"neue Population",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblPopulation/feld=ApArtId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="pop",i="neue Population";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Population erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){$.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n);var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Die Population '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.pop,window.apf.deleted.typ="pop";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblPopulation/tabelleIdFeld=PopId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.pop_id,delete window.apf.pop,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_pop(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Population '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Die Population wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}},GeoAdminMaps:{label:"auf CH-Karten zeigen",separator_before:!0,icon:"style/images/flora_icon_gelb.png",action:function(){var e=$.ajax({type:"get",url:"api/v1/popChKarte/popId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});e.done(function(e){e&&e.length>0?window.apf.zeigePopAufOlmap(e):window.apf.melde("Die Population hat keine Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Populationen erhalten")})}},GoogleMaps:{label:"auf Google-Karten zeigen",separator_before:!0,icon:"style/images/flora_icon.png",action:function(){var e=$.ajax({type:"get",url:"api/v1/popKarte/popId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});e.done(function(e){e&&e.length>0?l(e):window.apf.melde("Es gibt keine Teilpopulation mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Teilpopulationen erhalten")})}}},window.apf.pop_zum_verschieben_gemerkt||(i.ausschneiden={label:"zum Verschieben merken",separator_before:!0,icon:"style/images/ausschneiden.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&(window.apf.pop_id=window.apf.erstelleIdAusDomAttributId($(n).attr("id")),window.apf.pop_zum_verschieben_gemerkt=!0,window.apf.pop_bezeichnung=$("#PopNr").val()+" "+$("#PopName").val())}}),window.apf.pop_zum_verschieben_gemerkt&&(i.einfuegen={label:"'"+window.apf.pop_bezeichnung+"' einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){var e=window.apf.pop_id,t=window.apf.erstelleIdAusDomAttributId($(s).attr("id")),i=$.ajax({type:"post",url:"api/v1/update/apflora/tabelle=tblPopulation/tabelleIdFeld=PopId/tabelleId="+e+"/feld=ApArtId/wert="+t+"/user="+sessionStorage.User,dataType:"json"});i.done(function(){$.when(window.apf.erstelle_tree(t)).then(function(){$("#tree").jstree("select_node","[typ='pop']#"+e)}),delete window.apf.pop_zum_verschieben_gemerkt,delete window.apf.pop_bezeichnung,delete window.apf.pop_id}),i.fail(function(){window.apf.melde("Fehler: Die Population wurde nicht verschoben")})}}),i;case"pop_ordner_tpop":return i={untergeordneteKnotenOeffnen:{label:"untergeordnete Knoten öffnen",icon:"style/images/tree16x16.png",action:function(){$.jstree._reference(t).open_all(t)}},neu:{label:"neue Teilpopulation",icon:"style/images/neu.png",action:function(){$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilpopulation/feld=PopId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"}).done(function(e){var t="tpop",i="neue Teilpopulation";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}).fail(function(){window.apf.melde("Fehler: Keine neue Teilpopulation erstellt")})}},GeoAdminMaps:{label:"auf CH-Karten zeigen",separator_before:!0,icon:"style/images/flora_icon_gelb.png",action:function(){$.ajax({type:"get",url:"api/v1/tpopsKarte/popId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"}).done(function(e){e.length>0?window.apf.zeigeTPopAufOlmap(e):window.apf.melde("Es gibt keine Teilpopulation mit Koordinaten","Aktion abgebrochen")}).fail(function(){window.apf.melde("Fehler: Keine Teilpopulationen erhalten")})}},GoogleMaps:{label:"auf Google-Karten zeigen",separator_before:!0,icon:"style/images/flora_icon.png",action:function(){var e=$.ajax({type:"get",url:"api/v1/popKarte/popId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});e.done(function(e){e&&e.length>0?l(e):window.apf.melde("Es gibt keine Teilpopulation mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Teilpopulationen erhalten")})}}},window.apf.tpop_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.tpop_node_ausgeschnitten).get_text(window.apf.tpop_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(n).move_node(window.apf.tpop_node_ausgeschnitten,n,"first",!1)}}),window.apf.tpop_node_kopiert&&(h="",h+=window.apf.tpop_objekt_kopiert.TPopNr?window.apf.tpop_objekt_kopiert.TPopNr:"(keine Nr.)",h+=": ",h+=window.apf.tpop_objekt_kopiert.TPopFlurname?window.apf.tpop_objekt_kopiert.TPopFlurname:"(kein Flurname)",i.einfuegen={label:h+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){window.apf.tpopKopiertInPopOrdnerTpopEinfügen(n)}}),i;case"tpop":if(i={untergeordneteKnotenOeffnen:{label:"untergeordnete Knoten öffnen",icon:"style/images/tree16x16.png",action:function(){$.jstree._reference(t).open_all(t)}},neu:{label:"neue Teilpopulation",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilpopulation/feld=PopId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpop",i="neue Teilpopulation";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Teilpopulation erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){$.jstree._reference(n).deselect_all(),$.jstree._reference(n).open_all(n),$.jstree._reference(n).deselect_all(),$.jstree._reference(n).select_node(n);var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Die Teilpopulation '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.tpop,window.apf.deleted.typ="tpop";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblTeilpopulation/tabelleIdFeld=TPopId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.tpop_id,delete window.apf.tpop,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_tpop(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Teilpopulation '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}},GeoAdminMaps:{label:"auf CH-Karten zeigen",separator_before:!0,icon:"style/images/flora_icon_gelb.png",action:function(){$.ajax({type:"get",url:"api/v1/tpopKarte/tpopId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"}).done(function(e){e.length>0?window.apf.zeigeTPopAufOlmap(e):window.apf.melde("Die Teilpopulation hat keine Koordinaten","Aktion abgebrochen")}).fail(function(){window.apf.melde("Fehler: Keine Teilpopulationen erhalten")})}},verortenGeoAdmin:{label:"auf CH-Karten verorten",separator_before:!0,icon:"style/images/flora_icon_rot.png",action:function(){var e=$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilpopulation/feld=TPopId/wertNumber="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});e.done(function(e){window.apf.verorteTPopAufOlmap(e[0])}),e.fail(function(){window.apf.melde("Fehler: Keine Teilpopulation erhalten")})}},GoogleMaps:{label:"auf Google-Karten zeigen",separator_before:!0,icon:"style/images/flora_icon.png",action:function(){$.ajax({type:"get",url:"api/v1/tpopKarte/tpopId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"}).done(function(e){e.length>0?l(e):window.apf.melde("Die Teilpopulation hat keine Koordinaten","Aktion abgebrochen")}).fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},verorten:{label:"auf Google-Karten verorten",separator_before:!0,icon:"style/images/flora_icon_rot.png",action:function(){var e=$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilpopulation/feld=TPopId/wertNumber="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});e.done(function(e){window.apf.gmap.verorteTPop(e[0])}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},GisBrowser:{label:"im GIS-Browser zeigen",separator_before:!0,icon:"style/images/wappen_zuerich.png",action:function(){window.apf.zeigeBeobKoordinatenImGisBrowser()}}},window.apf.tpop_node_ausgeschnitten||(i.ausschneiden={label:"ausschneiden",separator_before:!0,icon:"style/images/ausschneiden.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&(window.apf.tpop_node_ausgeschnitten=n,delete window.apf.tpop_node_kopiert,delete window.apf.tpop_objekt_kopiert)}}),window.apf.tpop_node_ausgeschnitten||(i.kopieren={label:"kopieren",separator_before:!0,icon:"style/images/kopieren.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){window.apf.tpop_node_kopiert=n;var e=$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilpopulation/feld=TPopId/wertNumber="+window.apf.erstelleIdAusDomAttributId($(tpop_node_kopiert).attr("id")),dataType:"json"});e.done(function(e){window.apf.tpop_objekt_kopiert=e[0]}),e.fail(function(){window.apf.melde("Fehler: Die Teilpopulation wurde nicht kopiert")})}}}),window.apf.tpop_node_kopiert){var h="";h+=window.apf.tpop_objekt_kopiert.TPopNr?window.apf.tpop_objekt_kopiert.TPopNr:"(keine Nr.)",h+=": ",h+=window.apf.tpop_objekt_kopiert.TPopFlurname?window.apf.tpop_objekt_kopiert.TPopFlurname:"(kein Flurname)",i.einfuegen={label:h+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){window.apf.tpopKopiertInPopOrdnerTpopEinfügen(s)}}}return window.apf.tpop_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.tpop_node_ausgeschnitten).get_text(window.apf.tpop_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(s).move_node(window.apf.tpop_node_ausgeschnitten,s,"first",!1)}}),i;case"pop_ordner_popber":return i={neu:{label:"neuer Populations-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblPopBericht/feld=PopId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="popber",i="neuer Populations-Bericht";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Populations-Bericht erstellt")})}}};case"popber":return i={neu:{label:"neuer Populations-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblPopBericht/feld=PopId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="popber",i="neuer Populations-Bericht";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Populations-Bericht erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Der Populations-Bericht '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.popber,window.apf.deleted.typ="popber";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblPopBericht/tabelleIdFeld=PopBerId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.popber_id,delete window.apf.popber,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_popber(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Der Populations-Bericht '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Der Populations-Bericht wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"pop_ordner_massnber":return i={neu:{label:"neuer Massnahmen-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblPopMassnBericht/feld=PopId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="popmassnber",i="neuer Massnahmen-Bericht";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Es wurde kein neuer Massnahmen-Bericht erstellt")})}}};case"popmassnber":return i={neu:{label:"neuer Massnahmen-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblPopMassnBericht/feld=PopId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="popmassnber",i="neuer Massnahmen-Bericht";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Es wurde kein neuer Massnahmen-Bericht erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Der Massnahmen-Bericht '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.popmassnber,window.apf.deleted.typ="popmassnber";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblPopMassnBericht/tabelleIdFeld=PopMassnBerId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.popmassnber_id,delete window.apf.popmassnber,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_popmassnber(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Der Massnahmen-Bericht '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Der Massnahmen-Bericht wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"tpop_ordner_feldkontr":return i={neu:{label:"neue Feldkontrolle",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/feldkontr/tpopId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/tpopKontrtyp=tpopfeldkontr/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopfeldkontr",i="neue Feldkontrolle";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Feldkontrolle erstellt")})}}},window.apf.tpopfeldkontr_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopfeldkontr_node_ausgeschnitten).get_text(window.apf.tpopfeldkontr_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(n).move_node(window.apf.tpopfeldkontr_node_ausgeschnitten,n,"first",!1)}}),window.apf.tpopfeldkontr_node_kopiert&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopfeldkontr_node_kopiert).get_text(window.apf.tpopfeldkontr_node_kopiert)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.ajax({type:"post",url:"api/v1/tpopfeldkontrInsertKopie/tpopId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/tpopKontrId="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopfeldkontr_node_kopiert).attr("id"))+"/user="+sessionStorage.User,dataType:"json"}).done(function(e){var t="tpopfeldkontr",i=window.apf.erstelleLabelFürFeldkontrolle(window.apf.tpopfeldkontr_objekt_kopiert.TPopKontrJahr,window.apf.tpopfeldkontr_objekt_kopiert.TPopKontrTyp);window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}).fail(function(){window.apf.melde("Fehler: Die Feldkontrolle wurde nicht erstellt")})}}),i;case"tpopfeldkontr":return i={neu:{label:"neue Feldkontrolle",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/feldkontr/tpopId="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/tpopKontrtyp=tpopfeldkontr/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopfeldkontr",i="neue Feldkontrolle";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Feldkontrolle erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Die Feldkontrolle '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.tpopfeldkontr,window.apf.deleted.typ="tpopfeldkontr";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblTeilPopFeldkontrolle/tabelleIdFeld=TPopKontrId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.tpopfeldkontr_id,delete window.apf.tpopfeldkontr,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_tpopfeldkontr(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Die Feldkontrolle '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Die Feldkontrolle wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}},biotop_kopieren:{label:"Biotop kopieren",separator_before:!0,icon:"style/images/kopieren.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){delete window.apf.feldkontr_biotop,window.apf.feldkontr_biotop={};var e=$("#TPopKontrFlaeche");e.val()&&(window.apf.feldkontr_biotop.TPopKontrFlaeche=e.val());var t=$("#TPopKontrLeb");t.val()&&(window.apf.feldkontr_biotop.TPopKontrLeb=t.val());var i=$("#TPopKontrLebUmg");i.val()&&(window.apf.feldkontr_biotop.TPopKontrLebUmg=i.val());var n=$("#TPopKontrVegTyp");n.val()&&(window.apf.feldkontr_biotop.TPopKontrVegTyp=n.val());var o=$("#TPopKontrKonkurrenz");o.val()&&(window.apf.feldkontr_biotop.TPopKontrKonkurrenz=o.val());var s=$("#TPopKontrMoosschicht");s.val()&&(window.apf.feldkontr_biotop.TPopKontrMoosschicht=s.val());var a=$("#TPopKontrKrautschicht");a.val()&&(window.apf.feldkontr_biotop.TPopKontrKrautschicht=a.val());var r=$("#TPopKontrStrauchschicht");r.val()&&(window.apf.feldkontr_biotop.TPopKontrStrauchschicht=r.val());var l=$("#TPopKontrBaumschicht");l.val()&&(window.apf.feldkontr_biotop.TPopKontrBaumschicht=l.val());var h=$("#TPopKontrBodenTyp");h.val()&&(window.apf.feldkontr_biotop.TPopKontrBodenTyp=h.val());var u=$("#TPopKontrBodenKalkgehalt");u.val()&&(window.apf.feldkontr_biotop.TPopKontrBodenKalkgehalt=u.val()),$("#TPopKontrBodenDurchlaessigkeit").val()&&(window.apf.feldkontr_biotop.TPopKontrBodenDurchlaessigkeit=$("#TPopKontrBodenDurchlaessigkeit").val()),$("#TPopKontrBodenHumus").val()&&(window.apf.feldkontr_biotop.TPopKontrBodenHumus=$("#TPopKontrBodenHumus").val()),$("#TPopKontrBodenNaehrstoffgehalt").val()&&(window.apf.feldkontr_biotop.TPopKontrBodenNaehrstoffgehalt=$("#TPopKontrBodenNaehrstoffgehalt").val()),$("#TPopKontrBodenAbtrag").val()&&(window.apf.feldkontr_biotop.TPopKontrBodenAbtrag=$("#TPopKontrBodenAbtrag").val()),$("#TPopKontrWasserhaushalt").val()&&(window.apf.feldkontr_biotop.TPopKontrWasserhaushalt=$("#TPopKontrWasserhaushalt").val()),$("#TPopKontrHandlungsbedarf").val()&&(window.apf.feldkontr_biotop.TPopKontrHandlungsbedarf=$("#TPopKontrHandlungsbedarf").val())}}}},window.apf.feldkontr_biotop&&(i.biotop_einfuegen={label:"Biotop einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){var e={};e.id=window.apf.erstelleIdAusDomAttributId($(n).attr("id")),e.user=sessionStorage.User,window.apf.prüfeSchreibvoraussetzungen()&&(_.each(window.apf.feldkontr_biotop,function(t,i){$("#"+i).val(t),e[i]=t}),$.ajax({type:"post",url:"api/v1/updateMultiple/apflora/tabelle=tblTeilPopFeldkontrolle/felder="+JSON.stringify(e),dataType:"json"}).fail(function(){window.apf.melde("Fehler: Das kopierte Biotop wurde nicht eingefügt")}))}}),window.apf.tpopfeldkontr_node_ausgeschnitten||(i.ausschneiden={label:"ausschneiden",separator_before:!0,icon:"style/images/ausschneiden.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&(window.apf.tpopfeldkontr_node_ausgeschnitten=n,delete window.apf.tpopfeldkontr_node_kopiert,delete window.apf.tpopfeldkontr_objekt_kopiert)}}),window.apf.tpopfeldkontr_node_ausgeschnitten||(i.kopieren={label:"kopieren",separator_before:!0,icon:"style/images/kopieren.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){window.apf.tpopfeldkontr_node_kopiert=n;var e=$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopFeldkontrolle/feld=TPopKontrId/wertNumber="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopfeldkontr_node_kopiert).attr("id")),dataType:"json"});e.done(function(e){window.apf.tpopfeldkontr_objekt_kopiert=e[0]}),e.fail(function(){window.apf.melde("Fehler: Die Feldkontrolle wurde nicht kopiert")})}}}),window.apf.tpopfeldkontr_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopfeldkontr_node_ausgeschnitten).get_text(window.apf.tpopfeldkontr_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(s).move_node(window.apf.tpopfeldkontr_node_ausgeschnitten,s,"first",!1)}}),window.apf.tpopfeldkontr_node_kopiert&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopfeldkontr_node_kopiert).get_text(window.apf.tpopfeldkontr_node_kopiert)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.ajax({type:"post",url:"api/v1/tpopfeldkontrInsertKopie/tpopId="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/tpopKontrId="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopfeldkontr_node_kopiert).attr("id"))+"/user="+sessionStorage.User,dataType:"json"}).done(function(e){var t="tpopfeldkontr",i=window.apf.erstelleLabelFürFeldkontrolle(window.apf.tpopfeldkontr_objekt_kopiert.TPopKontrJahr,window.apf.tpopfeldkontr_objekt_kopiert.TPopKontrTyp);window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}).fail(function(){window.apf.melde("Fehler: Die Feldkontrolle wurde nicht erstellt")})}}),i;case"tpop_ordner_freiwkontr":return i={neu:{label:"neue Freiwilligen-Kontrolle",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/feldkontr/tpopId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/tpopKontrtyp=tpopfreiwkontr/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopfreiwkontr",i="neue Freiwilligen-Kontrolle";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Freiwilligen-Kontrolle erstellt")})}}},window.apf.tpopfreiwkontr_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopfreiwkontr_node_ausgeschnitten).get_text(window.apf.tpopfreiwkontr_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(n).move_node(window.apf.tpopfreiwkontr_node_ausgeschnitten,n,"first",!1)}}),window.apf.tpopfreiwkontr_node_kopiert&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopfreiwkontr_node_kopiert).get_text(window.apf.tpopfreiwkontr_node_kopiert)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.ajax({type:"post",url:"api/v1/tpopfeldkontrInsertKopie/tpopId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/tpopKontrId="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopfreiwkontr_node_kopiert).attr("id"))+"/user="+sessionStorage.User,dataType:"json"}).done(function(e){var t="tpopfreiwkontr",i=window.apf.tpopfreiwkontr_objekt_kopiert.TPopKontrJahr;window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}).fail(function(){window.apf.melde("Fehler: Die Freiwilligen-Kontrolle wurde nicht erstellt")})}}),i;case"tpopfreiwkontr":return i={neu:{label:"neue Freiwilligen-Kontrolle",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/feldkontr/tpopId="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/tpopKontrtyp=tpopfreiwkontr/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopfreiwkontr",i="neue Freiwilligen-Kontrolle";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Freiwilligen-Kontrolle erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Die Freiwilligen-Kontrolle '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.tpopfeldkontr,window.apf.deleted.typ="tpopfreiwkontr";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblTeilPopFeldkontrolle/tabelleIdFeld=TPopKontrId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.tpopfeldkontr_id,delete localStorage.tpopfreiwkontr,delete window.apf.tpopfeldkontr,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_tpopfreiwkontr(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Die Freiwilligen-Kontrolle '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Die Freiwilligen-Kontrolle wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}},window.apf.tpopfreiwkontr_node_ausgeschnitten||(i.ausschneiden={label:"ausschneiden",separator_before:!0,icon:"style/images/ausschneiden.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&(window.apf.tpopfreiwkontr_node_ausgeschnitten=n,delete window.apf.tpopfreiwkontr_node_kopiert,delete window.apf.tpopfreiwkontr_objekt_kopiert)}}),window.apf.tpopfreiwkontr_node_ausgeschnitten||(i.kopieren={label:"kopieren",separator_before:!0,icon:"style/images/kopieren.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){window.apf.tpopfreiwkontr_node_kopiert=n;var e=$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopFeldkontrolle/feld=TPopKontrId/wertNumber="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopfreiwkontr_node_kopiert).attr("id")),dataType:"json"});e.done(function(e){window.apf.tpopfreiwkontr_objekt_kopiert=e[0]}),e.fail(function(){window.apf.melde("Fehler: Die Freiwilligen-Kontrolle wurde nicht kopiert")})}}}),window.apf.tpopfreiwkontr_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopfreiwkontr_node_ausgeschnitten).get_text(window.apf.tpopfreiwkontr_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(s).move_node(window.apf.tpopfreiwkontr_node_ausgeschnitten,s,"first",!1),localStorage.tpopfreiwkontr=!0}}),window.apf.tpopfreiwkontr_node_kopiert&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopfreiwkontr_node_kopiert).get_text(window.apf.tpopfreiwkontr_node_kopiert)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.ajax({type:"post",url:"api/v1/tpopfeldkontrInsertKopie/tpopId="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/tpopKontrId="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopfreiwkontr_node_kopiert).attr("id"))+"/user="+sessionStorage.User,dataType:"json"}).done(function(e){var t="tpopfreiwkontr",i=window.apf.tpopfreiwkontr_objekt_kopiert.TPopKontrJahr;window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}).fail(function(){window.apf.melde("Fehler: Die Freiwilligen-Kontrolle wurde nicht erstellt")})}}),i;case"tpop_ordner_massn":return i={neu:{label:"neue Massnahme",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopMassnahme/feld=TPopId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopmassn",i="neue Massnahme";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Massnahme erstellt")})}}},window.apf.tpopmassn_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopmassn_node_ausgeschnitten).get_text(window.apf.tpopmassn_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(n).move_node(window.apf.tpopmassn_node_ausgeschnitten,n,"first",!1)}}),window.apf.tpopmassn_node_kopiert&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopmassn_node_kopiert).get_text(window.apf.tpopmassn_node_kopiert)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/tpopmassnInsertKopie/tpopId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/tpopMassnId="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopmassn_node_kopiert).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});
e.done(function(e){var t="tpopmassn",i=window.apf.erstelleLabelFürMassnahme(window.apf.tpopmassn_objekt_kopiert.TPopMassnJahr,window.apf.tpopmassn_objekt_kopiert.TPopMassnBerErfolgsbeurteilung_txt);window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Die Massnahme wurde nicht erstellt")})}}),i;case"tpopmassn":return i={neu:{label:"neue Massnahme",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopMassnahme/feld=TPopId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopmassn",i="neue Massnahme";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keine neue Massnahme erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Die Massnahme '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.tpopmassn,window.apf.deleted.typ="tpopmassn";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblTeilPopMassnahme/tabelleIdFeld=TPopMassnId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.tpopmassn_id,delete window.apf.tpopmassn,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_tpopmassn(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Die Massnahme '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Die Massnahme wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}},window.apf.tpopmassn_node_ausgeschnitten||(i.ausschneiden={label:"ausschneiden",separator_before:!0,icon:"style/images/ausschneiden.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&(window.apf.tpopmassn_node_ausgeschnitten=n,delete window.apf.tpopmassn_node_kopiert,delete window.apf.tpopmassn_objekt_kopiert)}}),window.apf.tpopmassn_node_ausgeschnitten||(i.kopieren={label:"kopieren",separator_before:!0,icon:"style/images/kopieren.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){window.apf.tpopmassn_node_kopiert=n;var e=$.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopMassnahme/feld=TPopMassnId/wertNumber="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopmassn_node_kopiert).attr("id")),dataType:"json"}),t=$("#TPopMassnTyp option:checked");e.done(function(e){e&&e[0]&&(window.apf.tpopmassn_objekt_kopiert=e[0],window.apf.tpopmassn_objekt_kopiert.TPopMassnBerErfolgsbeurteilung_txt="",t.text()&&(window.apf.tpopmassn_objekt_kopiert.TPopMassnBerErfolgsbeurteilung_txt=t.text()))}),e.fail(function(){window.apf.melde("Fehler: Die Massnahme wurde nicht kopiert")})}}}),window.apf.tpopmassn_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopmassn_node_ausgeschnitten).get_text(window.apf.tpopmassn_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(s).move_node(window.apf.tpopmassn_node_ausgeschnitten,s,"first",!1)}}),window.apf.tpopmassn_node_kopiert&&(i.einfuegen={label:$.jstree._reference(window.apf.tpopmassn_node_kopiert).get_text(window.apf.tpopmassn_node_kopiert)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/tpopmassnInsertKopie/tpopId="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/tpopMassnId="+window.apf.erstelleIdAusDomAttributId($(window.apf.tpopmassn_node_kopiert).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopmassn",i=window.apf.erstelleLabelFürMassnahme(window.apf.tpopmassn_objekt_kopiert.TPopMassnJahr,window.apf.tpopmassn_objekt_kopiert.TPopMassnBerErfolgsbeurteilung_txt);window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Die Massnahme wurde nicht erstellt")})}}),i;case"tpop_ordner_tpopber":return i={neu:{label:"neuer Teilpopulations-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopBericht/feld=TPopId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopber",i="neuer Teilpopulations-Bericht";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Teilpopulations-Bericht erstellt")})}}};case"tpopber":return i={neu:{label:"neuer Teilpopulations-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopBericht/feld=TPopId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopber",i="neuer Teilpopulations-Bericht";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Teilpopulations-Bericht erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Der Teilpopulations-Bericht '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.tpopber,window.apf.deleted.typ="tpopber";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblTeilPopBericht/tabelleIdFeld=TPopBerId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.tpopber_id,delete window.apf.tpopber,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_tpopber(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Der Teilpopulations-Bericht '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Der Teilpopulations-Bericht wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"tpop_ordner_beob_zugeordnet":return i={GoogleMaps:{label:"auf Luftbild zeigen",separator_before:!0,icon:"style/images/flora_icon.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId=/tpopId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/beobId=/nichtZuzuordnen=",dataType:"json"});e.done(function(e){e&&e[0]?window.apf.gmap.zeigeTPopBeob(e[0]):window.apf.melde("Es gibt keine Beobachtungen mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}}},window.apf.beob_zugeordnet_node_ausgeschnitten&&(i={},i.einfuegen={label:$.jstree._reference(window.apf.beob_zugeordnet_node_ausgeschnitten).get_text(window.apf.beob_zugeordnet_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(n).move_node(window.apf.beob_zugeordnet_node_ausgeschnitten,n,"first",!1)}}),window.apf.beob_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.beob_node_ausgeschnitten).get_text(window.apf.beob_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$("#tree").jstree("move_node",window.apf.beob_node_ausgeschnitten,n,"first")}}),i;case"beob_zugeordnet":return i={GoogleMaps:{label:"auf Luftbild zeigen",separator_before:!0,icon:"style/images/flora_icon.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId=/tpopId=/beobId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/nichtZuzuordnen=",dataType:"json"});e.done(function(e){e&&e[0]?window.apf.gmap.zeigeTPopBeob(e[0]):window.apf.melde("Die Beobachtung hat keine Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},GoogleMapsMitTPopTPopBeob:{label:"auf Luftbild einer neuen<br>&nbsp;&nbsp;&nbsp;Teilpopulation zuordnen",separator_before:!0,icon:"style/images/flora_icon_violett.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId=/tpopId=/beobId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/nichtZuzuordnen=",dataType:"json"});e.done(function(e){if(e&&e[0]){e=e[0];var t=$.ajax({type:"get",url:"api/v1/apKarte/apId="+localStorage.ap_id,dataType:"json"});t.done(function(t){t&&t.length>0?window.apf.gmap.zeigeBeobUndTPop(e,t):window.apf.gmap.zeigeBeob(e)})}else window.apf.melde("Die Beobachtung hat keine Koordinaten<br>Bitte im Formular zuordnen","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},GisBrowser:{label:"im GIS-Browser zeigen",separator_before:!0,icon:"style/images/wappen_zuerich.png",action:function(){window.apf.zeigeBeobKoordinatenImGisBrowser()}}},window.apf.beob_zugeordnet_node_ausgeschnitten||(i.ausschneiden={label:"ausschneiden",separator_before:!0,icon:"style/images/ausschneiden.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&(window.apf.beob_zugeordnet_node_ausgeschnitten=n)}}),window.apf.beob_zugeordnet_node_ausgeschnitten&&(i.einfuegen_beob_zugeordnet={label:$.jstree._reference(window.apf.beob_zugeordnet_node_ausgeschnitten).get_text(window.apf.beob_zugeordnet_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(s).move_node(window.apf.beob_zugeordnet_node_ausgeschnitten,s,"first",!1)}}),window.apf.beob_node_ausgeschnitten&&(i.einfuegen_beob={label:$.jstree._reference(window.apf.beob_node_ausgeschnitten).get_text(window.apf.beob_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$.jstree._reference(s).move_node(window.apf.beob_node_ausgeschnitten,s,"first",!1)}}),i;case"tpop_ordner_massnber":return i={neu:{label:"neuer Massnahmen-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopMassnBericht/feld=TPopId/wert="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopmassnber",i="neuer Massnahmen-Bericht";window.apf.insertNeuenNodeEineHierarchiestufeTiefer(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Massnahmen-Bericht erstellt")})}}};case"tpopmassnber":return i={neu:{label:"neuer Massnahmen-Bericht",icon:"style/images/neu.png",action:function(){var e=$.ajax({type:"post",url:"api/v1/insert/apflora/tabelle=tblTeilPopMassnBericht/feld=TPopId/wert="+window.apf.erstelleIdAusDomAttributId($(s).attr("id"))+"/user="+sessionStorage.User,dataType:"json"});e.done(function(e){var t="tpopmassnber",i="neuer Massnahmen-Bericht";window.apf.insertNeuenNodeAufGleicherHierarchiestufe(n,s,t,e,i)}),e.fail(function(){window.apf.melde("Fehler: Keinen neuen Massnahmen-Bericht erstellt")})}},loeschen:{label:"löschen",separator_before:!0,icon:"style/images/loeschen.png",action:function(){if(window.apf.prüfeSchreibvoraussetzungen()){var e=$.jstree._reference(n).get_text(n);$("#loeschen_dialog_mitteilung").html("Der Massnahmen-Bericht '"+e+"' wird gelöscht."),$("#loeschen_dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{"ja, löschen!":function(){$(this).dialog("close"),window.apf.deleted=window.apf.tpopmassnber,window.apf.deleted.typ="tpopmassnber";var t=$.ajax({type:"delete",url:"api/v1/apflora/tabelle=tblTeilPopMassnBericht/tabelleIdFeld=TPopMassnBerId/tabelleId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json"});t.done(function(){delete localStorage.tpopmassnber_id,delete window.apf.tpopmassnber,$.jstree._reference(n).delete_node(n),window.apf.beschrifte_ordner_popmassnber(s),window.apf.frageObAktionRückgängigGemachtWerdenSoll("Der Massnahmen-Bericht '"+e+"' wurde gelöscht.")}),t.fail(function(){window.apf.melde("Fehler: Der Massnahmen-Bericht wurde nicht gelöscht")})},abbrechen:function(){$(this).dialog("close")}}})}}}};case"ap_ordner_beob_nicht_beurteilt":return i={GoogleMaps:{label:"auf Luftbild zeigen",separator_before:!0,icon:"style/images/flora_icon_violett.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/tpopId=/beobId=/nichtZuzuordnen=",dataType:"json"});e.done(function(e){e.length>0?window.apf.gmap.zeigeBeob(e):window.apf.melde("Es gibt keine Beobachtung mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},GoogleMapsMitTPop:{label:"auf Luftbild Teilpopulationen<br>&nbsp;&nbsp;&nbsp;zuordnen<br>&nbsp;&nbsp;&nbsp;Tipp: Beobachtungen auf<br>&nbsp;&nbsp;&nbsp;Teilpopulationen ziehen!",separator_before:!0,icon:"style/images/flora_icon_violett.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/tpopId=/beobId=/nichtZuzuordnen=",dataType:"json"});e.done(function(e){e.length>0?$.ajax({type:"get",url:"api/v1/apKarte/apId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id")),dataType:"json",success:function(t){t&&t.length>0?window.apf.gmap.zeigeBeobUndTPop(e,t):window.apf.gmap.zeigeBeob(e)}}):window.apf.melde("Es gibt keine Beobachtung mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}}},window.apf.beob_zugeordnet_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.beob_zugeordnet_node_ausgeschnitten).get_text(window.apf.beob_zugeordnet_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$("#tree").jstree("move_node",window.apf.beob_zugeordnet_node_ausgeschnitten,n,"first")}}),i;case"beob_nicht_beurteilt":return i={GoogleMaps:{label:"auf Luftbild zeigen",separator_before:!0,icon:"style/images/flora_icon_violett.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId=/tpopId=/beobId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/nichtZuzuordnen=",dataType:"json"});e.done(function(e){e&&e[0]?window.apf.gmap.zeigeBeob(e[0]):window.apf.melde("Es gibt keine Beobachtung mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},GoogleMapsMitTPopBeob:{label:"auf Luftbild einer Teilpopulation<br>&nbsp;&nbsp;&nbsp;zuordnen",separator_before:!0,icon:"style/images/flora_icon_violett.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId=/tpopId=/beobId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/nichtZuzuordnen=",dataType:"json"});e.done(function(e){if(e&&e[0]){e=e[0];var t=$.ajax({type:"get",url:"api/v1/apKarte/apId="+window.apf.erstelleIdAusDomAttributId($(s).attr("id")),dataType:"json"});t.done(function(t){t&&t.length>0?window.apf.gmap.zeigeBeobUndTPop(e,t):window.apf.gmap.zeigeBeob(e)})}else window.apf.melde("Die Beobachtung hat keine Koordinaten<br>Bitte im Formular zuordnen","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},GisBrowser:{label:"im GIS-Browser zeigen",separator_before:!0,icon:"style/images/wappen_zuerich.png",action:function(){window.apf.zeigeBeobKoordinatenImGisBrowser()}}},window.apf.beob_node_ausgeschnitten||(i.ausschneiden={label:"ausschneiden",separator_before:!0,icon:"style/images/ausschneiden.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&(window.apf.beob_node_ausgeschnitten=n)}}),window.apf.beob_zugeordnet_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.beob_zugeordnet_node_ausgeschnitten).get_text(window.apf.beob_zugeordnet_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$("#tree").jstree("move_node",window.apf.beob_zugeordnet_node_ausgeschnitten,s,"first")}}),i;case"ap_ordner_beob_nicht_zuzuordnen":return i={GoogleMaps:{label:"auf Luftbild zeigen",separator_before:!0,icon:"style/images/flora_icon_violett.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/tpopId=/beobId=/nichtZuzuordnen=1",dataType:"json"});e.done(function(e){e.length>0?window.apf.gmap.zeigeBeob(e):window.apf.melde("Es gibt keine Beobachtung mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}}},window.apf.beob_zugeordnet_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.beob_zugeordnet_node_ausgeschnitten).get_text(window.apf.beob_zugeordnet_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$("#tree").jstree("move_node",window.apf.beob_zugeordnet_node_ausgeschnitten,n,"first")}}),i;case"beob_nicht_zuzuordnen":return i={GoogleMaps:{label:"auf Luftbild zeigen",separator_before:!0,icon:"style/images/flora_icon_violett.png",action:function(){var e=$.ajax({type:"get",url:"/api/v1/beobKarte/apId=/tpopId=/beobId="+window.apf.erstelleIdAusDomAttributId($(n).attr("id"))+"/nichtZuzuordnen=",dataType:"json"});e.done(function(e){e&&e[0]?window.apf.gmap.zeigeBeob(e[0]):window.apf.melde("Es gibt keine Beobachtung mit Koordinaten","Aktion abgebrochen")}),e.fail(function(){window.apf.melde("Fehler: Keine Daten erhalten")})}},GisBrowser:{label:"im GIS-Browser zeigen",separator_before:!0,icon:"style/images/wappen_zuerich.png",action:function(){window.apf.zeigeBeobKoordinatenImGisBrowser()}}},window.apf.beob_node_ausgeschnitten||(i.ausschneiden={label:"ausschneiden",separator_before:!0,icon:"style/images/ausschneiden.png",action:function(){window.apf.prüfeSchreibvoraussetzungen()&&(window.apf.beob_node_ausgeschnitten=n)}}),window.apf.beob_zugeordnet_node_ausgeschnitten&&(i.einfuegen={label:$.jstree._reference(window.apf.beob_zugeordnet_node_ausgeschnitten).get_text(window.apf.beob_zugeordnet_node_ausgeschnitten)+" einfügen",separator_before:!0,icon:"style/images/einfuegen.png",action:function(){$("#tree").jstree("move_node",window.apf.beob_zugeordnet_node_ausgeschnitten,s,"first")}}),i}},function(e){e.fn.extend({limiter:function(t,i){function n(e,i){var n=e.value.length;n>t&&(e.value=e.value.substr(0,t),n=t),i.html(t-n)}e(this).on("keyup focus",function(){n(this,i)}),n(e(this)[0],i)}})}(jQuery),window.apf.erstelleGuid=function(){"use strict";return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)})}},{"./lib/chToWgsLat":9,"./lib/chToWgsLng":10,"./lib/ddInChX":11,"./lib/ddInChY":12,"./modules/configuration":22,"./modules/getTimestamp":27,"./modules/initiiereAp":29,"./modules/initiiereApziel":30,"./modules/initiiereAssozart":31,"./modules/initiiereBeob":32,"./modules/initiiereBer":33,"./modules/initiiereErfkrit":34,"./modules/initiiereFormularMitStrukturtyp":35,"./modules/initiiereIdealbiotop":36,"./modules/initiiereIndex":37,"./modules/initiiereJber":38,"./modules/initiiereJberUebersicht":39,"./modules/initiierePop":40,"./modules/initiierePopBer":41,"./modules/initiierePopMassnBer":42,"./modules/initiiereTPop":43,"./modules/initiiereTPopBer":44,"./modules/initiiereTPopFeldkontr":45,"./modules/initiiereTPopMassn":46,"./modules/initiiereTPopMassnBer":47,"./modules/initiiereZielber":48,"./modules/zeigeTPop":51}],2:[function(e,t){t.exports={user:"alexande",pass:"y3oYksFsQL49es9x"}},{}],3:[function(e,t,i){var n=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,o=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},s=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var i=new Date(t.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);var n=t.getTimezoneOffset()-i.getTimezoneOffset();t.setHours(t.getHours()-n);var o=(t-i)/6048e5;return 1+Math.floor(o)},a=function(e){var t=e.getDay();return 0===t&&(t=7),t};return function(r,l,h,u){var p=n;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(l=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");l=String(p.masks[l]||l||p.masks["default"]);var c=l.slice(0,4);("UTC:"==c||"GMT:"==c)&&(l=l.slice(4),h=!0,"GMT:"==c&&(u=!0));var d=h?"getUTC":"get",f=r[d+"Date"](),g=r[d+"Day"](),m=r[d+"Month"](),_=r[d+"FullYear"](),v=r[d+"Hours"](),b=r[d+"Minutes"](),w=r[d+"Seconds"](),y=r[d+"Milliseconds"](),k=h?0:r.getTimezoneOffset(),x=s(r),T=a(r),M={d:f,dd:o(f),ddd:p.i18n.dayNames[g],dddd:p.i18n.dayNames[g+7],m:m+1,mm:o(m+1),mmm:p.i18n.monthNames[m],mmmm:p.i18n.monthNames[m+12],yy:String(_).slice(2),yyyy:_,h:v%12||12,hh:o(v%12||12),H:v,HH:o(v),M:b,MM:o(b),s:w,ss:o(w),l:o(y,3),L:o(Math.round(y/10)),t:12>v?"a":"p",tt:12>v?"am":"pm",T:12>v?"A":"P",TT:12>v?"AM":"PM",Z:u?"GMT":h?"UTC":(String(r).match(t)||[""]).pop().replace(i,""),o:(k>0?"-":"+")+o(100*Math.floor(Math.abs(k)/60)+Math.abs(k)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:x,N:T};return l.replace(e,function(e){return e in M?M[e]:e.slice(1,e.length-1)})}}();n.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},n.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"undefined"!=typeof i&&(t.exports=n)},{}],4:[function(e,t){t.exports=e(3)},{"C:\\Users\\alex\\apflora\\node_modules\\dateFormat\\lib\\dateformat.js":3}],5:[function(e){var t=e("jquery");!function(e,t){function i(t,i){var o,s,a,r=t.nodeName.toLowerCase();return"area"===r?(o=t.parentNode,s=o.name,t.href&&s&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap=#"+s+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var o=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,o,s=e(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(s.css("zIndex"),10),!isNaN(o)&&0!==o))return o;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function o(t,i,n,o){return e.each(s,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(a,o(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(a,o(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i){var n,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return t[n]>0?!0:(t[n]=1,o=t[n]>0,t[n]=0,o)}})}(t),function(e,t){var i=0,n=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(s){}o(t)},e.widget=function(t,i,n){var o,s,a,r,l={},h=t.split(".")[0];t=t.split(".")[1],o=h+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[h]=e[h]||{},s=e[h][t],a=e[h][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(l[t]=n)}),a.prototype=e.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix:t},l,{constructor:a,namespace:h,widgetName:t,widgetFullName:o}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete s._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(i){for(var o,s,a=n.call(arguments,1),r=0,l=a.length;l>r;r++)for(o in a[r])s=a[r][o],a[r].hasOwnProperty(o)&&s!==t&&(i[o]=e.isPlainObject(s)?e.isPlainObject(i[o])?e.widget.extend({},i[o],s):e.widget.extend({},s):s);return i},e.widget.bridge=function(i,o){var s=o.prototype.widgetFullName||i;e.fn[i]=function(a){var r="string"==typeof a,l=n.call(arguments,1),h=this;return a=!r&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,this.each(r?function(){var n,o=e.data(this,s);return o?e.isFunction(o[a])&&"_"!==a.charAt(0)?(n=o[a].apply(o,l),n!==o&&n!==t?(h=n&&n.jquery?h.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+a+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}:function(){var t=e.data(this,s);t?t.option(a||{})._init():e.data(this,s,new o(a,this))}),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var o,s,a,r=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(r={},o=i.split("."),i=o.shift(),o.length){for(s=r[i]=e.widget.extend({},this.options[i]),a=0;a<o.length-1;a++)s[o[a]]=s[o[a]]||{},s=s[o[a]];if(i=o.pop(),n===t)return s[i]===t?null:s[i];s[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,a){function r(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),h=l[1]+s.eventNamespace,u=l[2];u?o.delegate(u,h,r):i.bind(h,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")
},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,s,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var a,r=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[r]?n[t](o):r!==t&&n[r]?n[r](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}})}(t),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,s="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return o&&!s&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(t),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=e(o.containment),n=i[0],void(n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,o,s,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,h=t.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-a.grid[1]:o+a.grid[1]:o,s=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),o=n.options,s=e.extend({},i,{item:n.element});n.sortables=[],e(o.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,s))})},stop:function(t,i){var n=e(this).data("ui-draggable"),o=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,i){var n=e(this).data("ui-draggable"),o=this;e.each(n.sortables,function(){var s=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),o=e(this).data("ui-draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,o,s,a,r,l,h,u,p,c,d=e(this).data("ui-draggable"),f=d.options,g=f.snapTolerance,m=i.offset.left,_=m+d.helperProportions.width,v=i.offset.top,b=v+d.helperProportions.height;for(p=d.snapElements.length-1;p>=0;p--)r=d.snapElements[p].left,l=r+d.snapElements[p].width,h=d.snapElements[p].top,u=h+d.snapElements[p].height,r-g>_||m>l+g||h-g>b||v>u+g||!e.contains(d.snapElements[p].item.ownerDocument,d.snapElements[p].item)?(d.snapElements[p].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(h-b)<=g,o=Math.abs(u-v)<=g,s=Math.abs(r-_)<=g,a=Math.abs(l-m)<=g,n&&(i.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top),o&&(i.position.top=d._convertPositionTo("relative",{top:u,left:0}).top-d.margins.top),s&&(i.position.left=d._convertPositionTo("relative",{top:0,left:r-d.helperProportions.width}).left-d.margins.left),a&&(i.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left)),c=n||o||s||a,"outer"!==f.snapMode&&(n=Math.abs(h-v)<=g,o=Math.abs(u-b)<=g,s=Math.abs(r-m)<=g,a=Math.abs(l-_)<=g,n&&(i.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top),o&&(i.position.top=d._convertPositionTo("relative",{top:u-d.helperProportions.height,left:0}).top-d.margins.top),s&&(i.position.left=d._convertPositionTo("relative",{top:0,left:r}).left-d.margins.left),a&&(i.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[p].snapping&&(n||o||s||a||c)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=n||o||s||a||c)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),o=e(this).data("ui-draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(t),function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,n){if(!i.offset)return!1;var o,s,a=(e.positionAbs||e.position.absolute).left,r=a+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,h=l+e.helperProportions.height,u=i.offset.left,p=u+i.proportions.width,c=i.offset.top,d=c+i.proportions.height;switch(n){case"fit":return a>=u&&p>=r&&l>=c&&d>=h;case"intersect":return u<a+e.helperProportions.width/2&&r-e.helperProportions.width/2<p&&c<l+e.helperProportions.height/2&&h-e.helperProportions.height/2<d;case"pointer":return o=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(s,c,i.proportions.height)&&t(o,u,i.proportions.width);case"touch":return(l>=c&&d>=l||h>=c&&d>=h||c>l&&h>d)&&(a>=u&&p>=a||r>=u&&p>=r||u>a&&r>p);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,o,s=e.ui.ddmanager.droppables[t.options.scope]||[],a=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(o=0;o<r.length;o++)if(r[o]===s[n].element[0]){s[n].proportions.height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===a&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions={width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,a=e.ui.intersect(t,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===o}),s.length&&(n=e.data(s[0],"ui-droppable"),n.greedyChild="isover"===r)),n&&"isover"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),n&&"isout"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(t),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,o,s,a=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),s="ui-resizable-"+n,o=e("<div class='ui-resizable-handle "+s+"'></div>"),o.css({zIndex:r.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(t){var i,n,o,s;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,s),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(i){var n,o,s,a=this.options,r=this.element.position(),l=this.element;
return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),n=t(this.helper.css("left")),o=t(this.helper.css("top")),a.containment&&(n+=e(a.containment).scrollLeft()||0,o+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,o={},s=this.originalMousePosition,a=this.axis,r=this.position.top,l=this.position.left,h=this.size.width,u=this.size.height,p=t.pageX-s.left||0,c=t.pageY-s.top||0,d=this._change[a];return d?(i=d.apply(this,[t,p,c]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==r&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==h&&(o.width=this.size.width+"px"),this.size.height!==u&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(o)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,o,s,a,r,l,h=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&e.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,s=n?0:u.sizeDiff.width,a={width:u.helper.width()-s,height:u.helper.height()-o},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,h.animate||this.element.css(e.extend(a,{top:l,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!h.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,o,s,a,r=this.options;a={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,o=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),o>a.minHeight&&(a.minHeight=o),n<a.maxWidth&&(a.maxWidth=n),s<a.maxHeight&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,o=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===o&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===o&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,o=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=i(e.width)&&t.minWidth&&t.minWidth>e.width,r=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,u=/sw|nw|w/.test(n),p=/nw|ne|n/.test(n);return a&&(e.width=t.minWidth),r&&(e.height=t.minHeight),o&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),a&&u&&(e.left=l-t.minWidth),o&&u&&(e.left=l-t.maxWidth),r&&p&&(e.top=h-t.minHeight),s&&p&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,o,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);o.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,o=i._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),a=s&&e.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&h?{top:u,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,o,s,a,r,l,h=e(this).data("ui-resizable"),u=h.options,p=h.element,c=u.containment,d=c instanceof e?c.get(0):/parent/.test(c)?p.parent().get(0):c;d&&(h.containerElement=e(d),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(d),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,o){n[e]=t(i.css("padding"+o))}),h.containerOffset=i.offset(),h.containerPosition=i.position(),h.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},o=h.containerOffset,s=h.containerSize.height,a=h.containerSize.width,r=e.ui.hasScroll(d,"left")?d.scrollWidth:a,l=e.ui.hasScroll(d)?d.scrollHeight:s,h.parentData={element:d,left:o.left,top:o.top,width:r,height:l}))},resize:function(t){var i,n,o,s,a=e(this).data("ui-resizable"),r=a.options,l=a.containerOffset,h=a.position,u=a._aspectRatio||t.shiftKey,p={top:0,left:0},c=a.containerElement;c[0]!==document&&/static/.test(c.css("position"))&&(p=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-p.left),u&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-p.left:a.offset.left-p.left)+a.sizeDiff.width),n=Math.abs((a._helper?a.offset.top-p.top:a.offset.top-l.top)+a.sizeDiff.height),o=a.containerElement.get(0)===a.element.parent().get(0),s=/relative|absolute/.test(a.containerElement.css("position")),o&&s&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,u&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,o=t.containerPosition,s=t.containerElement,a=e(t.helper),r=a.offset(),l=a.outerWidth()-t.sizeDiff.width,h=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:r.left-o.left-n.left,width:l,height:h}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:r.left-o.left-n.left,width:l,height:h})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),o=n.options,s=n.originalSize,a=n.originalPosition,r={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(t,n){e(t).each(function(){var t=e(this),o=e(this).data("ui-resizable-alsoresize"),s={},a=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(o[t]||0)+(r[t]||0);i&&i>=0&&(s[t]=i||null)}),t.css(s)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):e.each(o.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,o=t.originalSize,s=t.originalPosition,a=t.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,u=Math.round((n.width-o.width)/l)*l,p=Math.round((n.height-o.height)/h)*h,c=o.width+u,d=o.height+p,f=i.maxWidth&&i.maxWidth<c,g=i.maxHeight&&i.maxHeight<d,m=i.minWidth&&i.minWidth>c,_=i.minHeight&&i.minHeight>d;i.grid=r,m&&(c+=l),_&&(d+=h),f&&(c-=l),g&&(d-=h),/^(se|s|e)$/.test(a)?(t.size.width=c,t.size.height=d):/^(ne)$/.test(a)?(t.size.width=c,t.size.height=d,t.position.top=s.top-p):/^(sw)$/.test(a)?(t.size.width=c,t.size.height=d,t.position.left=s.left-u):(t.size.width=c,t.size.height=d,t.position.top=s.top-p,t.position.left=s.left-u)}})}(t),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,o=e.data(this,"selectable-item");return o?(n=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",t,{selecting:o.element}):i._trigger("unselecting",t,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,s=this.opos[0],a=this.opos[1],r=t.pageX,l=t.pageY;return s>r&&(i=r,r=s,s=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:s,top:a,width:r-s,height:l-a}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?h=!(i.left>r||i.right<s||i.top>l||i.bottom<a):"fit"===o.tolerance&&(h=i.left>s&&i.right<r&&i.top>a&&i.bottom<l),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(t),function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,o=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(n=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var o,s,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(s)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,s,a=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,a={};s&&"x"!==s||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=e.left,a=s+e.width,r=e.top,l=r+e.height,h=this.offset.click.top,u=this.offset.click.left,p="x"===this.options.axis||n+h>r&&l>n+h,c="y"===this.options.axis||t+u>s&&a>t+u,d=p&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),o=i&&n,s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return o?this.floating?a&&"right"===a||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:o&&("down"===o&&i||"up"===o&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,o,s,a=[],r=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(o=e(l[i]),n=o.length-1;n>=0;n--)s=e.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&r.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(function(){a.push(this)});return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,s,a,r,l,h,u=this.items,p=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(o=e(c[i]),n=o.length-1;n>=0;n--)s=e.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(p.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=p.length-1;i>=0;i--)for(a=p[i][1],r=p[i][0],n=0,h=r.length;h>n;n++)l=e(r[n]),l.data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(n){var o,s,a,r,l,h,u,p,c,d,f=null,g=null;for(o=this.containers.length-1;o>=0;o--)if(!e.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(f&&e.contains(this.containers[o].element[0],f.element[0]))continue;f=this.containers[o],g=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",n,this._uiHash(this)),this.containers[o].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",n,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,d=f.floating||i(this.currentItem),l=d?"left":"top",h=d?"width":"height",u=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)e.contains(this.containers[g].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!d||t(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(p=this.items[s].item.offset()[l],c=!1,Math.abs(p-u)>Math.abs(p+this.items[s][h]-u)&&(c=!0,p+=this.items[s][h]),Math.abs(p-u)<a&&(a=Math.abs(p-u),r=this.items[s],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(n,r,null,!0):this._rearrange(n,null,this.containers[g].element,!0),this._trigger("change",n,this._uiHash()),this.containers[g]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",n,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;
return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,s=t.pageX,a=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(t),function(e,i){var n="ui-effects-";e.effects={effect:{}},function(e,t){function i(e,t,i){var n=p[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=h(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,o){var s,a=o.re.exec(t),r=a&&o.parse(a),l=o.space||"rgba";return r?(s=i[l](r),i[u[l].cache]=s[u[l].cache],n=i._rgba=s._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,s.transparent),i):s[t]}function o(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var s,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=e.Color=function(t,i,n,o){return new e.Color.fn.parse(t,i,n,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=h.support={},d=e("<p>")[0],f=e.each;d.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=d.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),h.fn=e.extend(h.prototype,{parse:function(o,a,r,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(a),a=t);var p=this,c=e.type(o),d=this._rgba=[];return a!==t&&(o=[o,a,r,l],c="array"),"string"===c?this.parse(n(o)||s._default):"array"===c?(f(u.rgba.props,function(e,t){d[t.idx]=i(o[t.idx],t)}),this):"object"===c?(o instanceof h?f(u,function(e,t){o[t.cache]&&(p[t.cache]=o[t.cache].slice())}):f(u,function(t,n){var s=n.cache;f(n.props,function(e,t){if(!p[s]&&n.to){if("alpha"===e||null==o[e])return;p[s]=n.to(p._rgba)}p[s][t.idx]=i(o[e],t,!0)}),p[s]&&e.inArray(null,p[s].slice(0,3))<0&&(p[s][3]=1,n.from&&(p._rgba=n.from(p[s])))}),this):void 0},is:function(e){var t=h(e),i=!0,n=this;return f(u,function(e,o){var s,a=t[o.cache];return a&&(s=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(e,t){return null!=a[t.idx]?i=a[t.idx]===s[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=h(e),o=n._space(),s=u[o],a=0===this.alpha()?h("transparent"):this,r=a[s.cache]||s.to(a._rgba),l=r.slice();return n=n[s.cache],f(s.props,function(e,o){var s=o.idx,a=r[s],h=n[s],u=p[o.type]||{};null!==h&&(null===a?l[s]=h:(u.mod&&(h-a>u.mod/2?a+=u.mod:a-h>u.mod/2&&(a-=u.mod)),l[s]=i((h-a)*t+a,o)))}),this[o](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=h(t)._rgba;return h(e.map(i,function(e,t){return(1-n)*o[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,o=e[1]/255,s=e[2]/255,a=e[3],r=Math.max(n,o,s),l=Math.min(n,o,s),h=r-l,u=r+l,p=.5*u;return t=l===r?0:n===r?60*(o-s)/h+360:o===r?60*(s-n)/h+120:60*(n-o)/h+240,i=0===h?0:.5>=p?h/u:h/(2-u),[Math.round(t)%360,i,p,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],a=.5>=n?n*(1+i):n+i-n*i,r=2*n-a;return[Math.round(255*o(r,a,t+1/3)),Math.round(255*o(r,a,t)),Math.round(255*o(r,a,t-1/3)),s]},f(u,function(n,o){var s=o.props,a=o.cache,l=o.to,u=o.from;h.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===t)return this[a].slice();var o,r=e.type(n),p="array"===r||"object"===r?n:arguments,c=this[a].slice();return f(s,function(e,t){var n=p["object"===r?e:t.idx];null==n&&(n=c[t.idx]),c[t.idx]=i(n,t)}),u?(o=h(u(c)),o[a]=c,o):h(c)},f(s,function(t,i){h.fn[t]||(h.fn[t]=function(o){var s,a=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":n,h=this[l](),u=h[i.idx];return"undefined"===a?u:("function"===a&&(o=o.call(this,u),a=e.type(o)),null==o&&i.empty?this:("string"===a&&(s=r.exec(o),s&&(o=u+parseFloat(s[2])*("+"===s[1]?1:-1))),h[i.idx]=o,this[l](h)))})})}),h.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,o){var s,a,r="";if("transparent"!==o&&("string"!==e.type(o)||(s=n(o)))){if(o=h(s||o),!c.rgba&&1!==o._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&a&&a.style;)try{r=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}o=o.blend(r&&"transparent"!==r?r:"_default")}o=o.toRgbaString()}try{t.style[i]=o}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=h(t.elem,i),t.end=h(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},h.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function n(t){var i,n,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(s[e.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(s[i]=o[i]);return s}function o(t,i){var n,o,s={};for(n in i)o=i[n],t[n]!==o&&(a[n]||(e.fx.step[n]||!isNaN(parseFloat(o)))&&(s[n]=o));return s}var s=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(i,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(t.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,i,a,r){var l=e.speed(i,a,r);return this.queue(function(){var i,a=e(this),r=a.attr("class")||"",h=l.children?a.find("*").addBack():a;h=h.map(function(){var t=e(this);return{el:t,start:n(this)}}),i=function(){e.each(s,function(e,i){t[i]&&a[i+"Class"](t[i])})},i(),h=h.map(function(){return this.end=n(this.el[0]),this.diff=o(this.start,this.end),this}),a.attr("class",r),h=h.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,h.get()).done(function(){i(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(i,n,o,s){return n?e.effects.animateClass.call(this,{add:i},n,o,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,o,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,o,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,o,s,a,r){return"boolean"==typeof o||o===i?s?e.effects.animateClass.call(this,o?{add:n}:{remove:n},s,a,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},o,s,a)}}(e.fn.toggleClass),switchClass:function(t,i,n,o,s){return e.effects.animateClass.call(this,{add:i,remove:t},n,o,s)}})}(),function(){function t(t,i,n,o){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(o=n,n=i,i={}),e.isFunction(n)&&(o=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=o||i.complete,t}function o(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.3",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,t){var o,s;for(s=0;s<t.length;s++)null!==t[s]&&(o=e.data(n+t[s]),o===i&&(o=""),e.css(t[s],o))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(a){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,o){return o=o||{},e.each(i,function(e,i){var s=t.cssUnit(i);s[0]>0&&(o[i]=s[0]*n+s[1])}),o}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(s)&&s.call(o[0]),e.isFunction(t)&&t()}var o=e(this),s=n.complete,r=n.mode;(o.is(":hidden")?"hide"===r:"show"===r)?(o[r](),i()):a.call(o[0],n,i)}var n=t.apply(this,arguments),o=n.mode,s=n.queue,a=e.effects.effect[n.effect];return e.fx.off||!a?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):s===!1?this.each(i):this.queue(s||"fx",i)},show:function(e){return function(i){if(o(i))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(i){if(o(i))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(i){if(o(i)||"boolean"==typeof i)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(t),function(e){var t=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,o=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,o=n.heightStyle,s=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),n=i.attr("id"),o=i.next(),s=o.attr("id");n||(n=a+"-header-"+t,i.attr("id",n)),s||(s=a+"-panel-"+t,o.attr("id",s)),i.attr("aria-controls",s),o.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===o?(i=s.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===o&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o[0]===n[0],a=s&&i.collapsible,r=a?e():o.next(),l=n.next(),h={oldHeader:n,oldPanel:l,newHeader:a?e():o,newPanel:r};t.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",t,h)===!1||(i.active=a?!1:this.headers.index(o),this.active=s?e():o,this._toggle(h),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,o){var s,a,r,l=this,h=0,u=e.length&&(!t.length||e.index()<t.index()),p=this.options.animate||{},c=u&&p.down||p,d=function(){l._toggleComplete(o)};return"number"==typeof c&&(r=c),"string"==typeof c&&(a=c),a=a||c.easing||p.easing,r=r||c.duration||p.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(i,{duration:r,easing:a,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(n,{duration:r,easing:a,complete:d,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?h+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-h),h=0)}})):t.animate(i,r,a,d):e.animate(n,r,a,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(t),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,a="input"===o;this.isMultiLine=s?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case s.UP:t=!0,this._keyEvent("previous",o);break;case s.DOWN:t=!0,this._keyEvent("next",o);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()
})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,o){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(n){i===t&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(t),function(e){var t,i,n,o,s="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},h=function(t){var i=t.name,n=t.form,o=e([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,u="checkbox"===this.type||"radio"===this.type,p=u?"":"ui-state-active",c="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||e(this).removeClass(p)}).bind("click"+this.eventNamespace,function(e){r.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(c)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(c)}),u&&(this.element.bind("change"+this.eventNamespace,function(){o||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){r.disabled||(o=!1,i=e.pageX,n=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){r.disabled||(i!==e.pageX||n!==e.pageY)&&(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||o?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||o)return!1;e(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var t=a.element[0];h(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(e(this).addClass("ui-state-active"),t=this,void a.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return r.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?void(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?h(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(r),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(t),function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(s.inline?t.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function o(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"1.10.3"}});var s,a="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,o,s;n=t.nodeName.toLowerCase(),o="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),o),s.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,s):o&&this._inlineDatepicker(t,s)},_newInst:function(t,i){var o=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,a,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,o,s,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(o=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:o,title:o}):o)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,o,s=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,o=0;o<e.length;o++)e[o].length>i&&(i=e[o].length,n=o);return n},s.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,s,r){var l,h,u,p,c,d=this._dialogInst;return d||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],a,d)),o(d.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(h=document.documentElement.clientWidth,u=document.documentElement.clientHeight,p=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+p,u/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],a,d),this},_destroyDatepicker:function(t){var i,n=e(t),o=e.data(t,a);n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,a),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,a);o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,a);o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,s){var a,r,l,h,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(a=n||{},"string"==typeof n&&(a={},a[n]=s),void(u&&(this._curInst===u&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),h=this._getMinMaxDate(u,"max"),o(u.settings,a),null!==l&&a.dateFormat!==t&&a.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==h&&a.dateFormat!==t&&a.maxDate===t&&(u.settings.maxDate=this._formatDate(u,h)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),u),this._autoSize(u),this._setDate(u,r),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,o,s=e.datepicker._getInst(t.target),a=!0,r=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),o[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,o[0]),i=e.datepicker._get(s,"onSelect"),i?(n=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,o=e.datepicker._getInst(t.target);return e.datepicker._get(o,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,s,a,r,l,h;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),s=n?n.apply(t,[t,i]):{},s!==!1&&(o(i.settings,s),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),r={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),r=e.datepicker._checkOffset(i,r,a),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),h=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),h):i.dpDiv[l||"show"](l?h:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(t),o=n[1],a=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",a*o+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var o=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?o-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+s>h&&h>s?Math.abs(s+r):0),i},_findPos:function(t){for(var i,n=this._getInst(t),o=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,o,s,r=this._curInst;!r||t&&r!==e.data(t,a)||this._datepickerShowing&&(i=this._get(r,"showAnim"),n=this._get(r,"duration"),o=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[i]||e.effects[i])?r.dpDiv.hide(i,e.datepicker._get(r,"showOptions"),n,o):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,s=this._get(r,"onClose"),s&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var o=e(t),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(t){var i,n=e(t),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var o=e(t),s=this._getInst(o[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(t,i,n,o){var s,a=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(s=this._getInst(a[0]),s.selectedDay=s.currentDay=e("a",o).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,o=e(t),s=this._getInst(o[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,o,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),o=this.formatDate(i,n,this._getFormatConfig(t)),e(s).each(function(){e(this).val(o)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var o,s,a,r,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),p=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,c=(n?n.dayNames:null)||this._defaults.dayNames,d=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,w=function(e){var i=o+1<t.length&&t.charAt(o+1)===e;return i&&o++,i},y=function(e){var t=w(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o=new RegExp("^\\d{1,"+n+"}"),s=i.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},k=function(t,n,o){var s=-1,a=e.map(w(t)?o:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=t[0],l+=n.length,!1):void 0
}),-1!==s)return s+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<t.length;o++)if(b)"'"!==t.charAt(o)||w("'")?x():b=!1;else switch(t.charAt(o)){case"d":_=y("d");break;case"D":k("D",p,c);break;case"o":v=y("o");break;case"m":m=y("m");break;case"M":m=k("M",d,f);break;case"y":g=y("y");break;case"@":r=new Date(y("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((y("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":w("'")?x():b=!0;break;default:x()}if(l<i.length&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),v>-1)for(m=1,_=v;;){if(s=this._getDaysInMonth(g,m-1),s>=_)break;m++,_-=s}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},h=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},p="",c=!1;if(t)for(n=0;n<e.length;n++)if(c)"'"!==e.charAt(n)||l("'")?p+=e.charAt(n):c=!1;else switch(e.charAt(n)){case"d":p+=h("d",t.getDate(),2);break;case"D":p+=u("D",t.getDay(),o,s);break;case"o":p+=h("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":p+=h("m",t.getMonth()+1,2);break;case"M":p+=u("M",t.getMonth(),a,r);break;case"y":p+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":p+=t.getTime();break;case"!":p+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?p+="'":c=!0;break;default:p+=e.charAt(n)}return p},_possibleChars:function(e){var t,i="",n=!1,o=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||o("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),s=o,a=this._getFormatConfig(e);try{s=this.parseDate(i,n,a)||o}catch(r){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var o=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=o.getFullYear(),a=o.getMonth(),r=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":a+=parseInt(h[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,a));break;case"y":case"Y":s+=parseInt(h[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,a))}h=l.exec(i)}return new Date(s,a,r)},a=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,o=e.selectedMonth,s=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),o===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,o,s,a,r,l,h,u,p,c,d,f,g,m,_,v,b,w,y,k,x,T,M,P,I,C,S,D,z,A,j,N,E,F,B,$,O,L=new Date,H=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),W=this._get(e,"isRTL"),K=this._get(e,"showButtonPanel"),R=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),V=1!==U[0]||1!==U[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Q=e.drawMonth-Y,et=e.drawYear;if(0>Q&&(Q+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-U[0]*U[1]+1,X.getDate())),t=J&&J>t?J:t;this._daylightSavingAdjust(new Date(et,Q,1))>t;)Q--,0>Q&&(Q=11,et--);for(e.drawMonth=Q,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Q-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":R?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",o=this._get(e,"nextText"),o=q?this.formatDate(o,this._daylightSavingAdjust(new Date(et,Q+G,1)),this._getFormatConfig(e)):o,s=this._canAdjustMonth(e,1,et,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>":R?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>",a=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?Z:H,a=q?this.formatDate(a,r,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",h=K?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,p=this._get(e,"showWeek"),c=this._get(e,"dayNames"),d=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",k=0;k<U[0];k++){for(x="",this.maxRows=4,T=0;T<U[1];T++){if(M=this._daylightSavingAdjust(new Date(et,Q,e.selectedDay)),P=" ui-corner-all",I="",V){if(I+="<div class='ui-datepicker-group",U[1]>1)switch(T){case 0:I+=" ui-datepicker-group-first",P=" ui-corner-"+(W?"right":"left");break;case U[1]-1:I+=" ui-datepicker-group-last",P=" ui-corner-"+(W?"left":"right");break;default:I+=" ui-datepicker-group-middle",P=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+P+"'>"+(/all|left/.test(P)&&0===k?W?s:n:"")+(/all|right/.test(P)&&0===k?W?n:s:"")+this._generateMonthYearHeader(e,Q,et,J,X,k>0||T>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=p?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",y=0;7>y;y++)S=(y+u)%7,C+="<th"+((y+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+c[S]+"'>"+d[S]+"</span></th>";for(I+=C+"</tr></thead><tbody>",D=this._getDaysInMonth(et,Q),et===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),z=(this._getFirstDayOfMonth(et,Q)-u+7)%7,A=Math.ceil((z+D)/7),j=V&&this.maxRows>A?this.maxRows:A,this.maxRows=j,N=this._daylightSavingAdjust(new Date(et,Q,1-z)),E=0;j>E;E++){for(I+="<tr>",F=p?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",y=0;7>y;y++)B=m?m.apply(e.input?e.input[0]:null,[N]):[!0,""],$=N.getMonth()!==Q,O=$&&!v||!B[0]||J&&J>N||X&&N>X,F+="<td class='"+((y+u+6)%7>=5?" ui-datepicker-week-end":"")+($?" ui-datepicker-other-month":"")+(N.getTime()===M.getTime()&&Q===e.selectedMonth&&e._keyEvent||b.getTime()===N.getTime()&&b.getTime()===M.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+($&&!_?"":" "+B[1]+(N.getTime()===Z.getTime()?" "+this._currentClass:"")+(N.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+($&&!_||!B[2]?"":" title='"+B[2].replace(/'/g,"&#39;")+"'")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+($&&!_?"&#xa0;":O?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===H.getTime()?" ui-state-highlight":"")+(N.getTime()===Z.getTime()?" ui-state-active":"")+($?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);I+=F+"</tr>"}Q++,Q>11&&(Q=0,et++),I+="</tbody></table>"+(V?"</div>"+(U[0]>0&&T===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=I}w+=x}return w+=h,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,o,s,a,r){var l,h,u,p,c,d,f,g,m=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,h=o&&o.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!h||u<=o.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");w+="</select>"}if(v||(b+=w+(!s&&m&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(p=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),d=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=d(p[0]),g=Math.max(f,d(p[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=o?Math.min(g,o.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),v&&(b+=(!s&&m&&_?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),o=e.drawMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,o))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,o,s)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),o=i&&i>t?i:t;return n&&o>n?n:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var o=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(0>t?t:o[0]*o[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,o=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),a=null,r=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!o||t.getTime()>=o.getTime())&&(!s||t.getTime()<=s.getTime())&&(!a||t.getFullYear()>=a)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.3"}(t),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(o.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var o,s;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(t.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(o))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(o,s){n.position=[s.position.left-i.document.scrollLeft(),s.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,o=n.resizable,s=this.uiDialog.css("position"),a="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,o){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(o))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(o,s){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,t(s))}}).css("position",s)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(n){var o=this,s=!1,a={};e.each(n,function(e,n){o._setOption(e,n),e in t&&(s=!0),e in i&&(a[e]=n)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,t){var i,n,o=this.uiDialog;"dialogClass"===e&&o.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!t&&o.resizable("destroy"),n&&"string"==typeof t&&o.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],o=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(o[e]=n[e],n[e]=t)}),i={my:n[0]+(o[0]<0?o[0]:"+"+o[0])+" "+n[1]+(o[1]<0?o[1]:"+"+o[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(t),function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(n,o){var s,a,r,l=e(this),h=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,n.mode||"hide"),p=n.direction||"up",c=t.test(p),d=c?"height":"width",f=c?"top":"left",g=i.test(p),m={},_="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),h):e.effects.save(l,h),l.show(),s=e.effects.createWrapper(l).css({overflow:"hidden"}),a=s[d](),r=parseFloat(s.css(f))||0,m[d]=_?a:0,g||(l.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),m[f]=_?r:a+r),_&&(s.css(d,0),g||s.css(f,r+a)),s.animate(m,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,h),e.effects.removeWrapper(l),o()}})}}(t),function(e){e.effects.effect.bounce=function(t,i){var n,o,s,a=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),h="hide"===l,u="show"===l,p=t.direction||"up",c=t.distance,d=t.times||5,f=2*d+(u||h?1:0),g=t.duration/f,m=t.easing,_="up"===p||"down"===p?"top":"left",v="up"===p||"left"===p,b=a.queue(),w=b.length;for((u||h)&&r.push("opacity"),e.effects.save(a,r),a.show(),e.effects.createWrapper(a),c||(c=a["top"===_?"outerHeight":"outerWidth"]()/3),u&&(s={opacity:1},s[_]=0,a.css("opacity",0).css(_,v?2*-c:2*c).animate(s,g,m)),h&&(c/=Math.pow(2,d-1)),s={},s[_]=0,n=0;d>n;n++)o={},o[_]=(v?"-=":"+=")+c,a.animate(o,g,m).animate(s,g,m),c=h?2*c:c/2;h&&(o={opacity:0},o[_]=(v?"-=":"+=")+c,a.animate(o,g,m)),a.queue(function(){h&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),a.dequeue()}}(t),function(e){e.effects.effect.clip=function(t,i){var n,o,s,a=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),h="show"===l,u=t.direction||"vertical",p="vertical"===u,c=p?"height":"width",d=p?"top":"left",f={};e.effects.save(a,r),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),o="IMG"===a[0].tagName?n:a,s=o[c](),h&&(o.css(c,0),o.css(d,s/2)),f[c]=h?s:0,f[d]=h?0:s/2,o.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){h||a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),i()}})}}(t),function(e){e.effects.effect.drop=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(o,t.mode||"hide"),r="show"===a,l=t.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",p={opacity:r?1:0};e.effects.save(o,s),o.show(),e.effects.createWrapper(o),n=t.distance||o["top"===h?"outerHeight":"outerWidth"](!0)/2,r&&o.css("opacity",0).css(h,"pos"===u?-n:n),p[h]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,o.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})}}(t),function(e){e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===p*c&&o()}function o(){d.css({visibility:"visible"}),e(b).remove(),g||d.hide(),i()}var s,a,r,l,h,u,p=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=p,d=e(this),f=e.effects.setMode(d,t.mode||"hide"),g="show"===f,m=d.show().css("visibility","hidden").offset(),_=Math.ceil(d.outerWidth()/c),v=Math.ceil(d.outerHeight()/p),b=[];for(s=0;p>s;s++)for(l=m.top+s*v,u=s-(p-1)/2,a=0;c>a;a++)r=m.left+a*_,h=a-(c-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-s*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?h*_:0),top:l+(g?u*v:0),opacity:g?0:1}).animate({left:r+(g?0:h*_),top:l+(g?0:u*v),opacity:g?1:0},t.duration||500,t.easing,n)}}(t),function(e){e.effects.effect.fade=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(t),function(e){e.effects.effect.fold=function(t,i){var n,o,s=e(this),a=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"hide"),l="show"===r,h="hide"===r,u=t.size||15,p=/([0-9]+)%/.exec(u),c=!!t.horizFirst,d=l!==c,f=d?["width","height"]:["height","width"],g=t.duration/2,m={},_={};e.effects.save(s,a),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),o=d?[n.width(),n.height()]:[n.height(),n.width()],p&&(u=parseInt(p[1],10)/100*o[h?0:1]),l&&n.css(c?{height:0,width:u}:{height:u,width:0}),m[f[0]]=l?o[0]:u,_[f[1]]=l?o[1]:0,n.animate(m,g,t.easing).animate(_,g,t.easing,function(){h&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),i()})}}(t),function(e){e.effects.effect.highlight=function(t,i){var n=e(this),o=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(n,t.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===s&&(a.opacity=0),e.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,o),i()}})}}(t),function(e){e.effects.effect.pulsate=function(t,i){var n,o=e(this),s=e.effects.setMode(o,t.mode||"show"),a="show"===s,r="hide"===s,l=a||"hide"===s,h=2*(t.times||5)+(l?1:0),u=t.duration/h,p=0,c=o.queue(),d=c.length;
for((a||!o.is(":visible"))&&(o.css("opacity",0).show(),p=1),n=1;h>n;n++)o.animate({opacity:p},u,t.easing),p=1-p;o.animate({opacity:p},u,t.easing),o.queue(function(){r&&o.hide(),i()}),d>1&&c.splice.apply(c,[1,0].concat(c.splice(d,h+1))),o.dequeue()}}(t),function(e){e.effects.effect.puff=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"hide"),s="hide"===o,a=parseInt(t.percent,10)||150,r=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:s?a:100,from:s?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),o=e.extend(!0,{},t),s=e.effects.setMode(n,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),r=t.direction||"both",l=t.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==s&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:h),o.to={height:h.height*u.y,width:h.width*u.x,outerHeight:h.outerHeight*u.y,outerWidth:h.outerWidth*u.x},o.fade&&("show"===s&&(o.from.opacity=0,o.to.opacity=1),"hide"===s&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},e.effects.effect.size=function(t,i){var n,o,s,a=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],u=["fontSize"],p=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=e.effects.setMode(a,t.mode||"effect"),f=t.restore||"effect"!==d,g=t.scale||"both",m=t.origin||["middle","center"],_=a.css("position"),v=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===d?(a.from=t.to||b,a.to=t.from||n):(a.from=t.from||("show"===d?b:n),a.to=t.to||("hide"===d?b:n)),s={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},("box"===g||"both"===g)&&(s.from.y!==s.to.y&&(v=v.concat(p),a.from=e.effects.setTransition(a,p,s.from.y,a.from),a.to=e.effects.setTransition(a,p,s.to.y,a.to)),s.from.x!==s.to.x&&(v=v.concat(c),a.from=e.effects.setTransition(a,c,s.from.x,a.from),a.to=e.effects.setTransition(a,c,s.to.x,a.to))),("content"===g||"both"===g)&&s.from.y!==s.to.y&&(v=v.concat(u).concat(h),a.from=e.effects.setTransition(a,u,s.from.y,a.from),a.to=e.effects.setTransition(a,u,s.to.y,a.to)),e.effects.save(a,v),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(o=e.effects.getBaseline(m,n),a.from.top=(n.outerHeight-a.outerHeight())*o.y,a.from.left=(n.outerWidth-a.outerWidth())*o.x,a.to.top=(n.outerHeight-a.to.outerHeight)*o.y,a.to.left=(n.outerWidth-a.to.outerWidth)*o.x),a.css(a.from),("content"===g||"both"===g)&&(p=p.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),h=r.concat(p).concat(c),a.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,h),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=e.effects.setTransition(i,p,s.from.y,i.from),i.to=e.effects.setTransition(i,p,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=e.effects.setTransition(i,c,s.from.x,i.from),i.to=e.effects.setTransition(i,c,s.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,h)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===d&&a.hide(),e.effects.restore(a,v),f||("static"===_?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,i){var n=parseInt(i,10),o=e?a.to.left:a.to.top;return"auto"===i?o+"px":n+o+"px"})})),e.effects.removeWrapper(a),i()}})}}(t),function(e){e.effects.effect.shake=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"effect"),r=t.direction||"left",l=t.distance||20,h=t.times||3,u=2*h+1,p=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",d="up"===r||"left"===r,f={},g={},m={},_=o.queue(),v=_.length;for(e.effects.save(o,s),o.show(),e.effects.createWrapper(o),f[c]=(d?"-=":"+=")+l,g[c]=(d?"+=":"-=")+2*l,m[c]=(d?"-=":"+=")+2*l,o.animate(f,p,t.easing),n=1;h>n;n++)o.animate(g,p,t.easing).animate(m,p,t.easing);o.animate(g,p,t.easing).animate(f,p/2,t.easing).queue(function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}),v>1&&_.splice.apply(_,[1,0].concat(_.splice(v,u+1))),o.dequeue()}}(t),function(e){e.effects.effect.slide=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(o,t.mode||"show"),r="show"===a,l=t.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,p={};e.effects.save(o,s),o.show(),n=t.distance||o["top"===h?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),r&&o.css(h,u?isNaN(n)?"-"+n:-n:n),p[h]=(r?u?"+=":"-=":u?"-=":"+=")+n,o.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})}}(t),function(e){e.effects.effect.transfer=function(t,i){var n=e(this),o=e(t.to),s="fixed"===o.css("position"),a=e("body"),r=s?a.scrollTop():0,l=s?a.scrollLeft():0,h=o.offset(),u={top:h.top-r,left:h.left-l,height:o.innerHeight(),width:o.innerWidth()},p=n.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:p.top-r,left:p.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})}}(t),function(e){e.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,o,s,a,r,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,o=this.previousFilter||"",s=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),s===o?a=!0:s=o+s,r=new RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(e(this).children("a").text())}),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(t.keyCode),r=new RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),o=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(o),t.attr("aria-labelledby",n.attr("id"))}),t=n.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,o,s,a,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=t.height(),0>o?this.activeMenu.scrollTop(s+o):o+r>a&&this.activeMenu.scrollTop(s+o-a+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-o<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+o>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(t),function(e,t){function i(e,t,i){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}function o(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var s,a=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,u=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(s!==t)return s;var i,n,o=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=o.children()[0];return e("body").append(o),i=a.offsetWidth,o.css("overflow","scroll"),n=a.offsetWidth,i===n&&(n=o[0].clientWidth),o.remove(),s=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var s,d,g,m,_,v,b=e(t.of),w=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(w),k=(t.collision||"flip").split(" "),x={};return v=o(b),b[0].preventDefault&&(t.at="left top"),d=v.width,g=v.height,m=v.offset,_=e.extend({},m),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=h.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=h.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",e=p.exec(n[0]),i=p.exec(n[1]),x[this]=[e?e[0]:0,i?i[0]:0],t[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===t.at[0]?_.left+=d:"center"===t.at[0]&&(_.left+=d/2),"bottom"===t.at[1]?_.top+=g:"center"===t.at[1]&&(_.top+=g/2),s=i(x.at,d,g),_.left+=s[0],_.top+=s[1],this.each(function(){var o,h,u=e(this),p=u.outerWidth(),c=u.outerHeight(),f=n(this,"marginLeft"),v=n(this,"marginTop"),T=p+f+n(this,"marginRight")+y.width,M=c+v+n(this,"marginBottom")+y.height,P=e.extend({},_),I=i(x.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?P.left-=p:"center"===t.my[0]&&(P.left-=p/2),"bottom"===t.my[1]?P.top-=c:"center"===t.my[1]&&(P.top-=c/2),P.left+=I[0],P.top+=I[1],e.support.offsetFractions||(P.left=l(P.left),P.top=l(P.top)),o={marginLeft:f,marginTop:v},e.each(["left","top"],function(i,n){e.ui.position[k[i]]&&e.ui.position[k[i]][n](P,{targetWidth:d,targetHeight:g,elemWidth:p,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:M,offset:[s[0]+I[0],s[1]+I[1]],my:t.my,at:t.at,within:w,elem:u})}),t.using&&(h=function(e){var i=m.left-P.left,n=i+d-p,o=m.top-P.top,s=o+g-c,l={target:{element:b,left:m.left,top:m.top,width:d,height:g},element:{element:u,left:P.left,top:P.top,width:p,height:c},horizontal:0>n?"left":i>0?"right":"center",vertical:0>s?"top":o>0?"bottom":"middle"};p>d&&r(i+n)<d&&(l.horizontal="center"),c>g&&r(o+s)<g&&(l.vertical="middle"),l.important=a(r(i),r(n))>a(r(o),r(s))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(P,{using:h}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=e.left-t.collisionPosition.marginLeft,l=o-r,h=r+t.collisionWidth-s-o;t.collisionWidth>s?l>0&&0>=h?(i=e.left+l+t.collisionWidth-s-o,e.left+=l-i):e.left=h>0&&0>=l?o:l>h?o+s-t.collisionWidth:o:l>0?e.left+=l:h>0?e.left-=h:e.left=a(e.left-r,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,r=e.top-t.collisionPosition.marginTop,l=o-r,h=r+t.collisionHeight-s-o;t.collisionHeight>s?l>0&&0>=h?(i=e.top+l+t.collisionHeight-s-o,e.top+=l-i):e.top=h>0&&0>=l?o:l>h?o+s-t.collisionHeight:o:l>0?e.top+=l:h>0?e.top-=h:e.top=a(e.top-r,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,h=e.left-t.collisionPosition.marginLeft,u=h-l,p=h+t.collisionWidth-a-l,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+d+f+t.collisionWidth-a-s,(0>i||i<r(u))&&(e.left+=c+d+f)):p>0&&(n=e.left-t.collisionPosition.marginLeft+c+d+f-l,(n>0||r(n)<p)&&(e.left+=c+d+f))},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,h=e.top-t.collisionPosition.marginTop,u=h-l,p=h+t.collisionHeight-a-l,c="top"===t.my[1],d=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>u?(n=e.top+d+f+g+t.collisionHeight-a-s,e.top+d+f+g>u&&(0>n||n<r(u))&&(e.top+=d+f+g)):p>0&&(i=e.top-t.collisionPosition.marginTop+d+f+g-l,e.top+d+f+g>p&&(i>0||r(i)<p)&&(e.top+=d+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,s,a=document.getElementsByTagName("body")[0],r=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)t.style[s]=n[s];t.appendChild(r),i=a||document.documentElement,i.insertBefore(t,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",o=e(r).offset().left,e.support.offsetFractions=o>10&&11>o,t.innerHTML="",i.removeChild(t)}()}(t),function(e,t){e.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(t),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),t=o.length;i>t;t++)a.push(s);this.handles=o.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,o,s,a,r,l,h,u=this,p=this.options;return p.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(o>i||o===i&&(t===u._lastChangedValue||u.values(t)===p.min))&&(o=i,s=e(this),a=t)}),r=this._start(t,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,s.addClass("ui-state-active").focus(),l=s.offset(),h=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),s=this._valueMin()+n*o,this._trimAlignValue(s)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,o,s;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(o=this.values(),o[t]=i,s=this._trigger("slide",e,{handle:this.handles[t],value:i,values:o}),n=this.values(t?0:1),s!==!1&&this.values(t,i,!0))):i!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:i}),s!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,o,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,o=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,o=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,o,s,a=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[h?"animate":"css"](u,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[h?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[h?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(n=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?(n-o)/(s-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](u,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))
},_handleEvents:{keydown:function(i){var n,o,s,a,r=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),n=this._start(i,r),n===!1))return}switch(a=this.options.step,o=s=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(o===this._valueMax())return;s=this._trimAlignValue(o+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(o===this._valueMin())return;s=this._trimAlignValue(o-a)}this._slide(i,r,s)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(t),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var o=i.attr(n);void 0!==o&&o.length&&(t[n]=o)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(t),function(e,t){function i(){return++o}function n(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(s,""))===decodeURIComponent(location.href.replace(s,""))}var o=0,s=/#.*$/;e.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,o){return e(o).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>o&&(t=0),0>t&&(t=o),t}for(var o=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,o){var s,a,r,l=e(o).uniqueId().attr("id"),h=e(o).closest("li"),u=h.attr("aria-controls");n(o)?(s=o.hash,a=t.element.find(t._sanitizeSelector(s))):(r=t._tabId(h),s="#"+r,a=t.element.find(s),a.length||(a=t._createPanel(r),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),u&&h.data("ui-tabs-aria-controls",u),h.attr({"aria-controls":s.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o.closest("li"),a=s[0]===n[0],r=a&&i.collapsible,l=r?e():this._getPanelForTab(s),h=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:h,newTab:r?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(s),this.active=a?e():s,this.xhr&&this.xhr.abort(),h.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,u))},_toggle:function(t,i){function n(){s.running=!1,s._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&s.options.show?s._show(a,s.options.show,n):(a.show(),n())}var s=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),o()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var o=this,s=this.tabs.eq(t),a=s.find(".ui-tabs-anchor"),r=this._getPanelForTab(s),l={tab:s,panel:r};n(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){r.html(e),o._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&o.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,s){return o._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(t),function(e){function t(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(i,n);-1!==o&&n.splice(o,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}var n=0;e.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n[0],t.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,o=this,s=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&o._delay(function(){t&&(t.type=s),this._open(t,e,i)})}),void(i&&this._open(t,e,i)))},_open:function(i,n,o){function s(e){h.of=e,a.is(":hidden")||a.position(h)}var a,r,l,h=e.extend({},this.options.position);if(o){if(a=this._find(n),a.length)return void a.find(".ui-tooltip-content").html(o);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),a=this._tooltip(n),t(n,a.attr("id")),a.find(".ui-tooltip-content").html(o),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:s}),s(i)):a.position(e.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){a.is(":visible")&&(s(h.of),clearInterval(l))},e.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,n,r)}},close:function(t){var n=this,o=e(t?t.currentTarget:this.element),s=this._find(o);this.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),i(o),s.stop(!0),this._hide(s,this.options.hide,function(){n._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+n++,o=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(o),o.appendTo(this.document[0].body),this.tooltips[i]=t,o},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n[0],t.close(o,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(t)},{jquery:6}],6:[function(e,t){!function(e,i){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=Q.type(e);return"function"===i||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(Q.isFunction(t))return Q.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return Q.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(rt.test(t))return Q.filter(t,e,i);t=Q.filter(t,e)}return Q.grep(e,function(e){return U.call(t,e)>=0!==i})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=ft[e]={};return Q.each(e.match(dt)||[],function(e,i){t[i]=!0}),t}function a(){J.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+Math.random()}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(wt,"-$1").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:bt.test(i)?Q.parseJSON(i):i}catch(o){}vt.set(e,t,i)}else i=void 0;return i}function h(){return!0}function u(){return!1}function p(){try{return J.activeElement}catch(e){}}function c(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Ft.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var i=0,n=e.length;n>i;i++)_t.set(e[i],"globalEval",!t||_t.get(t[i],"globalEval"))}function m(e,t){var i,n,o,s,a,r,l,h;if(1===t.nodeType){if(_t.hasData(e)&&(s=_t.access(e),a=_t.set(t,s),h=s.events)){delete a.handle,a.events={};for(o in h)for(i=0,n=h[o].length;n>i;i++)Q.event.add(t,o,h[o][i])}vt.hasData(e)&&(r=vt.access(e),l=Q.extend({},r),vt.set(t,l))}}function _(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],i):i}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Tt.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function b(t,i){var n,o=Q(i.createElement(t)).appendTo(i.body),s=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(o[0]))?n.display:Q.css(o[0],"display");return o.detach(),s}function w(e){var t=J,i=Lt[e];return i||(i=b(e,t),"none"!==i&&i||(Ot=(Ot||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ot[0].contentDocument,t.write(),t.close(),i=b(e,t),Ot.detach()),Lt[e]=i),i}function y(e,t,i){var n,o,s,a,r=e.style;return i=i||Kt(e),i&&(a=i.getPropertyValue(t)||i[t]),i&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),Wt.test(a)&&Ht.test(t)&&(n=r.width,o=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=i.width,r.width=n,r.minWidth=o,r.maxWidth=s)),void 0!==a?a+"":a}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function x(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,o=Vt.length;o--;)if(t=Vt[o]+i,t in e)return t;return n}function T(e,t,i){var n=qt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function M(e,t,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===i&&(a+=Q.css(e,i+kt[s],!0,o)),n?("content"===i&&(a-=Q.css(e,"padding"+kt[s],!0,o)),"margin"!==i&&(a-=Q.css(e,"border"+kt[s]+"Width",!0,o))):(a+=Q.css(e,"padding"+kt[s],!0,o),"padding"!==i&&(a+=Q.css(e,"border"+kt[s]+"Width",!0,o)));return a}function P(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=Kt(e),a="border-box"===Q.css(e,"boxSizing",!1,s);if(0>=o||null==o){if(o=y(e,t,s),(0>o||null==o)&&(o=e.style[t]),Wt.test(o))return o;n=a&&(Z.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+M(e,t,i||(a?"border":"content"),n,s)+"px"}function I(e,t){for(var i,n,o,s=[],a=0,r=e.length;r>a;a++)n=e[a],n.style&&(s[a]=_t.get(n,"olddisplay"),i=n.style.display,t?(s[a]||"none"!==i||(n.style.display=""),""===n.style.display&&xt(n)&&(s[a]=_t.access(n,"olddisplay",w(n.nodeName)))):(o=xt(n),"none"===i&&o||_t.set(n,"olddisplay",o?i:Q.css(n,"display"))));for(a=0;r>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[a]||"":"none"));return e}function C(e,t,i,n,o){return new C.prototype.init(e,t,i,n,o)}function S(){return setTimeout(function(){Zt=void 0}),Zt=Q.now()}function D(e,t){var i,n=0,o={height:e};for(t=t?1:0;4>n;n+=2-t)i=kt[n],o["margin"+i]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function z(e,t,i){for(var n,o=(ii[t]||[]).concat(ii["*"]),s=0,a=o.length;a>s;s++)if(n=o[s].call(i,t,e))return n}function A(e,t,i){var n,o,s,a,r,l,h,u,p=this,c={},d=e.style,f=e.nodeType&&xt(e),g=_t.get(e,"fxshow");i.queue||(r=Q._queueHooks(e,"fx"),null==r.unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,p.always(function(){p.always(function(){r.unqueued--,Q.queue(e,"fx").length||r.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],h=Q.css(e,"display"),u="none"===h?_t.get(e,"olddisplay")||w(e.nodeName):h,"inline"===u&&"none"===Q.css(e,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],Xt.exec(o)){if(delete t[n],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;f=!0}c[n]=g&&g[n]||Q.style(e,n)}else h=void 0;if(Q.isEmptyObject(c))"inline"===("none"===h?w(e.nodeName):h)&&(d.display=h);else{g?"hidden"in g&&(f=g.hidden):g=_t.access(e,"fxshow",{}),s&&(g.hidden=!f),f?Q(e).show():p.done(function(){Q(e).hide()}),p.done(function(){var t;_t.remove(e,"fxshow");for(t in c)Q.style(e,t,c[t])});for(n in c)a=z(f?g[n]:0,n,p),n in g||(g[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function j(e,t){var i,n,o,s,a;for(i in e)if(n=Q.camelCase(i),o=t[n],s=e[i],Q.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),a=Q.cssHooks[n],a&&"expand"in a){s=a.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=o)}else t[n]=o}function N(e,t,i){var n,o,s=0,a=ti.length,r=Q.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Zt||S(),i=Math.max(0,h.startTime+h.duration-t),n=i/h.duration||0,s=1-n,a=0,l=h.tweens.length;l>a;a++)h.tweens[a].run(s);return r.notifyWith(e,[h,s,i]),1>s&&l?i:(r.resolveWith(e,[h]),!1)},h=r.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Zt||S(),duration:i.duration,tweens:[],createTween:function(t,i){var n=Q.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(n),n},stop:function(t){var i=0,n=t?h.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)h.tweens[i].run(1);return t?r.resolveWith(e,[h,t]):r.rejectWith(e,[h,t]),this}}),u=h.props;for(j(u,h.opts.specialEasing);a>s;s++)if(n=ti[s].call(h,e,u,h.opts))return n;return Q.map(u,z,h),Q.isFunction(h.opts.start)&&h.opts.start.call(e,h),Q.fx.timer(Q.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function E(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,s=t.toLowerCase().match(dt)||[];if(Q.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function F(e,t,i,n){function o(r){var l;
return s[r]=!0,Q.each(e[r]||[],function(e,r){var h=r(t,i,n);return"string"!=typeof h||a||s[h]?a?!(l=h):void 0:(t.dataTypes.unshift(h),o(h),!1)}),l}var s={},a=e===yi;return o(t.dataTypes[0])||!s["*"]&&o("*")}function B(e,t){var i,n,o=Q.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&Q.extend(!0,e,n),e}function $(e,t,i){for(var n,o,s,a,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in r)if(r[o]&&r[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==l[0]&&l.unshift(s),i[s]):void 0}function O(e,t,i,n){var o,s,a,r,l,h={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)h[a.toLowerCase()]=e.converters[a];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(a=h[l+" "+s]||h["* "+s],!a)for(o in h)if(r=o.split(" "),r[1]===s&&(a=h[l+" "+r[0]]||h["* "+r[0]])){a===!0?a=h[o]:h[o]!==!0&&(s=r[0],u.unshift(r[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function L(e,t,i,n){var o;if(Q.isArray(t))Q.each(t,function(t,o){i||Mi.test(e)?n(e,o):L(e+"["+("object"==typeof o?t:"")+"]",o,i,n)});else if(i||"object"!==Q.type(t))n(e,t);else for(o in t)L(e+"["+o+"]",t[o],i,n)}function H(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var W=[],K=W.slice,R=W.concat,q=W.push,U=W.indexOf,Y={},G=Y.toString,V=Y.hasOwnProperty,Z={},J=e.document,X="2.1.1",Q=function(e,t){return new Q.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,it=/-([\da-z])/gi,nt=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:X,constructor:Q,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:q,sort:W.sort,splice:W.splice},Q.extend=Q.fn.extend=function(){var e,t,i,n,o,s,a=arguments[0]||{},r=1,l=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[r]||{},r++),"object"==typeof a||Q.isFunction(a)||(a={}),r===l&&(a=this,r--);l>r;r++)if(null!=(e=arguments[r]))for(t in e)i=a[t],n=e[t],a!==n&&(h&&n&&(Q.isPlainObject(n)||(o=Q.isArray(n)))?(o?(o=!1,s=i&&Q.isArray(i)?i:[]):s=i&&Q.isPlainObject(i)?i:{},a[t]=Q.extend(h,s,n)):void 0!==n&&(a[t]=n));return a},Q.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!V.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[G.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(it,nt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,s=0,a=e.length,r=i(e);if(n){if(r)for(;a>s&&(o=t.apply(e[s],n),o!==!1);s++);else for(s in e)if(o=t.apply(e[s],n),o===!1)break}else if(r)for(;a>s&&(o=t.call(e[s],s,e[s]),o!==!1);s++);else for(s in e)if(o=t.call(e[s],s,e[s]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Q.merge(n,"string"==typeof e?[e]:e):q.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:U.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;i>n;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n,o=[],s=0,a=e.length,r=!i;a>s;s++)n=!t(e[s],s),n!==r&&o.push(e[s]);return o},map:function(e,t,n){var o,s=0,a=e.length,r=i(e),l=[];if(r)for(;a>s;s++)o=t(e[s],s,n),null!=o&&l.push(o);else for(s in e)o=t(e[s],s,n),null!=o&&l.push(o);return R.apply([],l)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(i=e[t],t=e,e=i),Q.isFunction(e)?(n=K.call(arguments,2),o=function(){return e.apply(t||this,n.concat(K.call(arguments)))},o.guid=e.guid=e.guid||Q.guid++,o):void 0},now:Date.now,support:Z}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var ot=function(e){function t(e,t,i,n){var o,s,a,r,l,h,p,d,f,g;if((t?t.ownerDocument||t:L)!==A&&z(t),t=t||A,i=i||[],!e||"string"!=typeof e)return i;if(1!==(r=t.nodeType)&&9!==r)return[];if(N&&!n){if(o=vt.exec(e))if(a=o[1]){if(9===r){if(s=t.getElementById(a),!s||!s.parentNode)return i;if(s.id===a)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&$(t,s)&&s.id===a)return i.push(s),i}else{if(o[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((a=o[3])&&y.getElementsByClassName&&t.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(a)),i}if(y.qsa&&(!E||!E.test(e))){if(d=p=O,f=t,g=9===r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(h=M(e),(p=t.getAttribute("id"))?d=p.replace(wt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=h.length;l--;)h[l]=d+c(h[l]);f=bt.test(e)&&u(t.parentNode)||t,g=h.join(",")}if(g)try{return Q.apply(i,f.querySelectorAll(g)),i}catch(m){}finally{p||t.removeAttribute("id")}}}return I(e.replace(lt,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>k.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[O]=!0,e}function o(e){var t=A.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=e.length;n--;)k.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function r(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function h(e){return n(function(t){return t=+t,n(function(i,n){for(var o,s=e([],i.length,t),a=s.length;a--;)i[o=s[a]]&&(i[o]=!(n[o]=i[o]))})})}function u(e){return e&&typeof e.getElementsByTagName!==Y&&e}function p(){}function c(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function d(e,t,i){var n=t.dir,o=i&&"parentNode"===n,s=W++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s)}:function(t,i,a){var r,l,h=[H,s];if(a){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if(l=t[O]||(t[O]={}),(r=l[n])&&r[0]===H&&r[1]===s)return h[2]=r[2];if(l[n]=h,h[2]=e(t,i,a))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var o=0,s=i.length;s>o;o++)t(e,i[o],n);return n}function m(e,t,i,n,o){for(var s,a=[],r=0,l=e.length,h=null!=t;l>r;r++)(s=e[r])&&(!i||i(s,n,o))&&(a.push(s),h&&t.push(r));return a}function _(e,t,i,o,s,a){return o&&!o[O]&&(o=_(o)),s&&!s[O]&&(s=_(s,a)),n(function(n,a,r,l){var h,u,p,c=[],d=[],f=a.length,_=n||g(t||"*",r.nodeType?[r]:r,[]),v=!e||!n&&t?_:m(_,c,e,r,l),b=i?s||(n?e:f||o)?[]:a:v;if(i&&i(v,b,r,l),o)for(h=m(b,d),o(h,[],r,l),u=h.length;u--;)(p=h[u])&&(b[d[u]]=!(v[d[u]]=p));if(n){if(s||e){if(s){for(h=[],u=b.length;u--;)(p=b[u])&&h.push(v[u]=p);s(null,b=[],h,l)}for(u=b.length;u--;)(p=b[u])&&(h=s?tt.call(n,p):c[u])>-1&&(n[h]=!(a[h]=p))}}else b=m(b===a?b.splice(f,b.length):b),s?s(null,a,b,l):Q.apply(a,b)})}function v(e){for(var t,i,n,o=e.length,s=k.relative[e[0].type],a=s||k.relative[" "],r=s?1:0,l=d(function(e){return e===t},a,!0),h=d(function(e){return tt.call(t,e)>-1},a,!0),u=[function(e,i,n){return!s&&(n||i!==C)||((t=i).nodeType?l(e,i,n):h(e,i,n))}];o>r;r++)if(i=k.relative[e[r].type])u=[d(f(u),i)];else{if(i=k.filter[e[r].type].apply(null,e[r].matches),i[O]){for(n=++r;o>n&&!k.relative[e[n].type];n++);return _(r>1&&f(u),r>1&&c(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(lt,"$1"),i,n>r&&v(e.slice(r,n)),o>n&&v(e=e.slice(n)),o>n&&c(e))}u.push(i)}return f(u)}function b(e,i){var o=i.length>0,s=e.length>0,a=function(n,a,r,l,h){var u,p,c,d=0,f="0",g=n&&[],_=[],v=C,b=n||s&&k.find.TAG("*",h),w=H+=null==v?1:Math.random()||.1,y=b.length;for(h&&(C=a!==A&&a);f!==y&&null!=(u=b[f]);f++){if(s&&u){for(p=0;c=e[p++];)if(c(u,a,r)){l.push(u);break}h&&(H=w)}o&&((u=!c&&u)&&d--,n&&g.push(u))}if(d+=f,o&&f!==d){for(p=0;c=i[p++];)c(g,_,a,r);if(n){if(d>0)for(;f--;)g[f]||_[f]||(_[f]=J.call(l));_=m(_)}Q.apply(l,_),h&&!n&&_.length>0&&d+i.length>1&&t.uniqueSort(l)}return h&&(H=w,C=v),g};return o?n(a):a}var w,y,k,x,T,M,P,I,C,S,D,z,A,j,N,E,F,B,$,O="sizzle"+-new Date,L=e.document,H=0,W=0,K=i(),R=i(),q=i(),U=function(e,t){return e===t&&(D=!0),0},Y="undefined",G=1<<31,V={}.hasOwnProperty,Z=[],J=Z.pop,X=Z.push,Q=Z.push,et=Z.slice,tt=Z.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=ot.replace("w","w#"),at="\\["+nt+"*("+ot+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+nt+"*\\]",rt=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ht=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),pt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ct=new RegExp(rt),dt=new RegExp("^"+st+"$"),ft={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,_t=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),kt=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.apply(Z=et.call(L.childNodes),L.childNodes),Z[L.childNodes.length].nodeType}catch(xt){Q={apply:Z.length?function(e,t){X.apply(e,et.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}y=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},z=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:L,n=i.defaultView;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,j=i.documentElement,N=!T(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){z()},!1):n.attachEvent&&n.attachEvent("onunload",function(){z()})),y.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=_t.test(i.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),y.getById=o(function(e){return j.appendChild(e).id=O,!i.getElementsByName||!i.getElementsByName(O).length}),y.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==Y&&N){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},k.filter.ID=function(e){var t=e.replace(yt,kt);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(yt,kt);return function(e){var i=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return i&&i.value===t}}),k.find.TAG=y.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},k.find.CLASS=y.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&N?t.getElementsByClassName(e):void 0},F=[],E=[],(y.qsa=_t.test(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&E.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||E.push("\\["+nt+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||E.push(":checked")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&E.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||E.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),E.push(",.*:")})),(y.matchesSelector=_t.test(B=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&o(function(e){y.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),F.push("!=",rt)}),E=E.length&&new RegExp(E.join("|")),F=F.length&&new RegExp(F.join("|")),t=_t.test(j.compareDocumentPosition),$=t||_t.test(j.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===L&&$(L,e)?-1:t===i||t.ownerDocument===L&&$(L,t)?1:S?tt.call(S,e)-tt.call(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,o=0,s=e.parentNode,r=t.parentNode,l=[e],h=[t];if(!s||!r)return e===i?-1:t===i?1:s?-1:r?1:S?tt.call(S,e)-tt.call(S,t):0;if(s===r)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)h.unshift(n);for(;l[o]===h[o];)o++;return o?a(l[o],h[o]):l[o]===L?-1:h[o]===L?1:0},i):A},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==A&&z(e),i=i.replace(pt,"='$1']"),!(!y.matchesSelector||!N||F&&F.test(i)||E&&E.test(i)))try{var n=B.call(e,i);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return t(i,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&z(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&z(e);var i=k.attrHandle[t.toLowerCase()],n=i&&V.call(k.attrHandle,t.toLowerCase())?i(e,t,!N):void 0;return void 0!==n?n:y.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(D=!y.detectDuplicates,S=!y.sortStable&&e.slice(0),e.sort(U),D){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return S=null,e},x=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=x(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=x(t);return i},k=t.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(yt,kt),e[3]=(e[3]||e[4]||e[5]||"").replace(yt,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ct.test(i)&&(t=M(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(yt,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=K[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&K(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var s=t.attr(o,e);return null==s?"!="===i:i?(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s+" ").indexOf(n)>-1:"|="===i?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,o){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),r="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var h,u,p,c,d,f,g=s!==a?"nextSibling":"previousSibling",m=t.parentNode,_=r&&t.nodeName.toLowerCase(),v=!l&&!r;if(m){if(s){for(;g;){for(p=t;p=p[g];)if(r?p.nodeName.toLowerCase()===_:1===p.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&v){for(u=m[O]||(m[O]={}),h=u[e]||[],d=h[0]===H&&h[1],c=h[0]===H&&h[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(c=d=0)||f.pop();)if(1===p.nodeType&&++c&&p===t){u[e]=[H,d,c];break}}else if(v&&(h=(t[O]||(t[O]={}))[e])&&h[0]===H)c=h[1];else for(;(p=++d&&p&&p[g]||(c=d=0)||f.pop())&&((r?p.nodeName.toLowerCase()!==_:1!==p.nodeType)||!++c||(v&&((p[O]||(p[O]={}))[e]=[H,c]),p!==t)););return c-=o,c===n||c%n===0&&c/n>=0}}},PSEUDO:function(e,i){var o,s=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[O]?s(i):s.length>1?(o=[e,e,"",i],k.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=s(e,i),a=o.length;a--;)n=tt.call(e,o[a]),e[n]=!(t[n]=o[a])}):function(e){return s(e,0,o)}):s}},pseudos:{not:n(function(e){var t=[],i=[],o=P(e.replace(lt,"$1"));return o[O]?n(function(e,t,i,n){for(var s,a=o(e,null,n,[]),r=e.length;r--;)(s=a[r])&&(e[r]=!(t[r]=s))}):function(e,n,s){return t[0]=e,o(t,null,s,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:n(function(e){return dt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(yt,kt).toLowerCase(),function(t){var i;do if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,i){return[0>i?i+t:i]}),even:h(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:h(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:h(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:h(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=r(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return p.prototype=k.filters=k.pseudos,k.setFilters=new p,M=t.tokenize=function(e,i){var n,o,s,a,r,l,h,u=R[e+" "];if(u)return i?0:u.slice(0);for(r=e,l=[],h=k.preFilter;r;){(!n||(o=ht.exec(r)))&&(o&&(r=r.slice(o[0].length)||r),l.push(s=[])),n=!1,(o=ut.exec(r))&&(n=o.shift(),s.push({value:n,type:o[0].replace(lt," ")}),r=r.slice(n.length));for(a in k.filter)!(o=ft[a].exec(r))||h[a]&&!(o=h[a](o))||(n=o.shift(),s.push({value:n,type:a,matches:o}),r=r.slice(n.length));if(!n)break}return i?r.length:r?t.error(e):R(e,l).slice(0)},P=t.compile=function(e,t){var i,n=[],o=[],s=q[e+" "];if(!s){for(t||(t=M(e)),i=t.length;i--;)s=v(t[i]),s[O]?n.push(s):o.push(s);s=q(e,b(o,n)),s.selector=e}return s},I=t.select=function(e,t,i,n){var o,s,a,r,l,h="function"==typeof e&&e,p=!n&&M(e=h.selector||e);if(i=i||[],1===p.length){if(s=p[0]=p[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&y.getById&&9===t.nodeType&&N&&k.relative[s[1].type]){if(t=(k.find.ID(a.matches[0].replace(yt,kt),t)||[])[0],!t)return i;h&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=ft.needsContext.test(e)?0:s.length;o--&&(a=s[o],!k.relative[r=a.type]);)if((l=k.find[r])&&(n=l(a.matches[0].replace(yt,kt),bt.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(o,1),e=n.length&&c(s),!e)return Q.apply(i,n),i;break}}return(h||P(e,p))(n,t,!N,i,bt.test(e)&&u(t.parentNode)||t),i},y.sortStable=O.split("").sort(U).join("")===O,y.detectDuplicates=!!D,z(),y.sortDetached=o(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(it,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);Q.find=ot,Q.expr=ot.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ot.uniqueSort,Q.text=ot.getText,Q.isXMLDoc=ot.isXML,Q.contains=ot.contains;var st=Q.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rt=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Q.find.matchesSelector(n,e)?[n]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,i=this.length,n=[],o=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;i>t;t++)if(Q.contains(o[t],this))return!0}));for(t=0;i>t;t++)Q.find(e,o[t],n);return n=this.pushStack(i>1?Q.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&st.test(e)?Q(e):e||[],!1).length}});var lt,ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=Q.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ht.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||lt).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),at.test(i[1])&&Q.isPlainObject(t))for(i in t)Q.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=J.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof lt.ready?lt.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ut.prototype=Q.fn,lt=Q(J);var pt=/^(?:parents|prev(?:Until|All))/,ct={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Q(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),Q.fn.extend({has:function(e){var t=Q(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,s=[],a=st.test(e)||"string"!=typeof e?Q(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&Q.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?Q.unique(s):s)},index:function(e){return e?"string"==typeof e?U.call(Q(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Q.dir(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Q.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Q.dir(e,"previousSibling",i)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(i,n){var o=Q.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=Q.filter(n,o)),this.length>1&&(ct[e]||Q.unique(o),pt.test(e)&&o.reverse()),this.pushStack(o)}});var dt=/\S+/g,ft={};Q.Callbacks=function(e){e="string"==typeof e?ft[e]||s(e):Q.extend({},e);var t,i,n,o,a,r,l=[],h=!e.once&&[],u=function(s){for(t=e.memory&&s,i=!0,r=o||0,o=0,a=l.length,n=!0;l&&a>r;r++)if(l[r].apply(s[0],s[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(h?h.length&&u(h.shift()):t?l=[]:p.disable())},p={add:function(){if(l){var i=l.length;!function s(t){Q.each(t,function(t,i){var n=Q.type(i);"function"===n?e.unique&&p.has(i)||l.push(i):i&&i.length&&"string"!==n&&s(i)})}(arguments),n?a=l.length:t&&(o=i,u(t))}return this},remove:function(){return l&&Q.each(arguments,function(e,t){for(var i;(i=Q.inArray(t,l,i))>-1;)l.splice(i,1),n&&(a>=i&&a--,r>=i&&r--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=h=t=void 0,this},disabled:function(){return!l},lock:function(){return h=void 0,t||p.disable(),this},locked:function(){return!h},fireWith:function(e,t){return!l||i&&!h||(t=t||[],t=[e,t.slice?t.slice():t],n?h.push(t):u(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(i){Q.each(t,function(t,s){var a=Q.isFunction(e[t])&&e[t];o[s[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,n):n}},o={};return n.pipe=n.then,Q.each(t,function(e,s){var a=s[2],r=s[3];n[s[1]]=a.add,r&&a.add(function(){i=r},t[1^e][2].disable,t[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=a.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,s=K.call(arguments),a=s.length,r=1!==a||e&&Q.isFunction(e.promise)?a:0,l=1===r?e:Q.Deferred(),h=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?K.call(arguments):o,n===t?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)s[o]&&Q.isFunction(s[o].promise)?s[o].promise().done(h(o,n,s)).fail(l.reject).progress(h(o,i,t)):--r;return r||l.resolveWith(n,s),l.promise()}});var gt;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(gt.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(t){return gt||(gt=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),gt.promise(t)},Q.ready.promise();var mt=Q.access=function(e,t,i,n,o,s,a){var r=0,l=e.length,h=null==i;if("object"===Q.type(i)){o=!0;for(r in i)Q.access(e,t,r,i[r],!0,s,a)}else if(void 0!==n&&(o=!0,Q.isFunction(n)||(a=!0),h&&(a?(t.call(e,n),t=null):(h=t,t=function(e,t,i){return h.call(Q(e),i)})),t))for(;l>r;r++)t(e[r],i,a?n:n.call(e[r],r,t(e[r],i)));return o?e:h?t.call(e):l?t(e[0],i):s};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},r.uid=1,r.accepts=Q.acceptData,r.prototype={key:function(e){if(!r.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=r.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,Q.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,o=this.key(e),s=this.cache[o];if("string"==typeof t)s[t]=i;else if(Q.isEmptyObject(s))Q.extend(this.cache[o],t);else for(n in t)s[n]=t[n];return s},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,Q.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,o,s=this.key(e),a=this.cache[s];if(void 0===t)this.cache[s]={};else{Q.isArray(t)?n=t.concat(t.map(Q.camelCase)):(o=Q.camelCase(t),t in a?n=[t,o]:(n=o,n=n in a?[n]:n.match(dt)||[])),i=n.length;for(;i--;)delete a[n[i]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]
}};var _t=new r,vt=new r,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Q.extend({hasData:function(e){return vt.hasData(e)||_t.hasData(e)},data:function(e,t,i){return vt.access(e,t,i)},removeData:function(e,t){vt.remove(e,t)},_data:function(e,t,i){return _t.access(e,t,i)},_removeData:function(e,t){_t.remove(e,t)}}),Q.fn.extend({data:function(e,t){var i,n,o,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(o=vt.get(s),1===s.nodeType&&!_t.get(s,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=Q.camelCase(n.slice(5)),l(s,n,o[n])));_t.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){vt.set(this,e)}):mt(this,function(t){var i,n=Q.camelCase(e);if(s&&void 0===t){if(i=vt.get(s,e),void 0!==i)return i;if(i=vt.get(s,n),void 0!==i)return i;if(i=l(s,n,void 0),void 0!==i)return i}else this.each(function(){var i=vt.get(this,n);vt.set(this,n,t),-1!==e.indexOf("-")&&void 0!==i&&vt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){vt.remove(this,e)})}}),Q.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=_t.get(e,t),i&&(!n||Q.isArray(i)?n=_t.access(e,t,Q.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=Q.queue(e,t),n=i.length,o=i.shift(),s=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete s.stop,o.call(e,a,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return _t.get(e,i)||_t.access(e,i,{empty:Q.Callbacks("once memory").add(function(){_t.remove(e,[t+"queue",i])})})}}),Q.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?Q.queue(this[0],e):void 0===t?this:this.each(function(){var i=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=Q.Deferred(),s=this,a=this.length,r=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=_t.get(s[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(r));return r(),o.promise(t)}});var yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=["Top","Right","Bottom","Left"],xt=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},Tt=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),i=J.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Mt="undefined";Z.focusinBubbles="onfocusin"in e;var Pt=/^key/,It=/^(?:mouse|pointer|contextmenu)|click/,Ct=/^(?:focusinfocus|focusoutblur)$/,St=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,i,n,o){var s,a,r,l,h,u,p,c,d,f,g,m=_t.get(e);if(m)for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=Q.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof Q!==Mt&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(dt)||[""],h=t.length;h--;)r=St.exec(t[h])||[],d=g=r[1],f=(r[2]||"").split(".").sort(),d&&(p=Q.event.special[d]||{},d=(o?p.delegateType:p.bindType)||d,p=Q.event.special[d]||{},u=Q.extend({type:d,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&Q.expr.match.needsContext.test(o),namespace:f.join(".")},s),(c=l[d])||(c=l[d]=[],c.delegateCount=0,p.setup&&p.setup.call(e,n,f,a)!==!1||e.addEventListener&&e.addEventListener(d,a,!1)),p.add&&(p.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),o?c.splice(c.delegateCount++,0,u):c.push(u),Q.event.global[d]=!0)},remove:function(e,t,i,n,o){var s,a,r,l,h,u,p,c,d,f,g,m=_t.hasData(e)&&_t.get(e);if(m&&(l=m.events)){for(t=(t||"").match(dt)||[""],h=t.length;h--;)if(r=St.exec(t[h])||[],d=g=r[1],f=(r[2]||"").split(".").sort(),d){for(p=Q.event.special[d]||{},d=(n?p.delegateType:p.bindType)||d,c=l[d]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=c.length;s--;)u=c[s],!o&&g!==u.origType||i&&i.guid!==u.guid||r&&!r.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(c.splice(s,1),u.selector&&c.delegateCount--,p.remove&&p.remove.call(e,u));a&&!c.length&&(p.teardown&&p.teardown.call(e,f,m.handle)!==!1||Q.removeEvent(e,d,m.handle),delete l[d])}else for(d in l)Q.event.remove(e,d+t[h],i,n,!0);Q.isEmptyObject(l)&&(delete m.handle,_t.remove(e,"events"))}},trigger:function(t,i,n,o){var s,a,r,l,h,u,p,c=[n||J],d=V.call(t,"type")?t.type:t,f=V.call(t,"namespace")?t.namespace.split("."):[];if(a=r=n=n||J,3!==n.nodeType&&8!==n.nodeType&&!Ct.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(f=d.split("."),d=f.shift(),f.sort()),h=d.indexOf(":")<0&&"on"+d,t=t[Q.expando]?t:new Q.Event(d,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:Q.makeArray(i,[t]),p=Q.event.special[d]||{},o||!p.trigger||p.trigger.apply(n,i)!==!1)){if(!o&&!p.noBubble&&!Q.isWindow(n)){for(l=p.delegateType||d,Ct.test(l+d)||(a=a.parentNode);a;a=a.parentNode)c.push(a),r=a;r===(n.ownerDocument||J)&&c.push(r.defaultView||r.parentWindow||e)}for(s=0;(a=c[s++])&&!t.isPropagationStopped();)t.type=s>1?l:p.bindType||d,u=(_t.get(a,"events")||{})[t.type]&&_t.get(a,"handle"),u&&u.apply(a,i),u=h&&a[h],u&&u.apply&&Q.acceptData(a)&&(t.result=u.apply(a,i),t.result===!1&&t.preventDefault());return t.type=d,o||t.isDefaultPrevented()||p._default&&p._default.apply(c.pop(),i)!==!1||!Q.acceptData(n)||h&&Q.isFunction(n[d])&&!Q.isWindow(n)&&(r=n[h],r&&(n[h]=null),Q.event.triggered=d,n[d](),Q.event.triggered=void 0,r&&(n[h]=r)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,i,n,o,s,a=[],r=K.call(arguments),l=(_t.get(this,"events")||{})[e.type]||[],h=Q.event.special[e.type]||{};if(r[0]=e,e.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,n=((Q.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,r),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,s,a=[],r=t.delegateCount,l=e.target;if(r&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(n=[],i=0;r>i;i++)s=t[i],o=s.selector+" ",void 0===n[o]&&(n[o]=s.needsContext?Q(o,this).index(l)>=0:Q.find(o,this,null,[l]).length),n[o]&&n.push(s);n.length&&a.push({elem:l,handlers:n})}return r<t.length&&a.push({elem:this,handlers:t.slice(r)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,s=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||J,n=i.documentElement,o=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,i,n,o=e.type,s=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=It.test(o)?this.mouseHooks:Pt.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new Q.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==p()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=Q.extend(new Q.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?Q.event.trigger(o,null,t):Q.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},Q.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:u):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,s=e.handleObj;return(!o||o!==n&&!Q.contains(n,o))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),Z.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=_t.access(n,t);o||n.addEventListener(e,i,!0),_t.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=_t.access(n,t)-1;o?_t.access(n,t,o):(n.removeEventListener(e,i,!0),_t.remove(n,t))}}}),Q.fn.extend({on:function(e,t,i,n,o){var s,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(a in e)this.on(a,t,i,e[a],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=u;else if(!n)return this;return 1===o&&(s=n,n=function(e){return Q().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Q(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=u),this.each(function(){Q.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?Q.event.trigger(e,t,i,!0):void 0}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,At=/<|&#?\w+;/,jt=/<(?:script|style|link)/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/^$|\/(?:java|ecma)script/i,Ft=/^true\/(.*)/,Bt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,Q.extend({clone:function(e,t,i){var n,o,s,a,r=e.cloneNode(!0),l=Q.contains(e.ownerDocument,e);if(!(Z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=_(r),s=_(e),n=0,o=s.length;o>n;n++)v(s[n],a[n]);if(t)if(i)for(s=s||_(e),a=a||_(r),n=0,o=s.length;o>n;n++)m(s[n],a[n]);else m(e,r);return a=_(r,"script"),a.length>0&&g(a,!l&&_(e,"script")),r},buildFragment:function(e,t,i,n){for(var o,s,a,r,l,h,u=t.createDocumentFragment(),p=[],c=0,d=e.length;d>c;c++)if(o=e[c],o||0===o)if("object"===Q.type(o))Q.merge(p,o.nodeType?[o]:o);else if(At.test(o)){for(s=s||u.appendChild(t.createElement("div")),a=(zt.exec(o)||["",""])[1].toLowerCase(),r=$t[a]||$t._default,s.innerHTML=r[1]+o.replace(Dt,"<$1></$2>")+r[2],h=r[0];h--;)s=s.lastChild;Q.merge(p,s.childNodes),s=u.firstChild,s.textContent=""}else p.push(t.createTextNode(o));for(u.textContent="",c=0;o=p[c++];)if((!n||-1===Q.inArray(o,n))&&(l=Q.contains(o.ownerDocument,o),s=_(u.appendChild(o),"script"),l&&g(s),i))for(h=0;o=s[h++];)Et.test(o.type||"")&&i.push(o);return u},cleanData:function(e){for(var t,i,n,o,s=Q.event.special,a=0;void 0!==(i=e[a]);a++){if(Q.acceptData(i)&&(o=i[_t.expando],o&&(t=_t.cache[o]))){if(t.events)for(n in t.events)s[n]?Q.event.remove(i,n):Q.removeEvent(i,n,t.handle);_t.cache[o]&&delete _t.cache[o]}delete vt.cache[i[vt.expando]]}}}),Q.fn.extend({text:function(e){return mt(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=c(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=c(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?Q.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||Q.cleanData(_(i)),i.parentNode&&(t&&Q.contains(i.ownerDocument,i)&&g(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return mt(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!jt.test(e)&&!$t[(zt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Dt,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(Q.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(_(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=R.apply([],e);var i,n,o,s,a,r,l=0,h=this.length,u=this,p=h-1,c=e[0],g=Q.isFunction(c);if(g||h>1&&"string"==typeof c&&!Z.checkClone&&Nt.test(c))return this.each(function(i){var n=u.eq(i);g&&(e[0]=c.call(this,i,n.html())),n.domManip(e,t)});if(h&&(i=Q.buildFragment(e,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(o=Q.map(_(i,"script"),d),s=o.length;h>l;l++)a=i,l!==p&&(a=Q.clone(a,!0,!0),s&&Q.merge(o,_(a,"script"))),t.call(this[l],a,l);if(s)for(r=o[o.length-1].ownerDocument,Q.map(o,f),l=0;s>l;l++)a=o[l],Et.test(a.type||"")&&!_t.access(a,"globalEval")&&Q.contains(r,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Bt,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var i,n=[],o=Q(e),s=o.length-1,a=0;s>=a;a++)i=a===s?this:this.clone(!0),Q(o[a])[t](i),q.apply(n,i.get());return this.pushStack(n)}});var Ot,Lt={},Ht=/^margin/,Wt=new RegExp("^("+yt+")(?!px)[a-z%]+$","i"),Kt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",o.appendChild(s);var t=e.getComputedStyle(a,null);i="1%"!==t.top,n="4px"===t.width,o.removeChild(s)}var i,n,o=J.documentElement,s=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(a),e.getComputedStyle&&Q.extend(Z,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,i=a.appendChild(J.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",o.appendChild(s),t=!parseFloat(e.getComputedStyle(i,null).marginRight),o.removeChild(s),t}}))}(),Q.swap=function(e,t,i,n){var o,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];o=i.apply(e,n||[]);for(s in t)e.style[s]=a[s];return o};var Rt=/^(none|table(?!-c[ea]).+)/,qt=new RegExp("^("+yt+")(.*)$","i"),Ut=new RegExp("^([+-])=("+yt+")","i"),Yt={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=y(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,r=Q.camelCase(t),l=e.style;return t=Q.cssProps[r]||(Q.cssProps[r]=x(l,r)),a=Q.cssHooks[t]||Q.cssHooks[r],void 0===i?a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t]:(s=typeof i,"string"===s&&(o=Ut.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Q.css(e,t)),s="number"),null!=i&&i===i&&("number"!==s||Q.cssNumber[r]||(i+="px"),Z.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l[t]=i)),void 0)}},css:function(e,t,i,n){var o,s,a,r=Q.camelCase(t);return t=Q.cssProps[r]||(Q.cssProps[r]=x(e.style,r)),a=Q.cssHooks[t]||Q.cssHooks[r],a&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=y(e,t,n)),"normal"===o&&t in Gt&&(o=Gt[t]),""===i||i?(s=parseFloat(o),i===!0||Q.isNumeric(s)?s||0:o):o}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,i,n){return i?Rt.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Yt,function(){return P(e,t,n)}):P(e,t,n):void 0},set:function(e,i,n){var o=n&&Kt(e);return T(e,i,n?M(e,t,n,"border-box"===Q.css(e,"boxSizing",!1,o),o):0)}}}),Q.cssHooks.marginRight=k(Z.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},y,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+kt[n]+t]=s[n]||s[n-2]||s[0];return o}},Ht.test(e)||(Q.cssHooks[e+t].set=T)}),Q.fn.extend({css:function(e,t){return mt(this,function(e,t,i){var n,o,s={},a=0;if(Q.isArray(t)){for(n=Kt(e),o=t.length;o>a;a++)s[t[a]]=Q.css(e,t[a],!1,n);return s}return void 0!==i?Q.style(e,t,i):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){xt(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=C,C.prototype={constructor:C,init:function(e,t,i,n,o,s){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(Q.cssNumber[i]?"":"px")},cur:function(){var e=C.propHooks[this.prop];return e&&e.get?e.get(this):C.propHooks._default.get(this)},run:function(e){var t,i=C.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=C.prototype.init,Q.fx.step={};var Zt,Jt,Xt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+yt+")([a-z%]*)$","i"),ei=/queueHooks$/,ti=[A],ii={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=Qt.exec(t),s=o&&o[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==s&&+n)&&Qt.exec(Q.css(i.elem,e)),r=1,l=20;if(a&&a[3]!==s){s=s||a[3],o=o||[],a=+n||1;do r=r||".5",a/=r,Q.style(i.elem,e,a+s);while(r!==(r=i.cur()/n)&&1!==r&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=s,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};Q.Animation=Q.extend(N,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;o>n;n++)i=e[n],ii[i]=ii[i]||[],ii[i].unshift(t)},prefilter:function(e,t){t?ti.unshift(e):ti.push(e)}}),Q.speed=function(e,t,i){var n=e&&"object"==typeof e?Q.extend({},e):{complete:i||!i&&t||Q.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Q.isFunction(t)&&t};return n.duration=Q.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Q.fx.speeds?Q.fx.speeds[n.duration]:Q.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Q.isFunction(n.old)&&n.old.call(this),n.queue&&Q.dequeue(this,n.queue)},n},Q.fn.extend({fadeTo:function(e,t,i,n){return this.filter(xt).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=Q.isEmptyObject(e),s=Q.speed(t,i,n),a=function(){var t=N(this,Q.extend({},e),s);(o||_t.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",s=Q.timers,a=_t.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&ei.test(o)&&n(a[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(i),t=!1,s.splice(o,1));(t||!i)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=_t.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],s=Q.timers,a=n?n.length:0;for(i.finish=!0,Q.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var i=Q.fn[t];Q.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(D(t,!0),e,n,o)}}),Q.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,i=Q.timers;for(Zt=Q.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||Q.fx.stop(),Zt=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Jt||(Jt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Jt),Jt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),i=t.appendChild(J.createElement("option"));e.type="checkbox",Z.checkOn=""!==e.value,Z.optSelected=i.selected,t.disabled=!0,Z.optDisabled=!i.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Z.radioValue="t"===e.value}();var ni,oi,si=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return mt(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,i){var n,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Mt?Q.prop(e,t,i):(1===s&&Q.isXMLDoc(e)||(t=t.toLowerCase(),n=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?oi:ni)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:(o=Q.find.attr(e,t),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void Q.removeAttr(e,t))},removeAttr:function(e,t){var i,n,o=0,s=t&&t.match(dt);if(s&&1===e.nodeType)for(;i=s[o++];)n=Q.propFix[i]||i,Q.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!Z.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),oi={set:function(e,t,i){return t===!1?Q.removeAttr(e,i):e.setAttribute(i,i),i}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var i=si[t]||Q.find.attr;si[t]=function(e,t,n){var o,s;return n||(s=si[t],si[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,si[t]=s),o}});var ai=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return mt(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!Q.isXMLDoc(e),s&&(t=Q.propFix[t]||t,o=Q.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ai.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var ri=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,i,n,o,s,a,r="string"==typeof e&&e,l=0,h=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(r)for(t=(e||"").match(dt)||[];h>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ri," "):" ")){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=Q.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,o,s,a,r=0===arguments.length||"string"==typeof e&&e,l=0,h=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(r)for(t=(e||"").match(dt)||[];h>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ri," "):"")){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=e?Q.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(i){Q(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,o=Q(this),s=e.match(dt)||[];t=s[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(i===Mt||"boolean"===i)&&(this.className&&_t.set(this,"__className__",this.className),this.className=this.className||e===!1?"":_t.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ri," ").indexOf(t)>=0)return!0;return!1}});var li=/\r/g;Q.fn.extend({val:function(e){var t,i,n,o=this[0];{if(arguments.length)return n=Q.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=n?e.call(this,i,Q(this).val()):e,null==o?o="":"number"==typeof o?o+="":Q.isArray(o)&&(o=Q.map(o,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=Q.valHooks[o.type]||Q.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(li,""):null==i?"":i)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,s="select-one"===e.type||0>o,a=s?null:[],r=s?o+1:n.length,l=0>o?r:s?o:0;r>l;l++)if(i=n[l],!(!i.selected&&l!==o||(Z.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Q.nodeName(i.parentNode,"optgroup"))){if(t=Q(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,s=Q.makeArray(t),a=o.length;a--;)n=o[a],(n.selected=Q.inArray(n.value,s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},Z.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var hi=Q.now(),ui=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(n){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var pi,ci,di=/#.*$/,fi=/([?&])_=[^&]*/,gi=/^(.*?):[ \t]*([^\r\n]*)$/gm,mi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_i=/^(?:GET|HEAD)$/,vi=/^\/\//,bi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wi={},yi={},ki="*/".concat("*");try{ci=location.href}catch(xi){ci=J.createElement("a"),ci.href="",ci=ci.href}pi=bi.exec(ci.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ci,type:"GET",isLocal:mi.test(pi[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ki,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,Q.ajaxSettings),t):B(Q.ajaxSettings,e)
},ajaxPrefilter:E(wi),ajaxTransport:E(yi),ajax:function(e,t){function i(e,t,i,a){var l,u,_,v,w,k=t;2!==b&&(b=2,r&&clearTimeout(r),n=void 0,s=a||"",y.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(v=$(p,y,i)),v=O(p,v,y,l),l?(p.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(Q.lastModified[o]=w),w=y.getResponseHeader("etag"),w&&(Q.etag[o]=w)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=v.state,u=v.data,_=v.error,l=!_)):(_=k,(e||!k)&&(k="error",0>e&&(e=0))),y.status=e,y.statusText=(t||k)+"",l?f.resolveWith(c,[u,k,y]):f.rejectWith(c,[y,k,_]),y.statusCode(m),m=void 0,h&&d.trigger(l?"ajaxSuccess":"ajaxError",[y,p,l?u:_]),g.fireWith(c,[y,k]),h&&(d.trigger("ajaxComplete",[y,p]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,s,a,r,l,h,u,p=Q.ajaxSetup({},t),c=p.context||p,d=p.context&&(c.nodeType||c.jquery)?Q(c):Q.event,f=Q.Deferred(),g=Q.Callbacks("once memory"),m=p.statusCode||{},_={},v={},b=0,w="canceled",y={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=gi.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=v[i]=v[i]||e,_[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else y.always(e[y.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),i(0,t),this}};if(f.promise(y).complete=g.add,y.success=y.done,y.error=y.fail,p.url=((e||p.url||ci)+"").replace(di,"").replace(vi,pi[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=Q.trim(p.dataType||"*").toLowerCase().match(dt)||[""],null==p.crossDomain&&(l=bi.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]===pi[1]&&l[2]===pi[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(pi[3]||("http:"===pi[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Q.param(p.data,p.traditional)),F(wi,p,t,y),2===b)return y;h=p.global,h&&0===Q.active++&&Q.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!_i.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(ui.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=fi.test(o)?o.replace(fi,"$1_="+hi++):o+(ui.test(o)?"&":"?")+"_="+hi++)),p.ifModified&&(Q.lastModified[o]&&y.setRequestHeader("If-Modified-Since",Q.lastModified[o]),Q.etag[o]&&y.setRequestHeader("If-None-Match",Q.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&y.setRequestHeader("Content-Type",p.contentType),y.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ki+"; q=0.01":""):p.accepts["*"]);for(u in p.headers)y.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(p.beforeSend.call(c,y,p)===!1||2===b))return y.abort();w="abort";for(u in{success:1,error:1,complete:1})y[u](p[u]);if(n=F(yi,p,t,y)){y.readyState=1,h&&d.trigger("ajaxSend",[y,p]),p.async&&p.timeout>0&&(r=setTimeout(function(){y.abort("timeout")},p.timeout));try{b=1,n.send(_,i)}catch(k){if(!(2>b))throw k;i(-1,k)}}else i(-1,"No Transport");return y},getJSON:function(e,t,i){return Q.get(e,t,i,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,i,n,o){return Q.isFunction(i)&&(o=o||n,n=i,i=void 0),Q.ajax({url:e,type:t,dataType:o,data:i,success:n})}}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(i){Q(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var Ti=/%20/g,Mi=/\[\]$/,Pi=/\r?\n/g,Ii=/^(?:submit|button|image|reset|file)$/i,Ci=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var i,n=[],o=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){o(this.name,this.value)});else for(i in e)L(i,e[i],t,o);return n.join("&").replace(Ti,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Ci.test(this.nodeName)&&!Ii.test(e)&&(this.checked||!Tt.test(e))}).map(function(e,t){var i=Q(this).val();return null==i?null:Q.isArray(i)?Q.map(i,function(e){return{name:t.name,value:e.replace(Pi,"\r\n")}}):{name:t.name,value:i.replace(Pi,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Si=0,Di={},zi={0:200,1223:204},Ai=Q.ajaxSettings.xhr();e.ActiveXObject&&Q(e).on("unload",function(){for(var e in Di)Di[e]()}),Z.cors=!!Ai&&"withCredentials"in Ai,Z.ajax=Ai=!!Ai,Q.ajaxTransport(function(e){var t;return Z.cors||Ai&&!e.crossDomain?{send:function(i,n){var o,s=e.xhr(),a=++Si;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)s.setRequestHeader(o,i[o]);t=function(e){return function(){t&&(delete Di[a],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?n(s.status,s.statusText):n(zi[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Di[a]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(r){if(t)throw r}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,o){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){i&&i()}}}});var ji=[],Ni=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ji.pop()||Q.expando+"_"+hi++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,i,n){var o,s,a,r=t.jsonp!==!1&&(Ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ni.test(t.data)&&"data");return r||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Ni,"$1"+o):t.jsonp!==!1&&(t.url+=(ui.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||Q.error(o+" was not called"),a[0]},t.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},n.always(function(){e[o]=s,t[o]&&(t.jsonpCallback=i.jsonpCallback,ji.push(o)),a&&Q.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||J;var n=at.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=Q.buildFragment([e],t,o),o&&o.length&&Q(o).remove(),Q.merge([],n.childNodes))};var Ei=Q.fn.load;Q.fn.load=function(e,t,i){if("string"!=typeof e&&Ei)return Ei.apply(this,arguments);var n,o,s,a=this,r=e.indexOf(" ");return r>=0&&(n=Q.trim(e.slice(r)),e=e.slice(0,r)),Q.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&Q.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){s=arguments,a.html(n?Q("<div>").append(Q.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,s||[e.responseText,t,e])}),this},Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Fi=e.document.documentElement;Q.offset={setOffset:function(e,t,i){var n,o,s,a,r,l,h,u=Q.css(e,"position"),p=Q(e),c={};"static"===u&&(e.style.position="relative"),r=p.offset(),s=Q.css(e,"top"),l=Q.css(e,"left"),h=("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1,h?(n=p.position(),a=n.top,o=n.left):(a=parseFloat(s)||0,o=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,i,r)),null!=t.top&&(c.top=t.top-r.top+a),null!=t.left&&(c.left=t.left-r.left+o),"using"in t?t.using.call(e,c):p.css(c)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,i,n=this[0],o={top:0,left:0},s=n&&n.ownerDocument;if(s)return t=s.documentElement,Q.contains(t,n)?(typeof n.getBoundingClientRect!==Mt&&(o=n.getBoundingClientRect()),i=H(s),{top:o.top+i.pageYOffset-t.clientTop,left:o.left+i.pageXOffset-t.clientLeft}):o},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===Q.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(n=e.offset()),n.top+=Q.css(e[0],"borderTopWidth",!0),n.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Q.css(i,"marginTop",!0),left:t.left-n.left-Q.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Fi;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Fi})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;Q.fn[t]=function(o){return mt(this,function(t,o,s){var a=H(t);return void 0===s?a?a[i]:t[o]:void(a?a.scrollTo(n?e.pageXOffset:s,n?s:e.pageYOffset):t[o]=s)},t,o,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=k(Z.pixelPosition,function(e,i){return i?(i=y(e,t),Wt.test(i)?Q(e).position()[t]+"px":i):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){Q.fn[n]=function(n,o){var s=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return mt(this,function(t,i,n){var o;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?Q.css(t,i,a):Q.style(t,i,n,a)},t,s?n:void 0,s,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Bi=e.jQuery,$i=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=$i),t&&e.jQuery===Q&&(e.jQuery=Bi),Q},typeof t===Mt&&(e.jQuery=e.$=Q),Q})},{}],7:[function(e,t,i){(function(){var e=this,n=e._,o=Array.prototype,s=Object.prototype,a=Function.prototype,r=o.push,l=o.slice,h=o.concat,u=s.toString,p=s.hasOwnProperty,c=Array.isArray,d=Object.keys,f=a.bind,g=function(e){return e instanceof g?e:this instanceof g?void(this._wrapped=e):new g(e)};"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=g),i._=g):e._=g,g.VERSION="1.7.0";var m=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,s){return e.call(t,i,n,o,s)}}return function(){return e.apply(t,arguments)}};g.iteratee=function(e,t,i){return null==e?g.identity:g.isFunction(e)?m(e,t,i):g.isObject(e)?g.matches(e):g.property(e)},g.each=g.forEach=function(e,t,i){if(null==e)return e;t=m(t,i);var n,o=e.length;if(o===+o)for(n=0;o>n;n++)t(e[n],n,e);else{var s=g.keys(e);for(n=0,o=s.length;o>n;n++)t(e[s[n]],s[n],e)}return e},g.map=g.collect=function(e,t,i){if(null==e)return[];t=g.iteratee(t,i);for(var n,o=e.length!==+e.length&&g.keys(e),s=(o||e).length,a=Array(s),r=0;s>r;r++)n=o?o[r]:r,a[r]=t(e[n],n,e);return a};var _="Reduce of empty array with no initial value";g.reduce=g.foldl=g.inject=function(e,t,i,n){null==e&&(e=[]),t=m(t,n,4);var o,s=e.length!==+e.length&&g.keys(e),a=(s||e).length,r=0;if(arguments.length<3){if(!a)throw new TypeError(_);i=e[s?s[r++]:r++]}for(;a>r;r++)o=s?s[r]:r,i=t(i,e[o],o,e);return i},g.reduceRight=g.foldr=function(e,t,i,n){null==e&&(e=[]),t=m(t,n,4);var o,s=e.length!==+e.length&&g.keys(e),a=(s||e).length;if(arguments.length<3){if(!a)throw new TypeError(_);i=e[s?s[--a]:--a]}for(;a--;)o=s?s[a]:a,i=t(i,e[o],o,e);return i},g.find=g.detect=function(e,t,i){var n;return t=g.iteratee(t,i),g.some(e,function(e,i,o){return t(e,i,o)?(n=e,!0):void 0}),n},g.filter=g.select=function(e,t,i){var n=[];return null==e?n:(t=g.iteratee(t,i),g.each(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n)},g.reject=function(e,t,i){return g.filter(e,g.negate(g.iteratee(t)),i)},g.every=g.all=function(e,t,i){if(null==e)return!0;t=g.iteratee(t,i);var n,o,s=e.length!==+e.length&&g.keys(e),a=(s||e).length;for(n=0;a>n;n++)if(o=s?s[n]:n,!t(e[o],o,e))return!1;return!0},g.some=g.any=function(e,t,i){if(null==e)return!1;t=g.iteratee(t,i);var n,o,s=e.length!==+e.length&&g.keys(e),a=(s||e).length;for(n=0;a>n;n++)if(o=s?s[n]:n,t(e[o],o,e))return!0;return!1},g.contains=g.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=g.values(e)),g.indexOf(e,t)>=0)},g.invoke=function(e,t){var i=l.call(arguments,2),n=g.isFunction(t);return g.map(e,function(e){return(n?t:e[t]).apply(e,i)})},g.pluck=function(e,t){return g.map(e,g.property(t))},g.where=function(e,t){return g.filter(e,g.matches(t))},g.findWhere=function(e,t){return g.find(e,g.matches(t))},g.max=function(e,t,i){var n,o,s=-1/0,a=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:g.values(e);for(var r=0,l=e.length;l>r;r++)n=e[r],n>s&&(s=n)}else t=g.iteratee(t,i),g.each(e,function(e,i,n){o=t(e,i,n),(o>a||o===-1/0&&s===-1/0)&&(s=e,a=o)});return s},g.min=function(e,t,i){var n,o,s=1/0,a=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:g.values(e);for(var r=0,l=e.length;l>r;r++)n=e[r],s>n&&(s=n)}else t=g.iteratee(t,i),g.each(e,function(e,i,n){o=t(e,i,n),(a>o||1/0===o&&1/0===s)&&(s=e,a=o)});return s},g.shuffle=function(e){for(var t,i=e&&e.length===+e.length?e:g.values(e),n=i.length,o=Array(n),s=0;n>s;s++)t=g.random(0,s),t!==s&&(o[s]=o[t]),o[t]=i[s];return o},g.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=g.values(e)),e[g.random(e.length-1)]):g.shuffle(e).slice(0,Math.max(0,t))},g.sortBy=function(e,t,i){return t=g.iteratee(t,i),g.pluck(g.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var v=function(e){return function(t,i,n){var o={};return i=g.iteratee(i,n),g.each(t,function(n,s){var a=i(n,s,t);e(o,n,a)}),o}};g.groupBy=v(function(e,t,i){g.has(e,i)?e[i].push(t):e[i]=[t]}),g.indexBy=v(function(e,t,i){e[i]=t}),g.countBy=v(function(e,t,i){g.has(e,i)?e[i]++:e[i]=1}),g.sortedIndex=function(e,t,i,n){i=g.iteratee(i,n,1);for(var o=i(t),s=0,a=e.length;a>s;){var r=s+a>>>1;i(e[r])<o?s=r+1:a=r}return s},g.toArray=function(e){return e?g.isArray(e)?l.call(e):e.length===+e.length?g.map(e,g.identity):g.values(e):[]},g.size=function(e){return null==e?0:e.length===+e.length?e.length:g.keys(e).length},g.partition=function(e,t,i){t=g.iteratee(t,i);var n=[],o=[];return g.each(e,function(e,i,s){(t(e,i,s)?n:o).push(e)}),[n,o]},g.first=g.head=g.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:l.call(e,0,t)},g.initial=function(e,t,i){return l.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},g.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},g.rest=g.tail=g.drop=function(e,t,i){return l.call(e,null==t||i?1:t)},g.compact=function(e){return g.filter(e,g.identity)};var b=function(e,t,i,n){if(t&&g.every(e,g.isArray))return h.apply(n,e);for(var o=0,s=e.length;s>o;o++){var a=e[o];g.isArray(a)||g.isArguments(a)?t?r.apply(n,a):b(a,t,i,n):i||n.push(a)}return n};g.flatten=function(e,t){return b(e,t,!1,[])},g.without=function(e){return g.difference(e,l.call(arguments,1))},g.uniq=g.unique=function(e,t,i,n){if(null==e)return[];g.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=g.iteratee(i,n));for(var o=[],s=[],a=0,r=e.length;r>a;a++){var l=e[a];if(t)a&&s===l||o.push(l),s=l;else if(i){var h=i(l,a,e);g.indexOf(s,h)<0&&(s.push(h),o.push(l))}else g.indexOf(o,l)<0&&o.push(l)}return o},g.union=function(){return g.uniq(b(arguments,!0,!0,[]))},g.intersection=function(e){if(null==e)return[];for(var t=[],i=arguments.length,n=0,o=e.length;o>n;n++){var s=e[n];if(!g.contains(t,s)){for(var a=1;i>a&&g.contains(arguments[a],s);a++);a===i&&t.push(s)}}return t},g.difference=function(e){var t=b(l.call(arguments,1),!0,!0,[]);return g.filter(e,function(e){return!g.contains(t,e)})},g.zip=function(e){if(null==e)return[];for(var t=g.max(arguments,"length").length,i=Array(t),n=0;t>n;n++)i[n]=g.pluck(arguments,n);return i},g.object=function(e,t){if(null==e)return{};for(var i={},n=0,o=e.length;o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},g.indexOf=function(e,t,i){if(null==e)return-1;var n=0,o=e.length;if(i){if("number"!=typeof i)return n=g.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,o+i):i}for(;o>n;n++)if(e[n]===t)return n;return-1},g.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=e.length;for("number"==typeof i&&(n=0>i?n+i+1:Math.min(n,i+1));--n>=0;)if(e[n]===t)return n;return-1},g.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),s=0;n>s;s++,e+=i)o[s]=e;return o};var w=function(){};g.bind=function(e,t){var i,n;if(f&&e.bind===f)return f.apply(e,l.call(arguments,1));if(!g.isFunction(e))throw new TypeError("Bind must be called on a function");return i=l.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(l.call(arguments)));w.prototype=e.prototype;var o=new w;w.prototype=null;var s=e.apply(o,i.concat(l.call(arguments)));return g.isObject(s)?s:o}},g.partial=function(e){var t=l.call(arguments,1);return function(){for(var i=0,n=t.slice(),o=0,s=n.length;s>o;o++)n[o]===g&&(n[o]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},g.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=g.bind(e[i],e);return e},g.memoize=function(e,t){var i=function(n){var o=i.cache,s=t?t.apply(this,arguments):n;return g.has(o,s)||(o[s]=e.apply(this,arguments)),o[s]};return i.cache={},i},g.delay=function(e,t){var i=l.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},g.defer=function(e){return g.delay.apply(g,[e,1].concat(l.call(arguments,1)))},g.throttle=function(e,t,i){var n,o,s,a=null,r=0;i||(i={});var l=function(){r=i.leading===!1?0:g.now(),a=null,s=e.apply(n,o),a||(n=o=null)};return function(){var h=g.now();r||i.leading!==!1||(r=h);var u=t-(h-r);return n=this,o=arguments,0>=u||u>t?(clearTimeout(a),a=null,r=h,s=e.apply(n,o),a||(n=o=null)):a||i.trailing===!1||(a=setTimeout(l,u)),s}},g.debounce=function(e,t,i){var n,o,s,a,r,l=function(){var h=g.now()-a;t>h&&h>0?n=setTimeout(l,t-h):(n=null,i||(r=e.apply(s,o),n||(s=o=null)))};return function(){s=this,o=arguments,a=g.now();var h=i&&!n;return n||(n=setTimeout(l,t)),h&&(r=e.apply(s,o),s=o=null),r}},g.wrap=function(e,t){return g.partial(t,e)},g.negate=function(e){return function(){return!e.apply(this,arguments)}},g.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},g.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},g.before=function(e,t){var i;return function(){return--e>0?i=t.apply(this,arguments):t=null,i}},g.once=g.partial(g.before,2),g.keys=function(e){if(!g.isObject(e))return[];if(d)return d(e);var t=[];for(var i in e)g.has(e,i)&&t.push(i);return t},g.values=function(e){for(var t=g.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},g.pairs=function(e){for(var t=g.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},g.invert=function(e){for(var t={},i=g.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},g.functions=g.methods=function(e){var t=[];for(var i in e)g.isFunction(e[i])&&t.push(i);return t.sort()},g.extend=function(e){if(!g.isObject(e))return e;for(var t,i,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(i in t)p.call(t,i)&&(e[i]=t[i])}return e},g.pick=function(e,t,i){var n,o={};if(null==e)return o;if(g.isFunction(t)){t=m(t,i);for(n in e){var s=e[n];t(s,n,e)&&(o[n]=s)}}else{var a=h.apply([],l.call(arguments,1));e=new Object(e);for(var r=0,u=a.length;u>r;r++)n=a[r],n in e&&(o[n]=e[n])}return o},g.omit=function(e,t,i){if(g.isFunction(t))t=g.negate(t);else{var n=g.map(h.apply([],l.call(arguments,1)),String);t=function(e,t){return!g.contains(n,t)}}return g.pick(e,t,i)},g.defaults=function(e){if(!g.isObject(e))return e;for(var t=1,i=arguments.length;i>t;t++){var n=arguments[t];for(var o in n)void 0===e[o]&&(e[o]=n[o])}return e},g.clone=function(e){return g.isObject(e)?g.isArray(e)?e.slice():g.extend({},e):e},g.tap=function(e,t){return t(e),e};var y=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof g&&(e=e._wrapped),t instanceof g&&(t=t._wrapped);var o=u.call(e);if(o!==u.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=i.length;s--;)if(i[s]===e)return n[s]===t;var a=e.constructor,r=t.constructor;if(a!==r&&"constructor"in e&&"constructor"in t&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(r)&&r instanceof r))return!1;i.push(e),n.push(t);var l,h;if("[object Array]"===o){if(l=e.length,h=l===t.length)for(;l--&&(h=y(e[l],t[l],i,n)););}else{var p,c=g.keys(e);if(l=c.length,h=g.keys(t).length===l)for(;l--&&(p=c[l],h=g.has(t,p)&&y(e[p],t[p],i,n)););}return i.pop(),n.pop(),h};g.isEqual=function(e,t){return y(e,t,[],[])},g.isEmpty=function(e){if(null==e)return!0;if(g.isArray(e)||g.isString(e)||g.isArguments(e))return 0===e.length;for(var t in e)if(g.has(e,t))return!1;return!0},g.isElement=function(e){return!(!e||1!==e.nodeType)},g.isArray=c||function(e){return"[object Array]"===u.call(e)},g.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},g.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){g["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),g.isArguments(arguments)||(g.isArguments=function(e){return g.has(e,"callee")}),"function"!=typeof/./&&(g.isFunction=function(e){return"function"==typeof e||!1}),g.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},g.isNaN=function(e){return g.isNumber(e)&&e!==+e},g.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===u.call(e)},g.isNull=function(e){return null===e},g.isUndefined=function(e){return void 0===e},g.has=function(e,t){return null!=e&&p.call(e,t)},g.noConflict=function(){return e._=n,this},g.identity=function(e){return e},g.constant=function(e){return function(){return e}},g.noop=function(){},g.property=function(e){return function(t){return t[e]}},g.matches=function(e){var t=g.pairs(e),i=t.length;return function(e){if(null==e)return!i;e=new Object(e);for(var n=0;i>n;n++){var o=t[n],s=o[0];if(o[1]!==e[s]||!(s in e))return!1}return!0}},g.times=function(e,t,i){var n=Array(Math.max(0,e));t=m(t,i,1);for(var o=0;e>o;o++)n[o]=t(o);return n},g.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},g.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=g.invert(k),T=function(e){var t=function(t){return e[t]},i="(?:"+g.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}};g.escape=T(k),g.unescape=T(x),g.result=function(e,t){if(null==e)return void 0;var i=e[t];return g.isFunction(i)?e[t]():i};var M=0;g.uniqueId=function(e){var t=++M+"";return e?e+t:t},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\u2028|\u2029/g,S=function(e){return"\\"+I[e]};g.template=function(e,t,i){!t&&i&&(t=i),t=g.defaults({},t,g.templateSettings);var n=RegExp([(t.escape||P).source,(t.interpolate||P).source,(t.evaluate||P).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(n,function(t,i,n,a,r){return s+=e.slice(o,r).replace(C,S),o=r+t.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var a=new Function(t.variable||"obj","_",s)}catch(r){throw r.source=s,r}var l=function(e){return a.call(this,e,g)},h=t.variable||"obj";return l.source="function("+h+"){\n"+s+"}",l},g.chain=function(e){var t=g(e);return t._chain=!0,t};var D=function(e){return this._chain?g(e).chain():e};g.mixin=function(e){g.each(g.functions(e),function(t){var i=g[t]=e[t];g.prototype[t]=function(){var e=[this._wrapped];return r.apply(e,arguments),D.call(this,i.apply(g,e))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];g.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],D.call(this,i)}}),g.each(["concat","join","slice"],function(e){var t=o[e];g.prototype[e]=function(){return D.call(this,t.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}).call(this)},{}],8:[function(e,t){"use strict";var i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};t.exports=i},{}],9:[function(e,t){"use strict";t.exports=function(e,t){var i,n,o;return n=(e-6e5)/1e6,o=(t-2e5)/1e6,i=16.9023892+3.238272*o-.270978*Math.pow(n,2)-.002528*Math.pow(o,2)-.0447*Math.pow(n,2)*o-.014*Math.pow(o,3),i=100*i/36}},{}],10:[function(e,t){"use strict";t.exports=function(e,t){var i,n,o;return n=(e-6e5)/1e6,o=(t-2e5)/1e6,i=2.6779094+4.728982*n+.791484*n*o+.1306*n*Math.pow(o,2)-.0436*Math.pow(n,3),i=100*i/36}},{}],11:[function(e,t){"use strict";t.exports=function(t,i){var n=e("./ddInWgs84BreiteGrad"),o=n(t),s=e("./ddInWgs84BreiteMin"),a=s(t),r=e("./ddInWgs84BreiteSec"),l=r(t),h=e("./ddInWgs84LaengeGrad"),u=h(i),p=e("./ddInWgs84LaengeMin"),c=p(i),d=e("./ddInWgs84LaengeSec"),f=d(i),g=e("./wgs84InChX");return Math.floor(g(o,a,l,u,c,f))}},{"./ddInWgs84BreiteGrad":13,"./ddInWgs84BreiteMin":14,"./ddInWgs84BreiteSec":15,"./ddInWgs84LaengeGrad":16,"./ddInWgs84LaengeMin":17,"./ddInWgs84LaengeSec":18,"./wgs84InChX":20}],12:[function(e,t){"use strict";t.exports=function(t,i){var n=e("./ddInWgs84BreiteGrad"),o=n(t),s=e("./ddInWgs84BreiteMin"),a=s(t),r=e("./ddInWgs84BreiteSec"),l=r(t),h=e("./ddInWgs84LaengeGrad"),u=h(i),p=e("./ddInWgs84LaengeMin"),c=p(i),d=e("./ddInWgs84LaengeSec"),f=d(i),g=e("./wgs84InChY");return Math.floor(g(o,a,l,u,c,f))}},{"./ddInWgs84BreiteGrad":13,"./ddInWgs84BreiteMin":14,"./ddInWgs84BreiteSec":15,"./ddInWgs84LaengeGrad":16,"./ddInWgs84LaengeMin":17,"./ddInWgs84LaengeSec":18,"./wgs84InChY":21}],13:[function(e,t){"use strict";t.exports=function(e){return Math.floor(e)}},{}],14:[function(e,t){"use strict";t.exports=function(e){var t=Math.floor(e);return Math.floor(60*(e-t))}},{}],15:[function(e,t){"use strict";t.exports=function(e){var t=Math.floor(e),i=Math.floor(60*(e-t));return Math.round(60*(e-t-i/60)*60*100)/100}},{}],16:[function(e,t){"use strict";t.exports=function(e){return Math.floor(e)}},{}],17:[function(e,t){"use strict";t.exports=function(e){var t=Math.floor(e);return Math.floor(60*(e-t))}},{}],18:[function(e,t){"use strict";t.exports=function(e){var t=Math.floor(e),i=Math.floor(60*(e-t));return Math.round(60*(e-t-i/60)*60*100)/100}},{}],19:[function(e,t){"use strict";e("jquery");t.exports=function(e){e.fn.extend({limiter:function(t,i){function n(e,i){var n=e.value.length;n>t&&(e.value=e.value.substr(0,t),n=t),i.html(t-n)}e(this).on("keyup focus",function(){n(this,i)}),n(e(this)[0],i)}})}},{jquery:6}],20:[function(e,t){"use strict";t.exports=function(e,t,i,n,o,s){var a,r,l,h,u;return a=i+60*t+3600*e,r=s+60*o+3600*n,l=(a-169028.66)/1e4,h=(r-26782.5)/1e4,u=200147.07+308807.95*l+3745.25*Math.pow(h,2)+76.63*Math.pow(l,2)-194.56*Math.pow(h,2)*l+119.79*Math.pow(l,3)}},{}],21:[function(e,t){"use strict";t.exports=function(e,t,i,n,o,s){var a,r,l,h,u;return a=i+60*t+3600*e,r=s+60*o+3600*n,l=(a-169028.66)/1e4,h=(r-26782.5)/1e4,u=600072.37+211455.93*h-10938.51*h*l-.36*h*Math.pow(l,2)-44.54*Math.pow(h,3)}},{}],22:[function(e,t){"use strict";var i={},n=e("../../dbPass.json");i.db={},i.db.userName=n.user,i.db.passWord=n.pass,i.tables=[{database:"apflora",tabelleInDb:"tblAktionsplan",tabelleIdFeld:"ApArtId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"ap",initiiereFunktion:"initiiereAp",treeTyp:"gibt es nicht!"},{database:"apflora",tabelleInDb:"tblPopulation",tabelleIdFeld:"PopId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"pop",initiiereFunktion:"initiierePop",treeTyp:"pop"},{database:"apflora",tabelleInDb:"tblTeilpopulation",tabelleIdFeld:"TPopId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"tpop",initiiereFunktion:"initiiereTPop",treeTyp:"tpop"},{database:"apflora",tabelleInDb:"tblTeilPopFeldkontrolle",tabelleIdFeld:"TPopKontrId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"tpopfeldkontr",initiiereFunktion:"initiiereTPopFeldkontr",treeTyp:"tpopfeldkontr"},{database:"apflora",tabelleInDb:"tblTeilPopMassnahme",tabelleIdFeld:"TPopMassnId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"tpopmassn",initiiereFunktion:"initiiereTPopMassn",treeTyp:"tpopmassn"},{database:"apflora",tabelleInDb:"tblZiel",tabelleIdFeld:"ZielId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"apziel",initiiereFunktion:"initiiereApziel",treeTyp:"apziel"},{database:"apflora",tabelleInDb:"tblZielBericht",tabelleIdFeld:"ZielBerId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"zielber",initiiereFunktion:"initiiereZielber",treeTyp:"zielber"},{database:"apflora",tabelleInDb:"tblErfKrit",tabelleIdFeld:"ErfkritId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"erfkrit",initiiereFunktion:"initiiereErfkrit",treeTyp:"erfkrit"},{database:"apflora",tabelleInDb:"tblJBer",tabelleIdFeld:"JBerId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"jber",initiiereFunktion:"initiiereJber",treeTyp:"jber"},{database:"apflora",tabelleInDb:"tblJBerUebersicht",tabelleIdFeld:"JbuJahr",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"jber_uebersicht",initiiereFunktion:"initiiereJberUebersicht",treeTyp:"jber_uebersicht"},{database:"apflora",tabelleInDb:"tblBer",tabelleIdFeld:"BerId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"ber",initiiereFunktion:"initiiereBer",treeTyp:"ber"},{database:"apflora",tabelleInDb:"tblIdealbiotop",tabelleIdFeld:"IbApArtId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"idealbiotop",initiiereFunktion:"initiiereIdealbiotop",treeTyp:"idealbiotop"},{database:"apflora",tabelleInDb:"tblAssozArten",tabelleIdFeld:"AaId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"assozarten",initiiereFunktion:"initiiereAssozart",treeTyp:"assozarten"},{database:"apflora",tabelleInDb:"tblPopBericht",tabelleIdFeld:"PopBerId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"popber",initiiereFunktion:"initiierePopBer",treeTyp:"popber"},{database:"apflora",tabelleInDb:"tblPopMassnBericht",tabelleIdFeld:"PopMassnBerId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"popmassnber",initiiereFunktion:"initiierePopMassnBer",treeTyp:"popmassnber"},{database:"apflora",tabelleInDb:"tblTeilPopBericht",tabelleIdFeld:"TPopBerId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"tpopber",initiiereFunktion:"initiiereTPopBer",treeTyp:"tpopber"},{database:"apflora",tabelleInDb:"tblTeilPopMassnBericht",tabelleIdFeld:"TPopMassnBerId",mutWannFeld:"MutWann",mutWerFeld:"MutWer",form:"tpopmassnber",initiiereFunktion:"initiiereTPopMassnBer",treeTyp:"tpopmassnber"},{database:"apflora",tabelleInDb:"tblBeobZuordnung",tabelleIdFeld:"NO_NOTE",mutWannFeld:"BeobMutWann",mutWerFeld:"BeobMutWer",initiiereFunktion:"",treeTyp:"drei verschiedene!"}],t.exports=i
},{"../../dbPass.json":2}],23:[function(e,t){"use strict";var i=e("jquery"),n=e("underscore"),o=function(e){var t="";window.apf.adressen_html||i.ajax({type:"get",url:"api/v1/adressen",dataType:"json"}).done(function(i){i&&(t="<option></option>",n.each(i,function(e){t+='<option value="'+e.id+'">'+e.AdrName+"</option>"}),window.apf.adressen_html=t),e(t)}),e(window.apf.adressen_html)};t.exports=o},{jquery:6,underscore:7}],24:[function(e,t){"use strict";var i=e("jquery"),n=e("underscore"),o=function(e){var t="";window.apf.IdealBiotopÜbereinst_html||i.ajax({type:"get",url:"api/v1/idealbiotopUebereinst",dataType:"json"}).done(function(i){i&&i.length>0&&(t="<option></option>",n.each(i,function(e){t+='<option value="'+e.id+'">'+e.DomainTxt+"</option>"}),window.apf.IdealBiotopÜbereinst_html=t),e(t)}),e(window.apf.IdealBiotopÜbereinst_html)};t.exports=o},{jquery:6,underscore:7}],25:[function(e,t){"use strict";var i=e("jquery"),n=e("underscore"),o=function(e){var t="";window.apf.lrdelarze_html||i.ajax({type:"get",url:"api/v1/lrDelarze",dataType:"json"}).done(function(i){i&&(t="<option></option>",n.each(i,function(e){t+='<option value="'+e.id+'">'+e.Einheit+"</option>"}),window.apf.lrdelarze_html=t),e(t)}),e(window.apf.lrdelarze_html)};t.exports=o},{jquery:6,underscore:7}],26:[function(e,t){"use strict";var i=e("jquery"),n=e("underscore"),o=function(e){var t="";window.apf.tpopmassntyp_html||i.ajax({type:"get",url:"api/v1/tpopMassnTypen",dataType:"json"}).done(function(i){i&&i.length>0&&(t="<option></option>",n.each(i,function(e){t+='<option value="'+e.id+'">'+e.MassnTypTxt+"</option>"}),window.apf.tpopmassntyp_html=t),e(t)}),e(window.apf.tpopmassntyp_html)};t.exports=o},{jquery:6,underscore:7}],27:[function(e,t){"use strict";var i=e("dateFormat"),n=function(){var e=new Date;return i(e,"yyyy-mm-dd_hh-MM:ss")};t.exports=n},{dateFormat:3}],28:[function(e,t){"use strict";var i=e("jquery"),n=e("underscore"),o=function(e){var t="";window.apf.TPopKontrZähleinheit_html||i.ajax({type:"get",url:"api/v1/feldkontrZaehleinheit",dataType:"json"}).done(function(i){i&&i.length>0&&(t="<option></option>",n.each(i,function(e){t+='<option value="'+e.id+'">'+e.ZaehleinheitTxt+"</option>"}),window.apf.TPopKontrZähleinheit_html=t),e(t)}),e(window.apf.TPopKontrZähleinheit_html)};t.exports=o},{jquery:6,underscore:7}],29:[function(e,t){"use strict";var i=e("jquery"),n=(e("underscore"),e("./initiiereIndex")),o=e("./getAdressenHtml"),s=function(e){if(!localStorage.ap_id&&!e)return void n();localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id);var t=i("[name='programm_wahl']:checked").attr("id");window.apf.leereFelderVonFormular("ap"),i("#ap_waehlen").val()&&"programm_neu"!==t?i.ajax({type:"get",url:"api/v1/ap="+e,dataType:"json"}).done(function(e){e&&e[0]&&(e=e[0],window.apf.ap=e,i("#ApStatus"+e.ApStatus).prop("checked",!0),i("#ApUmsetzung"+e.ApUmsetzung).prop("checked",!0),i("#ApJahr").val(e.ApJahr),i("#ApArtwert").val(e.ApArtwert),i("#Artname").val(e.Artname),o(function(e){i("#ApBearb").html(e).val(window.apf.ApBearb)}),window.apf.zeigeFormular("ap"),history.pushState(null,null,"index.html?ap="+e.ApArtId))}).fail(function(){window.apf.melde("Fehler: Keine Daten für den Aktionsplan erhalten")}):i("#ap_waehlen").val()&&"programm_neu"===t&&window.apf.zeigeFormular("ap")};t.exports=s},{"./getAdressenHtml":23,"./initiiereIndex":37,jquery:6,underscore:7}],30:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=function(e,t){if(!e&&!localStorage.ap_id)return void n();if(!t&&!localStorage.apziel_id)return void o(e);localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.apziel_id||(localStorage.apziel_id=t),t||(t=localStorage.apziel_id);var s=i("#ZielJahr");window.apf.leereFelderVonFormular("apziel"),i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblZiel/feld=ZielId/wertNumber="+t,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.apziel=n,s.val(n.ZielJahr),i("#ZielTyp"+n.ZielTyp).prop("checked",!0),i("#ZielBezeichnung").val(n.ZielBezeichnung),window.apf.zeigeFormular("apziel"),history.pushState(null,null,"index.html?ap="+e+"&apziel="+t),s.val()||s.focus())}).fail(function(){window.apf.melde("Fehler: Keine Daten für das AP-Ziel erhalten")})};t.exports=s},{"./initiiereAp":29,"./initiiereIndex":37,jquery:6}],31:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=function(e,t){if(!e&&!localStorage.ap_id)return void n();if(!t&&!localStorage.assozarten_id)return void o(e);localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.assozarten_id||(localStorage.assozarten_id=t),t||(t=localStorage.assozarten_id);var s=i("#AaSisfNr");window.apf.leereFelderVonFormular("assozarten"),i.ajax({type:"get",url:"/api/v1/apflora/tabelle=tblAssozArten/feld=AaId/wertNumber="+t,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.assozarten=n,s.val(n.AaSisfNr),i("#AaBem").val(n.AaBem),window.apf.zeigeFormular("assozarten"),history.pushState(null,null,"index.html?ap="+e+"&assozarten="+t),s.val()||s.focus())}).fail(function(){window.apf.melde("Fehler: Keine Daten für die assoziierte Art erhalten")})};t.exports=s},{"./initiiereAp":29,"./initiiereIndex":37,jquery:6}],32:[function(e,t){"use strict";var i=e("jquery"),n=e("underscore"),o=e("../lib/capitaliseFirstLetter"),s=e("./initiiereAp"),a=e("./initiiereBeob"),r=function(e,t,r,l){localStorage.beob_status=r,localStorage.beobtyp=e;var h,u,p,c,d=i("#BeobBemerkungen");return t||l?(t.indexOf("beob")>-1&&(t=t.replace("beob","")),localStorage.beob_id=t,"evab"===e?(c="NO_NOTE_PROJET",h="api/v1/beob/tabelle=tblBeobEvab/feld="+c+"/wertString="+t):(c="NO_NOTE",h="api/v1/beob/tabelle=tblBeobInfospezies/feld="+c+"/wertNumber="+t),void i.ajax({type:"get",url:h,dataType:"json"}).done(function(s){if(s&&s.length>0){s=s[0];var a=window.apf.erstelleFelderFürBeob(s,e);i("#beob_table").html(a),u="api/v1/beobDistzutpop"+o(e)+"/beobId="+t,i.ajax({type:"get",url:u,dataType:"json"}).done(function(o){var s='<tr class="fieldcontain DistZuTPop"><td class="label"><label id="DistZuTPop_label" for="DistZuTPop">Einer Teilpopulation zuordnen:</label></td><td class="Datenfelder"><div class="Datenfelder" id="DistZuTPop_Felder">';o&&(n.each(o,function(e,t){t>0&&(s+="<br>"),s+='<input type="radio" name="DistZuTPop" id="DistZuTPop',s+=e.TPopId,s+='" class="DistZuTPop" formular="beob" value="',s+=e.TPopId,s+='" DistZuTPop="',s+=e.DistZuTPop,s+='"',"zugeordnet"===r&&e.TPopId==localStorage.tpop_id&&(s+=" checked"),s+=">",s+=parseInt(e.DistZuTPop,10)>=0?parseInt(e.DistZuTPop)+"m: "+e.TPopFlurname:e.TPopFlurname}),s+="</div></td></tr>",i("#beob_zuordnungsfelder").html(s),d.attr("placeholder",""),"nicht_beurteilt"!==r?(p="evab"===e?"api/v1/apflora/tabelle=tblBeobZuordnung/feld=NO_NOTE/wertString="+t:"api/v1/apflora/tabelle=tblBeobZuordnung/feld=NO_NOTE/wertNumber="+t,i.ajax({type:"get",url:p,dataType:"json"}).done(function(e){i("#BeobNichtBeurteilt").prop("checked",!1),1==e.BeobNichtZuordnen?i("#BeobNichtZuordnen").prop("checked",!0):i("#BeobNichtZuordnen").prop("checked",!1),i("#DistZuTPop"+e.TPopId).prop("checked",!0),i("#BeobBemerkungen").val(e.BeobBemerkungen),i("#BeobMutWann").val(e.BeobMutWann),i("#BeobMutWer").val(e.BeobMutWer),l||(window.apf.zeigeFormular("beob"),"zugeordnet"===r?history.pushState(null,null,"index.html?ap="+localStorage.ap_id+"&pop="+localStorage.pop_id+"&tpop="+localStorage.tpop_id+"&beob_zugeordnet="+t):"nicht_zuzuordnen"===r&&history.pushState(null,null,"index.html?ap="+localStorage.ap_id+"&beob_nicht_zuzuordnen="+t))})):(i("#BeobNichtBeurteilt").prop("checked",!0),i("#BeobNichtZuordnen").prop("checked",!1),d.val("").attr("placeholder","Bemerkungen sind nur in zugeordneten oder nicht zuzuordnenden Beobachtungen möglich"),l||(window.apf.zeigeFormular("beob"),history.pushState(null,null,"index.html?ap="+localStorage.ap_id+"&beob_nicht_beurteilt="+t))))})}}).fail(function(){window.apf.melde("Fehler: Keine Daten für die Beobachtung erhalten")})):void("nicht_beurteilt"===r||"nicht_zuzuordnen"===r?s():a())};t.exports=r},{"../lib/capitaliseFirstLetter":8,"./initiiereAp":29,"./initiiereBeob":32,jquery:6,underscore:7}],33:[function(e,t){"use strict";var i=jQuery=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=e("../lib/limiter"),a=function(e,t){if(!e&&!localStorage.ap_id)return void n();if(!t&&!localStorage.ber_id)return void o(e);localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.ber_id||(localStorage.ber_id=t),t||(t=localStorage.ber_id);var a=i("#BerAutor"),r=i("#BerJahr"),l=i("#BerTitel"),h=i("#BerURL");s(i),window.apf.leereFelderVonFormular("ber"),i.ajax({type:"get",url:"/api/v1/apflora/tabelle=tblBer/feld=BerId/wertNumber="+localStorage.ber_id,dataType:"json"}).done(function(e){e&&e[0]&&(e=e[0],window.apf.ber=e,a.val(e.BerAutor),r.val(e.BerJahr),l.val(e.BerTitel).limiter(255,i("#BerTitel_limit")),h.val(e.BerURL).limiter(255,i("#BerURL_limit")),i("#BerURLHref").attr("onClick","window.open('"+e.BerURL+"', target='_blank')"),window.apf.zeigeFormular("ber"),history.pushState(null,null,"index.html?ap="+localStorage.ap_id+"&ber="+localStorage.ber_id),a.val()?r.val()?l.val()?h.val()||h.focus():l.focus():r.focus():a.focus())}).fail(function(){window.apf.melde("Fehler: Keine Daten für den Bericht erhalten")})};t.exports=a},{"../lib/limiter":19,"./initiiereAp":29,"./initiiereIndex":37,jquery:6}],34:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=e("../lib/limiter"),a=function(e,t){var a=i("#ErfkritErreichungsgrad");return e||localStorage.ap_id?t||localStorage.erfkrit_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.erfkrit_id||(localStorage.erfkrit_id=t),t||(t=localStorage.erfkrit_id),s(i),window.apf.leereFelderVonFormular("erfkrit"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblErfKrit/feld=ErfkritId/wertString="+t,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.erfkrit=n,i("#ErfkritErreichungsgrad"+n.ErfkritErreichungsgrad).prop("checked",!0),i("#ErfkritTxt").val(n.ErfkritTxt).limiter(255,i("#ErfkritTxt_limit")),window.apf.zeigeFormular("erfkrit"),history.pushState(null,null,"index.html?ap="+e+"&erfkrit="+t),a.val()||a.focus())}).fail(function(){window.apf.melde("Fehler: Keine Daten für das Erfolgskriterium erhalten")})):void o(e):void n()};t.exports=a},{"../lib/limiter":19,"./initiiereAp":29,"./initiiereIndex":37,jquery:6}],35:[function(e,t){"use strict";var i,n=e("./configuration"),o={};o.initiiereIdealbiotop=e("./initiiereIdealbiotop"),o.initiiereAp=e("./initiiereAp"),o.initiierePop=e("./initiierePop"),o.initiiereApziel=e("./initiiereApziel"),o.initiiereZielber=e("./initiiereZielber"),o.initiiereErfkrit=e("./initiiereErfkrit"),o.initiiereJber=e("./initiiereJber"),o.initiiereJberUebersicht=e("./initiiereJberUebersicht"),o.initiiereBer=e("./initiiereBer"),o.initiiereAssozart=e("./initiiereAssozart"),o.initiierePopMassnBer=e("./initiierePopMassnBer"),o.initiiereTPop=e("./initiiereTPop"),o.initiierePopBer=e("./initiierePopBer"),o.initiiereTPopFeldkontr=e("./initiiereTPopFeldkontr"),o.initiiereTPopMassn=e("./initiiereTPopMassn"),o.initiiereTPopMassnBer=e("./initiiereTPopMassnBer"),o.initiiereTPopBer=e("./initiiereTPopBer");var s=function(e){"tpopfreiwkontr"===e?(localStorage.tpopfreiwkontr=!0,o.initiiereTPopFeldkontr()):(i=_.filter(n.tables,function(t){return t.treeTyp===e})[0].initiiereFunktion,o[i]())};t.exports=s},{"./configuration":22,"./initiiereAp":29,"./initiiereApziel":30,"./initiiereAssozart":31,"./initiiereBer":33,"./initiiereErfkrit":34,"./initiiereIdealbiotop":36,"./initiiereJber":38,"./initiiereJberUebersicht":39,"./initiierePop":40,"./initiierePopBer":41,"./initiierePopMassnBer":42,"./initiiereTPop":43,"./initiiereTPopBer":44,"./initiiereTPopFeldkontr":45,"./initiiereTPopMassn":46,"./initiiereTPopMassnBer":47,"./initiiereZielber":48}],36:[function(e,t){"use strict";var i=e("jquery"),n=e("dateformat"),o=e("./initiiereIndex"),s=(e("./initiiereAp"),e("./pruefeSchreibvoraussetzungen")),a=function(e){var t=i("#IbErstelldatum");return localStorage.ap_id||e?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),window.apf.leereFelderVonFormular("idealbiotop"),void i.ajax({type:"get",url:"/api/v1/apflora/tabelle=tblIdealbiotop/feld=IbApArtId/wertNumber="+localStorage.ap_id,dataType:"json"}).done(function(e){if(e&&e[0])e=e[0],localStorage.idealbiotop_id=e.IbApArtId,window.apf.idealbiotop=e,e.IbErstelldatum&&i("#IbErstelldatum").val(n(e.IbErstelldatum,"yyyy.mm.dd")),i("#IbHoehenlage").val(e.IbHoehenlage),i("#IbRegion").val(e.IbRegion),i("#IbExposition").val(e.IbExposition),i("#IbBesonnung").val(e.IbBesonnung),i("#IbHangneigung").val(e.IbHangneigung),i("#IbBodenTyp").val(e.IbBodenTyp),i("#IbBodenKalkgehalt").val(e.IbBodenKalkgehalt),i("#IbBodenDurchlaessigkeit").val(e.IbBodenDurchlaessigkeit),i("#IbBodenHumus").val(e.IbBodenHumus),i("#IbBodenNaehrstoffgehalt").val(e.IbBodenNaehrstoffgehalt),i("#IbWasserhaushalt").val(e.IbWasserhaushalt),i("#IbKonkurrenz").val(e.IbKonkurrenz),i("#IbMoosschicht").val(e.IbMoosschicht),i("#IbKrautschicht").val(e.IbKrautschicht),i("#IbStrauchschicht").val(e.IbStrauchschicht),i("#IbBaumschicht").val(e.IbBaumschicht),i("#IbBemerkungen").val(e.IbBemerkungen),window.apf.zeigeFormular("idealbiotop"),history.pushState(null,null,"index.html?ap="+localStorage.ap_id+"&idealbiotop="+localStorage.idealbiotop_id),t.val()||t.focus();else{if(!s())return;i.ajax({type:"post",url:"/api/v1/insert/apflora/tabelle=tblIdealbiotop/feld=IbApArtId/wert="+localStorage.ap_id+"/user="+sessionStorage.User,dataType:"json"}).done(function(){localStorage.idealbiotop_id=localStorage.ap_id,a()}).fail(function(){window.apf.melde("Fehler: Kein Idealbiotop erstellt")})}})):void o()};t.exports=a},{"./initiiereAp":29,"./initiiereIndex":37,"./pruefeSchreibvoraussetzungen":50,dateformat:4,jquery:6}],37:[function(e,t){"use strict";var i=e("jquery");e("jquery-ui");var n=function(){i("#programm_wahl").buttonset({create:function(){i("#programm_wahl").show()}}),i("#messen").buttonset(),i("button").button(),i("#tpopfeldkontr_tabs").tabs(),i(".apf-resizable").resizable(),i("#label_olmap_infos_abfragen, #label_olmap_distanz_messen, #label_olmap_flaeche_messen, #label_olmap_auswaehlen, #olmap_exportieren_div, .apf_tooltip").tooltip({tooltipClass:"tooltip-styling-hinterlegt",content:function(){return i(this).attr("title")}}),i(".export_abschnitt").tooltip({tooltipClass:"export_abschnitt_tooltip_class",content:function(){return i(this).attr("title")}}),i("#olmap_exportieren").button({icons:{primary:"ui-icon-circle-arrow-s"},text:!1,disabled:!0}),window.apf.erstelleGemeindeliste();var e=["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],t=["So","Mo","Di","Mi","Do","Fr","Sa"],n=["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"];i.datepicker.setDefaults({buttonImage:"style/images/calendar.gif",buttonImageOnly:!0,dateFormat:"yy.mm.dd",altFormat:"yy.mm.dd",monthNames:e,dayNamesMin:t,dayNames:n,firstDay:1,showOn:"button",defaultDate:0,onSelect:function(){window.apf.speichern(this)}}),i("#TPopKontrDatum, #TPopMassnDatum, #JBerDatum, #IbErstelldatum").datepicker(),window.apf.feldliste_feldkontr=["TPopKontrJahr","TPopKontrDatum","TPopKontrMethode1","TPopKontrAnz1","TPopKontrMethode2","TPopKontrAnz2","TPopKontrMethode3","TPopKontrAnz3","TPopKontrTxt","TPopKontrBearb","TPopKontrZaehleinheit1","TPopKontrZaehleinheit2","TPopKontrZaehleinheit3","TPopKontrTyp","TPopKontrJungpfl","TPopKontrVitalitaet","TPopKontrUeberleb","TPopKontrEntwicklung","TPopKontrUrsach","TPopKontrUrteil","TPopKontrAendUms","TPopKontrAendKontr","TPopKontrGuid","TPopKontrFlaeche","TPopKontrVegTyp","TPopKontrKonkurrenz","TPopKontrMoosschicht","TPopKontrKrautschicht","TPopKontrStrauchschicht","TPopKontrBaumschicht","TPopKontrBodenTyp","TPopKontrBodenKalkgehalt","TPopKontrBodenDurchlaessigkeit","TPopKontrBodenHumus","TPopKontrBodenNaehrstoffgehalt","TPopKontrBodenAbtrag","TPopKontrWasserhaushalt","TPopKontrHandlungsbedarf","TPopKontrIdealBiotopUebereinst","TPopKontrLeb","TPopKontrLebUmg"],window.apf.feldliste_freiwkontr=["TPopKontrJahr","TPopKontrDatum","TPopKontrMethode1","TPopKontrAnz1","TPopKontrMethode2","TPopKontrAnz2","TPopKontrMethode3","TPopKontrAnz3","TPopKontrTxt","TPopKontrBearb","TPopKontrZaehleinheit1","TPopKontrZaehleinheit2","TPopKontrZaehleinheit3","TPopKontrPlan","TPopKontrUebFlaeche","TPopKontrUebPfl","TPopKontrNaBo","TPopKontrJungPflJN","TPopKontrVegHoeMax","TPopKontrVegHoeMit","TPopKontrGefaehrdung","TPopKontrGuid"],i("#ap_loeschen").hide(),window.apf.erstelle_artlisten(),i.when(window.apf.wähleApListe("programm_alle")).then(function(){window.apf.öffneUri()})};t.exports=n},{jquery:6,"jquery-ui":5}],38:[function(e,t){"use strict";var i=e("jquery"),n=e("dateformat"),o=(e("underscore"),e("../lib/limiter")),s=e("./initiiereIndex"),a=e("./initiiereAp"),r=e("./getAdressenHtml"),l=function(e,t){if(!e&&!localStorage.ap_id)return void s();if(!t&&!localStorage.jber_id)return void a(e);localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.jber_id||(localStorage.jber_id=t),t||(t=localStorage.jber_id);var l=i("#JBerJahr");o(i),window.apf.leereFelderVonFormular("jber"),i.ajax({type:"get",url:"/api/v1/apflora/tabelle=tblJBer/feld=JBerId/wertNumber="+localStorage.jber_id,dataType:"json"}).done(function(e){e&&e[0]&&(e=e[0],window.apf.jber=e,l.val(e.JBerJahr),i("#JBerSituation").val(e.JBerSituation),i("#JBerVergleichVorjahrGesamtziel").val(e.JBerVergleichVorjahrGesamtziel),i("#JBerBeurteilung"+e.JBerBeurteilung).prop("checked",!0),i("#JBerVeraenGegenVorjahr\\"+e.JBerVeraenGegenVorjahr).prop("checked",!0),i("#JBerAnalyse").val(e.JBerAnalyse).limiter(255,i("#JBerAnalyse_limit")),i("#JBerUmsetzung").val(e.JBerUmsetzung),i("#JBerErfko").val(e.JBerErfko),i("#JBerATxt").val(e.JBerATxt),i("#JBerBTxt").val(e.JBerBTxt),i("#JBerCTxt").val(e.JBerCTxt),i("#JBerDTxt").val(e.JBerDTxt),e.JBerDatum&&i("#JBerDatum").val(n(e.JBerDatum,"yyyy.mm.dd")),r(function(e){i("#JBerBearb").html(e).val(window.apf.jber.JBerBearb)}),window.apf.zeigeFormular("jber"),history.pushState(null,null,"index.html?ap="+localStorage.ap_id+"&jber="+localStorage.jber_id),l.val()||l.focus())}).fail(function(){window.apf.melde("Fehler: Keine Daten für den AP-Bericht erhalten")})};t.exports=l},{"../lib/limiter":19,"./getAdressenHtml":23,"./initiiereAp":29,"./initiiereIndex":37,dateformat:4,jquery:6,underscore:7}],39:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=function(e,t){var s=i("#JbuJahr");return e||localStorage.ap_id?t||localStorage.jber_uebersicht_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.jber_uebersicht_id||(localStorage.jber_uebersicht_id=t),t||(t=localStorage.jber_uebersicht_id),window.apf.leereFelderVonFormular("jber_uebersicht"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblJBerUebersicht/feld=JbuJahr/wertNumber="+t,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.jber_übersicht=n,s.val(n.JbuJahr),i("#JbuBemerkungen").val(n.JbuBemerkungen),window.apf.zeigeFormular("jber_uebersicht"),history.pushState(null,null,"index.html?ap="+e+"&jber_uebersicht="+t),s.val()||s.focus())}).fail(function(){window.apf.melde("Fehler: Keine Daten für die Übersicht erhalten")})):void o(e):void n()};t.exports=s},{"./initiiereAp":29,"./initiiereIndex":37,jquery:6}],40:[function(e,t){"use strict";var i=e("jquery"),n=e("../lib/limiter"),o=e("./initiiereIndex"),s=e("./initiiereAp"),a=function(e,t,a){var r=i("#PopName"),l=i("#PopNr");return e||localStorage.ap_id?t||localStorage.pop_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.pop_id||(localStorage.pop_id=t),t||(t=localStorage.pop_id),n(i),window.apf.leereFelderVonFormular("pop"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblPopulation/feld=PopId/wertNumber="+t,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.pop=n,i("#PopHerkunft"+n.PopHerkunft).prop("checked",!0),1==n.PopHerkunftUnklar?i("#PopHerkunftUnklar").prop("checked",!0):i("#PopHerkunftUnklar").prop("checked",!1),i("#PopHerkunftUnklarBegruendung").val(n.PopHerkunftUnklarBegruendung).limiter(255,i("#PopHerkunftUnklarBegruendung_limit")),r.val(n.PopName).limiter(150,i("#PopName_limit")),l.val(n.PopNr),i("#PopBekanntSeit").val(n.PopBekanntSeit),i("#PopXKoord").val(n.PopXKoord),i("#PopYKoord").val(n.PopYKoord),a||(window.apf.zeigeFormular("pop"),history.pushState(null,null,"index.html?ap="+e+"&pop="+t),r.val()||l.focus()))}).fail(function(){window.apf.melde("Fehler: Keine Daten für die Population erhalten")})):void s(e):void o()};t.exports=a},{"../lib/limiter":19,"./initiiereAp":29,"./initiiereIndex":37,jquery:6}],41:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=e("./initiierePop"),a=function(e,t,a){return e||localStorage.ap_id?t||localStorage.pop_id?a||localStorage.popber_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.pop_id||(localStorage.pop_id=t),t||(t=localStorage.pop_id),localStorage.popber_id||(localStorage.popber_id=a),a||(a=localStorage.popber_id),window.apf.leereFelderVonFormular("popber"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblPopBericht/feld=PopBerId/wertNumber="+a,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.popber=n,i("#PopBerJahr").val(n.PopBerJahr),i("#PopBerEntwicklung"+n.PopBerEntwicklung).prop("checked",!0),i("#PopBerTxt").val(n.PopBerTxt),window.apf.zeigeFormular("popber"),history.pushState(null,null,"index.html?ap="+e+"&pop="+t+"&popber="+a),i("#PopBerJahr").focus())})):void s(e,t):void o(e):void n()};t.exports=a},{"./initiiereAp":29,"./initiiereIndex":37,"./initiierePop":40,jquery:6}],42:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=e("./initiierePop"),a=function(e,t,a){return e||localStorage.ap_id?t||localStorage.pop_id?a||localStorage.popmassnber_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.pop_id||(localStorage.pop_id=t),t||(t=localStorage.pop_id),localStorage.popmassnber_id||(localStorage.popmassnber_id=a),a||(a=localStorage.popmassnber_id),window.apf.leereFelderVonFormular("popmassnber"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblPopMassnBericht/feld=PopMassnBerId/wertNumber="+a,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.popmassnber=n,i("#PopMassnBerJahr").val(n.PopMassnBerJahr),i("#PopMassnBerErfolgsbeurteilung"+n.PopMassnBerErfolgsbeurteilung).prop("checked",!0),i("#PopMassnBerTxt").val(n.PopMassnBerTxt),window.apf.zeigeFormular("popmassnber"),history.pushState(null,null,"index.html?ap="+e+"&pop="+t+"&popmassnber="+a),i("#PopMassnBerJahr").focus())}).fail(function(){window.apf.melde("Fehler: Keine Daten für den Massnahmenbericht erhalten")})):void s(e,t):void o(e):void n()};t.exports=a},{"./initiiereAp":29,"./initiiereIndex":37,"./initiierePop":40,jquery:6}],43:[function(e,t){"use strict";var i=e("jquery"),n=(e("underscore"),e("../lib/limiter")),o=e("./initiiereIndex"),s=e("./initiiereAp"),a=e("./initiierePop"),r=e("./getAdressenHtml"),l=function(e,t,l,h){if(!e&&!localStorage.ap_id)return void o();if(!t&&!localStorage.pop_id)return void s(e);if(!l&&!localStorage.tpop_id)return void a(e,t);localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.pop_id||(localStorage.pop_id=t),t||(t=localStorage.pop_id),localStorage.tpop_id||(localStorage.tpop_id=l),l||(l=localStorage.tpop_id),n(i);var u=i("#TPopFlurname");window.apf.leereFelderVonFormular("tpop"),i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilpopulation/feld=TPopId/wertNumber="+l,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.tpop=n,u.val(n.TPopFlurname).limiter(255,i("#TPopFlurname_limit")),i("#TPopNr").val(n.TPopNr),i("#TPopHerkunft"+n.TPopHerkunft).prop("checked",!0),1===n.TPopHerkunftUnklar?i("#TPopHerkunftUnklar").prop("checked",!0):i("#TPopHerkunftUnklar").prop("checked",!1),i("#TPopHerkunftUnklarBegruendung").val(n.TPopHerkunftUnklarBegruendung).limiter(255,i("#TPopHerkunftUnklarBegruendung_limit")),i("#TPopApBerichtRelevant"+n.TPopApBerichtRelevant).prop("checked",!0),i("#TPopBekanntSeit").val(n.TPopBekanntSeit),i("#TPopGemeinde").val(n.TPopGemeinde).limiter(255,i("#TPopGemeinde_limit")),i("#TPopXKoord").val(n.TPopXKoord),i("#TPopYKoord").val(n.TPopYKoord),i("#TPopRadius").val(n.TPopRadius),i("#TPopHoehe").val(n.TPopHoehe),i("#TPopExposition").val(n.TPopExposition).limiter(50,i("#TPopExposition_limit")),i("#TPopKlima").val(n.TPopKlima).limiter(50,i("#TPopKlima_limit")),i("#TPopNeigung").val(n.TPopNeigung).limiter(50,i("#TPopNeigung_limit")),i("#TPopBeschr").val(n.TPopBeschr).limiter(255,i("#TPopBeschr_limit")),i("#TPopKatNr").val(n.TPopKatNr).limiter(255,i("#TPopKatNr_limit")),i("#TPopEigen").val(n.TPopEigen).limiter(255,i("#TPopEigen_limit")),i("#TPopKontakt").val(n.TPopKontakt).limiter(255,i("#TPopKontakt_limit")),i("#TPopNutzungszone").val(n.TPopNutzungszone).limiter(255,i("#TPopNutzungszone_limit")),i("#TPopBewirtschafterIn").val(n.TPopBewirtschafterIn).limiter(255,i("#TPopBewirtschafterIn_limit")),i("#TPopBewirtschaftung").val(n.TPopBewirtschaftung).limiter(255,i("#TPopBewirtschaftung_limit")),i("#TPopTxt").val(n.TPopTxt),r(function(e){i("#TPopVerantw").html(e).val(window.apf.tpop.TPopVerantw)}),h||(window.apf.zeigeFormular("tpop"),history.pushState(null,null,"index.html?ap="+e+"&pop="+t+"&tpop="+l),u.val()||i("#TPopNr").focus()))}).fail(function(){window.apf.melde("Fehler: keine Daten für die Teilpopulation erhalten")})};t.exports=l},{"../lib/limiter":19,"./getAdressenHtml":23,"./initiiereAp":29,"./initiiereIndex":37,"./initiierePop":40,jquery:6,underscore:7}],44:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=e("./initiierePop"),a=e("./initiiereTPop"),r=function(e,t,r,l){return e||localStorage.ap_id?t||localStorage.pop_id?r||localStorage.tpop_id?l||localStorage.tpopber_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.pop_id||(localStorage.pop_id=t),t||(t=localStorage.pop_id),localStorage.tpop_id||(localStorage.tpop_id=r),r||(r=localStorage.tpop_id),localStorage.tpopber_id||(localStorage.tpopber_id=l),l||(l=localStorage.tpopber_id),window.apf.leereFelderVonFormular("tpopber"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopBericht/feld=TPopBerId/wertNumber="+l,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.tpopber=n,i("#TPopBerJahr").val(n.TPopBerJahr),i("#TPopBerEntwicklung"+n.TPopBerEntwicklung).prop("checked",!0),i("#TPopBerTxt").val(n.TPopBerTxt),window.apf.zeigeFormular("tpopber"),history.pushState(null,null,"index.html?ap="+e+"&pop="+t+"&tpop="+r+"&tpopber="+l),i("#TPopBerJahr").focus())}).fail(function(){window.apf.melde("Fehler: keine Daten für den Teilpopulations-Bericht erhalten")})):void a(e,t,r):void s(e,t):void o(e):void n()};t.exports=r},{"./initiiereAp":29,"./initiiereIndex":37,"./initiierePop":40,"./initiiereTPop":43,jquery:6}],45:[function(e,t){"use strict";var i=e("jquery"),n=e("dateformat"),o=e("underscore"),s=e("../lib/limiter"),a=e("./initiiereIndex"),r=e("./initiiereAp"),l=e("./initiierePop"),h=e("./initiiereTPop"),u=e("./getAdressenHtml"),p=e("./getZaehleinheitenHtml"),c=e("./getLrDelarzeHtml"),d=e("./getIdealbiotopUebereinstHtml");e("jquery-ui");var f=function(e,t,f,g,m){var _=i("#TPopKontrJahr"),v=i("#TPopKontrJungPflJN_ja"),b=i("#TPopKontrJungPflJN_nein"),w=i("#TPopKontrJungPflJN_leer");return e||localStorage.ap_id?t||localStorage.pop_id?f||localStorage.tpop_id?g||localStorage.tpopfeldkontr_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.pop_id||(localStorage.pop_id=t),t||(t=localStorage.pop_id),localStorage.tpop_id||(localStorage.tpop_id=f),f||(f=localStorage.tpop_id),localStorage.tpopfeldkontr_id||(localStorage.tpopfeldkontr_id=g),g||(g=localStorage.tpopfeldkontr_id),!m&&localStorage.tpopfreiwkontr&&(m="freiwKontr"),m||localStorage.tpopfreiwkontr||(m="feldKontr"),s(i),window.apf.leereFelderVonFormular("tpopfeldkontr"),i(".feld_tpopfeldkontr").each(function(){i(this).hide()}),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopFeldkontrolle/feld=TPopKontrId/wertNumber="+g,dataType:"json"}).done(function(s){s&&s[0]&&(s=s[0],window.apf.tpopfeldkontr=s,_.val(s.TPopKontrJahr),s.TPopKontrDatum&&i("#TPopKontrDatum").val(n(s.TPopKontrDatum,"yyyy.mm.dd")),i("#TPopKontrMethode1"+s.TPopKontrMethode1).prop("checked",!0),i("#TPopKontrAnz1").val(s.TPopKontrAnz1),i("#TPopKontrMethode2"+s.TPopKontrMethode2).prop("checked",!0),i("#TPopKontrAnz2").val(s.TPopKontrAnz2),i("#TPopKontrMethode3"+s.TPopKontrMethode3).prop("checked",!0),i("#TPopKontrAnz3").val(s.TPopKontrAnz3),i("#TPopKontrTxt").val(s.TPopKontrTxt),i("#TPopKontrGuid").val(s.TPopKontrGuid),u(function(e){i("#TPopKontrBearb").html(e).val(window.apf.tpopfeldkontr.TPopKontrBearb)}),p(function(e){i("#TPopKontrZaehleinheit1").html(e).val(window.apf.tpopfeldkontr.TPopKontrZaehleinheit1),i("#TPopKontrZaehleinheit2").html(e).val(window.apf.tpopfeldkontr.TPopKontrZaehleinheit2),i("#TPopKontrZaehleinheit3").html(e).val(window.apf.tpopfeldkontr.TPopKontrZaehleinheit3)}),"feldKontr"===m&&(i("#TPopKontrTyp"+s.TPopKontrTyp).prop("checked",!0),i("#TPopKontrJungpfl").val(s.TPopKontrJungpfl),i("#TPopKontrVitalitaet").val(s.TPopKontrVitalitaet).limiter(255,i("#TPopKontrVitalitaet_limit")),i("#TPopKontrUeberleb").val(s.TPopKontrUeberleb),i("#TPopKontrEntwicklung"+s.TPopKontrEntwicklung).prop("checked",!0),i("#TPopKontrUrsach").val(s.TPopKontrUrsach).limiter(255,i("#TPopKontrUrsach_limit")),i("#TPopKontrUrteil").val(s.TPopKontrUrteil).limiter(255,i("#TPopKontrUrteil_limit")),i("#TPopKontrAendUms").val(s.TPopKontrAendUms).limiter(255,i("#TPopKontrAendUms_limit")),i("#TPopKontrAendKontr").val(s.TPopKontrAendKontr).limiter(255,i("#TPopKontrAendKontr_limit")),i("#TPopKontrFlaeche").val(s.TPopKontrFlaeche),i("#TPopKontrVegTyp").val(s.TPopKontrVegTyp).limiter(100,i("#TPopKontrVegTyp_limit")),i("#TPopKontrKonkurrenz").val(s.TPopKontrKonkurrenz).limiter(100,i("#TPopKontrKonkurrenz_limit")),i("#TPopKontrMoosschicht").val(s.TPopKontrMoosschicht).limiter(100,i("#TPopKontrMoosschicht_limit")),i("#TPopKontrKrautschicht").val(s.TPopKontrKrautschicht).limiter(100,i("#TPopKontrKrautschicht_limit")),i("#TPopKontrStrauchschicht").val(s.TPopKontrStrauchschicht).limiter(255,i("#TPopKontrStrauchschicht_limit")),i("#TPopKontrBaumschicht").val(s.TPopKontrBaumschicht).limiter(100,i("#TPopKontrBaumschicht_limit")),i("#TPopKontrBodenTyp").val(s.TPopKontrBodenTyp).limiter(255,i("#TPopKontrBodenTyp_limit")),i("#TPopKontrBodenKalkgehalt").val(s.TPopKontrBodenKalkgehalt).limiter(100,i("#TPopKontrBodenKalkgehalt_limit")),i("#TPopKontrBodenDurchlaessigkeit").val(s.TPopKontrBodenDurchlaessigkeit).limiter(100,i("#TPopKontrBodenDurchlaessigkeit_limit")),i("#TPopKontrBodenHumus").val(s.TPopKontrBodenHumus).limiter(100,i("#TPopKontrBodenHumus_limit")),i("#TPopKontrBodenNaehrstoffgehalt").val(s.TPopKontrBodenNaehrstoffgehalt).limiter(100,i("#TPopKontrBodenNaehrstoffgehalt_limit")),i("#TPopKontrBodenAbtrag").val(s.TPopKontrBodenAbtrag).limiter(255,i("#TPopKontrBodenAbtrag_limit")),i("#TPopKontrWasserhaushalt").val(s.TPopKontrWasserhaushalt).limiter(255,i("#TPopKontrWasserhaushalt_limit")),i("#TPopKontrHandlungsbedarf").val(s.TPopKontrHandlungsbedarf),i("#TPopKontrIdealBiotopUebereinst"+s.TPopKontrIdealBiotopUebereinst).prop("checked",!0),c(function(e){i("#TPopKontrLeb").html(e).val(window.apf.tpopfeldkontr.TPopKontrLeb),i("#TPopKontrLebUmg").html(e).val(window.apf.tpopfeldkontr.TPopKontrLebUmg)})),d(function(e){i("#TPopKontrIdealBiotopUebereinst").html(e).val(window.apf.tpopfeldkontr.TPopKontrIdealBiotopUebereinst)}),"freiwKontr"===m&&(1==s.TPopKontrPlan?i("#TPopKontrPlan").prop("checked",!0):i("#TPopKontrPlan").prop("checked",!1),i("#TPopKontrUebFlaeche").val(s.TPopKontrUebFlaeche),i("#TPopKontrUebPfl").val(s.TPopKontrUebPfl),i("#TPopKontrNaBo").val(s.TPopKontrNaBo),v.prop("checked",!1),b.prop("checked",!1),w.prop("checked",!1),1==s.TPopKontrJungPflJN?v.prop("checked",!0):0==s.TPopKontrJungPflJN?b.prop("checked",!0):w.prop("checked",!0),i("#TPopKontrVegHoeMax").val(s.TPopKontrVegHoeMax),i("#TPopKontrVegHoeMit").val(s.TPopKontrVegHoeMit),i("#TPopKontrGefaehrdung").val(s.TPopKontrGefaehrdung).limiter(255,i("#TPopKontrGefaehrdung_limit"))),"freiwKontr"===m?o.each(window.apf.feldliste_freiwkontr,function(e){i("#fieldcontain_"+e).show()
}):o.each(window.apf.feldliste_feldkontr,function(e){i("#fieldcontain_"+e).show()}),window.apf.zeigeFormular("tpopfeldkontr"),"feldKontr"===m?history.pushState(null,null,"index.html?ap="+e+"&pop="+t+"&tpop="+f+"&tpopfeldkontr="+g):history.pushState(null,null,"index.html?ap="+e+"&pop="+t+"&tpop="+f+"&tpopfreiwkontr="+g),"freiwKontr"===m?(i("#tpopfeldkontr_tabs_biotop").hide(),i("#biotop_tab_li").hide(),i("#tpopfeldkontr_tabs").tabs("option","active",0)):(i("#tpopfeldkontr_tabs_biotop").show(),i("#biotop_tab_li").show(),i("#tpopfeldkontr_tabs_biotop").hide()),_.focus(),i(window).scrollTop(0))}).fail(function(){window.apf.melde("Fehler: keine Daten für die Kontrolle erhalten")})):void h(e,t,f):void l(e,t):void r(e):void a()};t.exports=f},{"../lib/limiter":19,"./getAdressenHtml":23,"./getIdealbiotopUebereinstHtml":24,"./getLrDelarzeHtml":25,"./getZaehleinheitenHtml":28,"./initiiereAp":29,"./initiiereIndex":37,"./initiierePop":40,"./initiiereTPop":43,dateformat:4,jquery:6,"jquery-ui":5,underscore:7}],46:[function(e,t){"use strict";var i=e("jquery"),n=e("dateformat"),o=(e("underscore"),e("../lib/limiter")),s=e("./initiiereIndex"),a=e("./initiiereAp"),r=e("./initiierePop"),l=e("./initiiereTPop"),h=e("./getAdressenHtml"),u=e("./getMassntypHtml"),p=function(e,t,p,c){return e||localStorage.ap_id?t||localStorage.pop_id?p||localStorage.tpop_id?c||localStorage.tpopmassn_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.pop_id||(localStorage.pop_id=t),t||(t=localStorage.pop_id),localStorage.tpop_id||(localStorage.tpop_id=p),p||(p=localStorage.tpop_id),localStorage.tpopmassn_id||(localStorage.tpopmassn_id=c),c||(c=localStorage.tpopmassn_id),o(i),window.apf.leereFelderVonFormular("tpopmassn"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopMassnahme/feld=TPopMassnId/wertNumber="+c,dataType:"json"}).done(function(o){o&&o[0]&&(o=o[0],window.apf.tpopmassn=o,u(function(e){i("#TPopMassnTyp").html(e).val(window.apf.tpopmassn.TPopMassnTyp)}),i("#TPopMassnTxt").val(o.TPopMassnTxt).limiter(255,i("#TPopMassnTxt_limit")),i("#TPopMassnJahr").val(o.TPopMassnJahr),o.TPopMassnDatum&&i("#TPopMassnDatum").val(n(o.TPopMassnDatum,"yyyy.mm.dd")),h(function(e){i("#TPopMassnBearb").html(e).val(window.apf.tpopmassn.TPopMassnBearb)}),i("#TPopMassnBemTxt").val(o.TPopMassnBemTxt),1===o.TPopMassnPlan?i("#TPopMassnPlan").prop("checked",!0):i("#TPopMassnPlan").prop("checked",!1),i("#TPopMassnPlanBez").val(o.TPopMassnPlanBez).limiter(255,i("#TPopMassnPlanBez_limit")),i("#TPopMassnFlaeche").val(o.TPopMassnFlaeche),i("#TPopMassnAnsiedForm").val(o.TPopMassnAnsiedForm).limiter(255,i("#TPopMassnAnsiedForm_limit")),i("#TPopMassnAnsiedPflanzanordnung").val(o.TPopMassnAnsiedPflanzanordnung).limiter(255,i("#TPopMassnAnsiedPflanzanordnung_limit")),i("#TPopMassnMarkierung").val(o.TPopMassnMarkierung).limiter(255,i("#TPopMassnMarkierung_limit")),i("#TPopMassnAnsiedAnzTriebe").val(o.TPopMassnAnsiedAnzTriebe),i("#TPopMassnAnsiedAnzPfl").val(o.TPopMassnAnsiedAnzPfl),i("#TPopMassnAnzPflanzstellen").val(o.TPopMassnAnzPflanzstellen),i.when(window.apf.erstelle_artlisten()).then(function(){i("#TPopMassnAnsiedWirtspfl").val(o.TPopMassnAnsiedWirtspfl),i("#TPopMassnAnsiedHerkunftPop").val(o.TPopMassnAnsiedHerkunftPop).limiter(255,i("#TPopMassnAnsiedHerkunftPop_limit")),i("#TPopMassnAnsiedDatSamm").val(o.TPopMassnAnsiedDatSamm).limiter(50,i("#TPopMassnAnsiedDatSamm_limit")),i("#TPopMassnGuid").val(o.TPopMassnGuid),window.apf.zeigeFormular("tpopmassn"),history.pushState(null,null,"index.html?ap="+e+"&pop="+t+"&tpop="+p+"&tpopmassn="+c),i("#TPopMassnJahr").focus()}))}).fail(function(){window.apf.melde("Fehler: keine Daten für die Massnahme erhalten")})):void l(e,t,p):void r(e,t):void a(e):void s()};t.exports=p},{"../lib/limiter":19,"./getAdressenHtml":23,"./getMassntypHtml":26,"./initiiereAp":29,"./initiiereIndex":37,"./initiierePop":40,"./initiiereTPop":43,dateformat:4,jquery:6,underscore:7}],47:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=e("./initiierePop"),a=e("./initiiereTPop"),r=function(e,t,r,l){return e||localStorage.ap_id?t||localStorage.pop_id?r||localStorage.tpop_id?l||localStorage.tpopmassnber_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.pop_id||(localStorage.pop_id=t),t||(t=localStorage.pop_id),localStorage.tpop_id||(localStorage.tpop_id=r),r||(r=localStorage.tpop_id),localStorage.tpopmassnber_id||(localStorage.tpopmassnber_id=l),l||(l=localStorage.tpopmassnber_id),window.apf.leereFelderVonFormular("tpopmassnber"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblTeilPopMassnBericht/feld=TPopMassnBerId/wertNumber="+l,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.tpopmassnber=n,i("#TPopMassnBerJahr").val(n.TPopMassnBerJahr),i("#TPopMassnBerErfolgsbeurteilung"+n.TPopMassnBerErfolgsbeurteilung).prop("checked",!0),i("#TPopMassnBerTxt").val(n.TPopMassnBerTxt),window.apf.zeigeFormular("tpopmassnber"),history.pushState(null,null,"index.html?ap="+e+"&pop="+t+"&tpop="+r+"&tpopmassnber="+l),i("#TPopMassnBerJahr").focus())}).fail(function(){window.apf.melde("Fehler: keine Daten für den Massnahmen-Bericht erhalten")})):void a(e,t,r):void s(e,t):void o(e):void n()};t.exports=r},{"./initiiereAp":29,"./initiiereIndex":37,"./initiierePop":40,"./initiiereTPop":43,jquery:6}],48:[function(e,t){"use strict";var i=e("jquery"),n=e("./initiiereIndex"),o=e("./initiiereAp"),s=e("./initiiereApziel"),a=function(e,t,a){var r=i("#ZielBerJahr");return e||localStorage.ap_id?t||localStorage.apziel_id?a||localStorage.zielber_id?(localStorage.ap_id||(localStorage.ap_id=e),e||(e=localStorage.ap_id),localStorage.apziel_id||(localStorage.apziel_id=t),t||(t=localStorage.apziel_id),localStorage.zielber_id||(localStorage.zielber_id=a),a||(a=localStorage.zielber_id),window.apf.leereFelderVonFormular("zielber"),void i.ajax({type:"get",url:"api/v1/apflora/tabelle=tblZielBericht/feld=ZielBerId/wertString="+a,dataType:"json"}).done(function(n){n&&n[0]&&(n=n[0],window.apf.zielber=n,r.val(n.ZielBerJahr),i("#ZielBerErreichung").val(n.ZielBerErreichung),i("#ZielBerTxt").val(n.ZielBerTxt),window.apf.zeigeFormular("zielber"),history.pushState(null,null,"index.html?ap="+e+"&apziel="+t+"&zielber="+a),r.val()||r.focus())}).fail(function(){window.apf.melde("Fehler: Keine Daten für den Zielbericht erhalten")})):void s(e,t):void o(e):void n()};t.exports=a},{"./initiiereAp":29,"./initiiereApziel":30,"./initiiereIndex":37,jquery:6}],49:[function(e,t){"use strict";var i=e("jquery");e("jquery-ui"),t.exports=function(){return navigator.onLine?!0:(console.log("offline"),i("#offline_dialog").show().dialog({modal:!0,width:400,buttons:{Ok:function(){i(this).dialog("close")}}}),!1)}},{jquery:6,"jquery-ui":5}],50:[function(e,t){"use strict";e("jquery"),e("./pruefeLesevoraussetzungen");t.exports=function(){return window.apf.prüfeLesevoraussetzungen()?sessionStorage.NurLesen?(window.apf.melde("Sie haben keine Schreibrechte","Speichern abgebrochen"),!1):!0:void 0}},{"./pruefeLesevoraussetzungen":49,jquery:6}],51:[function(e,t){"use strict";var i=(e("jquery"),e("underscore")),n=function(t){function n(e,t,i){google.maps.event.addListener(t,"click",function(){s.setContent(i),s.open(e,t)})}var o,s,a,r,l,h,u,p,c,d,f,g,m,_,v,b,w,y=e("../lib/chToWgsLat"),k=e("../lib/chToWgsLng");window.apf.zeigeFormular("google_karte"),window.apf.gmap.markers_array=[],window.apf.gmap.info_window_array=[],s=new google.maps.InfoWindow,i.each(t,function(e,i){e.TPopXKoord&&e.TPopYKoord?(e.Lat=y(parseInt(e.TPopXKoord),parseInt(e.TPopYKoord)),e.Lng=k(parseInt(e.TPopXKoord),parseInt(e.TPopYKoord))):delete t[i]}),o=t.length,r=47.383333,l=8.533333,h=new google.maps.LatLng(r,l),u={zoom:15,center:h,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.SATELLITE},p=new google.maps.Map(document.getElementById("google_karten_div"),u),window.apf.gmap.map=p,c=new google.maps.LatLngBounds,d=[],i.each(t,function(e){f=e.TPopId,a=window.apf.beschrifteTPopMitNrFürKarte(e.PopNr,e.TPopNr),g=new google.maps.LatLng(e.Lat,e.Lng),1===o?h=g:c.extend(g),m=new MarkerWithLabel({map:p,position:g,title:a,labelContent:a,labelAnchor:new google.maps.Point(75,0),labelClass:"MapLabel",icon:"img/flora_icon.png"}),d.push(m),w=e.TPopFlurname||"(kein Flurname)",_='<div id="content"><div id="siteNotice"></div><div id="bodyContent" class="GmInfowindow"><h3>'+e.Artname+"</h3><p>Population: "+e.PopName+"</p><p>TPop: "+w+"</p><p>Koordinaten: "+e.TPopXKoord+" / "+e.TPopYKoord+'</p><p><a href="#" onclick="window.apf.öffneTPop(\''+e.TPopId+'\')">Formular anstelle Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneFormularAlsPopup(\'tpop\', '+e.TPopId+')">Formular neben der Karte öffnen</a></p><p><a href="#" onclick="window.apf.öffneTPopInNeuemTab(\''+e.TPopId+"')\">Formular in neuem Fenster öffnen</a></p></div></div>",n(p,m,_)}),v={maxZoom:17,styles:[{height:53,url:"img/m8.png",width:53}]},window.apf.google_karte_detailpläne=new google.maps.KmlLayer({url:"kml/rueteren.kmz",preserveViewport:!0}),window.apf.google_karte_detailpläne.setMap(null),b=new MarkerClusterer(p,d,v),1===o?(p.setCenter(h),p.setZoom(18)):p.fitBounds(c)};t.exports=n},{"../lib/chToWgsLat":9,"../lib/chToWgsLng":10,jquery:6,underscore:7}]},{},[1]),function(){var e=this,t=e._,i={},n=Array.prototype,o=Object.prototype,s=Function.prototype,a=n.push,r=n.slice,l=n.concat,h=o.toString,u=o.hasOwnProperty,p=n.forEach,c=n.map,d=n.reduce,f=n.reduceRight,g=n.filter,m=n.every,_=n.some,v=n.indexOf,b=n.lastIndexOf,w=Array.isArray,y=Object.keys,k=s.bind,x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,n){if(null!=e)if(p&&e.forEach===p)e.forEach(t,n);else if(e.length===+e.length){for(var o=0,s=e.length;s>o;o++)if(t.call(n,e[o],o,e)===i)return}else for(var a in e)if(x.has(e,a)&&t.call(n,e[a],a,e)===i)return};x.map=x.collect=function(e,t,i){var n=[];return null==e?n:c&&e.map===c?e.map(t,i):(T(e,function(e,o,s){n[n.length]=t.call(i,e,o,s)}),n)};var M="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,i,n){var o=arguments.length>2;if(null==e&&(e=[]),d&&e.reduce===d)return n&&(t=x.bind(t,n)),o?e.reduce(t,i):e.reduce(t);if(T(e,function(e,s,a){o?i=t.call(n,i,e,s,a):(i=e,o=!0)}),!o)throw new TypeError(M);return i},x.reduceRight=x.foldr=function(e,t,i,n){var o=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return n&&(t=x.bind(t,n)),o?e.reduceRight(t,i):e.reduceRight(t);var s=e.length;if(s!==+s){var a=x.keys(e);s=a.length}if(T(e,function(r,l,h){l=a?a[--s]:--s,o?i=t.call(n,i,e[l],l,h):(i=e[l],o=!0)}),!o)throw new TypeError(M);return i},x.find=x.detect=function(e,t,i){var n;return P(e,function(e,o,s){return t.call(i,e,o,s)?(n=e,!0):void 0}),n},x.filter=x.select=function(e,t,i){var n=[];return null==e?n:g&&e.filter===g?e.filter(t,i):(T(e,function(e,o,s){t.call(i,e,o,s)&&(n[n.length]=e)}),n)},x.reject=function(e,t,i){return x.filter(e,function(e,n,o){return!t.call(i,e,n,o)},i)},x.every=x.all=function(e,t,n){t||(t=x.identity);var o=!0;return null==e?o:m&&e.every===m?e.every(t,n):(T(e,function(e,s,a){return(o=o&&t.call(n,e,s,a))?void 0:i}),!!o)};var P=x.some=x.any=function(e,t,n){t||(t=x.identity);var o=!1;return null==e?o:_&&e.some===_?e.some(t,n):(T(e,function(e,s,a){return o||(o=t.call(n,e,s,a))?i:void 0}),!!o)};x.contains=x.include=function(e,t){return null==e?!1:v&&e.indexOf===v?-1!=e.indexOf(t):P(e,function(e){return e===t})},x.invoke=function(e,t){var i=r.call(arguments,2),n=x.isFunction(t);return x.map(e,function(e){return(n?t:e[t]).apply(e,i)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,i){return x.isEmpty(t)?i?null:[]:x[i?"find":"filter"](e,function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var n={computed:-1/0,value:-1/0};return T(e,function(e,o,s){var a=t?t.call(i,e,o,s):e;a>=n.computed&&(n={value:e,computed:a})}),n.value},x.min=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var n={computed:1/0,value:1/0};return T(e,function(e,o,s){var a=t?t.call(i,e,o,s):e;n.computed>a&&(n={value:e,computed:a})}),n.value},x.shuffle=function(e){var t,i=0,n=[];return T(e,function(e){t=x.random(i++),n[i-1]=n[t],n[t]=e}),n};var I=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,i){var n=I(t);return x.pluck(x.map(e,function(e,t,o){return{value:e,index:t,criteria:n.call(i,e,t,o)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index<t.index?-1:1}),"value")};var C=function(e,t,i,n){var o={},s=I(t||x.identity);return T(e,function(t,a){var r=s.call(i,t,a,e);n(o,r,t)}),o};x.groupBy=function(e,t,i){return C(e,t,i,function(e,t,i){(x.has(e,t)?e[t]:e[t]=[]).push(i)})},x.countBy=function(e,t,i){return C(e,t,i,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,i,n){i=null==i?x.identity:I(i);for(var o=i.call(n,t),s=0,a=e.length;a>s;){var r=s+a>>>1;o>i.call(n,e[r])?s=r+1:a=r}return s},x.toArray=function(e){return e?x.isArray(e)?r.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:r.call(e,0,t)},x.initial=function(e,t,i){return r.call(e,0,e.length-(null==t||i?1:t))},x.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:r.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,i){return r.call(e,null==t||i?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var S=function(e,t,i){return T(e,function(e){x.isArray(e)?t?a.apply(i,e):S(e,t,i):i.push(e)}),i};x.flatten=function(e,t){return S(e,t,[])},x.without=function(e){return x.difference(e,r.call(arguments,1))},x.uniq=x.unique=function(e,t,i,n){x.isFunction(t)&&(n=i,i=t,t=!1);var o=i?x.map(e,i,n):e,s=[],a=[];return T(o,function(i,n){(t?n&&a[a.length-1]===i:x.contains(a,i))||(a.push(i),s.push(e[n]))}),s},x.union=function(){return x.uniq(l.apply(n,arguments))},x.intersection=function(e){var t=r.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=l.apply(n,r.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=r.call(arguments),t=x.max(x.pluck(e,"length")),i=Array(t),n=0;t>n;n++)i[n]=x.pluck(e,""+n);return i},x.object=function(e,t){if(null==e)return{};for(var i={},n=0,o=e.length;o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},x.indexOf=function(e,t,i){if(null==e)return-1;var n=0,o=e.length;if(i){if("number"!=typeof i)return n=x.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,o+i):i}if(v&&e.indexOf===v)return e.indexOf(t,i);for(;o>n;n++)if(e[n]===t)return n;return-1},x.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(b&&e.lastIndexOf===b)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var o=n?i:e.length;o--;)if(e[o]===t)return o;return-1},x.range=function(e,t,i){1>=arguments.length&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=0,s=Array(n);n>o;)s[o++]=e,e+=i;return s},x.bind=function(e,t){if(e.bind===k&&k)return k.apply(e,r.call(arguments,1));var i=r.call(arguments,2);return function(){return e.apply(t,i.concat(r.call(arguments)))}},x.partial=function(e){var t=r.call(arguments,1);return function(){return e.apply(this,t.concat(r.call(arguments)))}},x.bindAll=function(e){var t=r.call(arguments,1);return 0===t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var i={};return t||(t=x.identity),function(){var n=t.apply(this,arguments);return x.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},x.delay=function(e,t){var i=r.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(r.call(arguments,1)))},x.throttle=function(e,t){var i,n,o,s,a=0,r=function(){a=new Date,o=null,s=e.apply(i,n)};return function(){var l=new Date,h=t-(l-a);return i=this,n=arguments,0>=h?(clearTimeout(o),o=null,a=l,s=e.apply(i,n)):o||(o=setTimeout(r,h)),s}},x.debounce=function(e,t,i){var n,o;return function(){var s=this,a=arguments,r=function(){n=null,i||(o=e.apply(s,a))},l=i&&!n;return clearTimeout(n),n=setTimeout(r,t),l&&(o=e.apply(s,a)),o}},x.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var i=[e];return a.apply(i,arguments),t.apply(this,i)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=y||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)x.has(e,i)&&(t[t.length]=i);return t},x.values=function(e){var t=[];for(var i in e)x.has(e,i)&&t.push(e[i]);return t},x.pairs=function(e){var t=[];for(var i in e)x.has(e,i)&&t.push([i,e[i]]);return t},x.invert=function(e){var t={};for(var i in e)x.has(e,i)&&(t[e[i]]=i);return t},x.functions=x.methods=function(e){var t=[];for(var i in e)x.isFunction(e[i])&&t.push(i);return t.sort()},x.extend=function(e){return T(r.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},x.pick=function(e){var t={},i=l.apply(n,r.call(arguments,1));return T(i,function(i){i in e&&(t[i]=e[i])}),t},x.omit=function(e){var t={},i=l.apply(n,r.call(arguments,1));for(var o in e)x.contains(i,o)||(t[o]=e[o]);return t},x.defaults=function(e){return T(r.call(arguments,1),function(t){if(t)for(var i in t)null==e[i]&&(e[i]=t[i])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var D=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var o=h.call(e);if(o!=h.call(t))return!1;switch(o){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=i.length;s--;)if(i[s]==e)return n[s]==t;i.push(e),n.push(t);var a=0,r=!0;if("[object Array]"==o){if(a=e.length,r=a==t.length)for(;a--&&(r=D(e[a],t[a],i,n)););}else{var l=e.constructor,u=t.constructor;if(l!==u&&!(x.isFunction(l)&&l instanceof l&&x.isFunction(u)&&u instanceof u))return!1;for(var p in e)if(x.has(e,p)&&(a++,!(r=x.has(t,p)&&D(e[p],t[p],i,n))))break;if(r){for(p in t)if(x.has(t,p)&&!a--)break;r=!a}}return i.pop(),n.pop(),r};x.isEqual=function(e,t){return D(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=w||function(e){return"[object Array]"==h.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return h.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==h.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return u.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,i){for(var n=Array(e),o=0;e>o;o++)n[o]=t.call(i,o);return n},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var z={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};z.unescape=x.invert(z.escape);var A={escape:RegExp("["+x.keys(z.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(z.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(A[e],function(t){return z[e][t]})}}),x.result=function(e,t){if(null==e)return null;var i=e[t];return x.isFunction(i)?i.call(e):i},x.mixin=function(e){T(x.functions(e),function(t){var i=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),B.call(this,i.apply(x,e))}})};var j=0;x.uniqueId=function(e){var t=++j+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,E={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,i){var n;i=x.defaults({},i,x.templateSettings);var o=RegExp([(i.escape||N).source,(i.interpolate||N).source,(i.evaluate||N).source].join("|")+"|$","g"),s=0,a="__p+='";e.replace(o,function(t,i,n,o,r){return a+=e.slice(s,r).replace(F,function(e){return"\\"+E[e]}),i&&(a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),s=r+t.length,t}),a+="';\n",i.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=Function(i.variable||"obj","_",a)}catch(r){throw r.source=a,r}if(t)return n(t,x);var l=function(e){return n.call(this,e,x)};return l.source="function("+(i.variable||"obj")+"){\n"+a+"}",l},x.chain=function(e){return x(e).chain()};var B=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];x.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],B.call(this,i)}}),T(["concat","join","slice"],function(e){var t=n[e];x.prototype[e]=function(){return B.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);